<!DOCTYPE html>
<html lang="en" dir="ltr">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content="ÁÆóÊ≥ïÈ¢òÁõÆÊ±áÊÄªËÆ≤Ëß£">
<title>LeetcodeÁÆóÊ≥ïÊÄùËÄÉ</title>

<link rel='canonical' href='https://114514yangyi.github.io/huyang/p/leetcode%E7%AE%97%E6%B3%95%E6%80%9D%E8%80%83/'>

<link rel="stylesheet" href="/huyang/scss/style.min.d3155b48d3f5e651913a4712b8065e284fd3889f067f1ac6e6ec77400046eba5.css"><meta property='og:title' content="LeetcodeÁÆóÊ≥ïÊÄùËÄÉ">
<meta property='og:description' content="ÁÆóÊ≥ïÈ¢òÁõÆÊ±áÊÄªËÆ≤Ëß£">
<meta property='og:url' content='https://114514yangyi.github.io/huyang/p/leetcode%E7%AE%97%E6%B3%95%E6%80%9D%E8%80%83/'>
<meta property='og:site_name' content='Hu Yang&#39;s Blog'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:published_time' content='2025-05-18T00:00:00&#43;00:00'/><meta property='article:modified_time' content='2020-10-09T00:00:00&#43;00:00'/>
<meta name="twitter:title" content="LeetcodeÁÆóÊ≥ïÊÄùËÄÉ">
<meta name="twitter:description" content="ÁÆóÊ≥ïÈ¢òÁõÆÊ±áÊÄªËÆ≤Ëß£">
    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="Toggle Menu">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/huyang/">
                
                    
                    
                    
                        
                        <img src="/huyang/img/logo-transparent_hu_2593eda3cf734d42.png" width="300"
                            height="300" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
                    <span class="emoji">üç•</span>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="/huyang">Hu Yang&#39;s Blog</a></h1>
            <h2 class="site-description">Blog</h2>
        </div>
    </header><ol class="menu-social">
            
                <li>
                    <a 
                        href='https://114514yangyi.github.io/huyang/'
                        target="_blank"
                        title="GitHub"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5" />
</svg>



                        
                    </a>
                </li>
            
                <li>
                    <a 
                        href='2416572689@qq.com'
                        target="_blank"
                        title="QQ"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-twitter" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M22 4.01c-1 .49 -1.98 .689 -3 .99c-1.121 -1.265 -2.783 -1.335 -4.38 -.737s-2.643 2.06 -2.62 3.737v1c-3.245 .083 -6.135 -1.395 -8 -4c0 0 -4.182 7.433 4 11c-1.872 1.247 -3.739 2.088 -6 2c3.308 1.803 6.913 2.423 10.034 1.517c3.58 -1.04 6.522 -3.723 7.651 -7.742a13.84 13.84 0 0 0 .497 -3.753c-.002 -.249 1.51 -2.772 1.818 -4.013z" />
</svg>



                        
                    </a>
                </li>
            
        </ol><ol class="menu" id="main-menu">
        
        
        
        <li >
            <a href='/huyang/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="5 12 3 12 12 3 21 12 19 12" />
  <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
  <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
</svg>



                
                <span>Home</span>
            </a>
        </li>
        
        
        <li >
            <a href='/huyang/about/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="7" r="4" />
  <path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" />
</svg>



                
                <span>About</span>
            </a>
        </li>
        
        
        <li >
            <a href='/huyang/archives/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <rect x="3" y="4" width="18" height="4" rx="2" />
  <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" />
  <line x1="10" y1="12" x2="14" y2="12" />
</svg>



                
                <span>Archives</span>
            </a>
        </li>
        
        
        <li >
            <a href='/huyang/search/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>



                
                <span>Search</span>
            </a>
        </li>
        
        
        <li >
            <a href='/huyang/links/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5" />
  <path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5" />
</svg>



                
                <span>Links</span>
            </a>
        </li>
        
        <li class="menu-bottom-section">
            <ol class="menu">
                    
                        <li id="i18n-switch">  
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M4 5h7" />
  <path d="M9 3v2c0 4.418 -2.239 8 -5 8" />
  <path d="M5 9c-.003 2.144 2.952 3.908 6.7 4" />
  <path d="M12 20l4 -9l4 9" />
  <path d="M19.1 18h-6.2" />
</svg>



                            <select name="language" title="language" onchange="window.location.href = this.selectedOptions[0].value">
                                
                                    <option value="https://114514yangyi.github.io/huyang/" selected>English</option>
                                
                                    <option value="https://114514yangyi.github.io/huyang/zh-cn/" >‰∏≠Êñá</option>
                                
                                    <option value="https://114514yangyi.github.io/huyang/ar/" >ÿπÿ±ÿ®Ÿä</option>
                                
                            </select>
                        </li>
                    
                

                
                    <li id="dark-mode-toggle">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <span>Dark Mode</span>
                    </li>
                
            </ol>
        </li>
    </ol>
</aside>

    <aside class="sidebar right-sidebar sticky">
        
            
                
    <section class="widget archives">
        <div class="widget-icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



        </div>
        <h2 class="widget-title section-title">Table of contents</h2>
        
        <div class="widget--toc">
            <nav id="TableOfContents">
  <ol>
    <li><a href="#Ê†ëÁä∂Êï∞ÁªÑ">Ê†ëÁä∂Êï∞ÁªÑ:</a></li>
    <li><a href="#upper_bound">upper_bound</a></li>
    <li><a href="#ÊªëÂä®Á™óÂè£">ÊªëÂä®Á™óÂè£</a></li>
    <li><a href="#ÁèÇÊúµËéâÊ†ë">ÁèÇÊúµËéâÊ†ë</a></li>
    <li><a href="#ÈùôÊÄÅÁ∫øÊÆµÊ†ë4n">ÈùôÊÄÅÁ∫øÊÆµÊ†ë(4N)</a></li>
    <li><a href="#Âä®ÊÄÅÂºÄÁÇπÁ∫øÊÆµÊ†ë">Âä®ÊÄÅÂºÄÁÇπÁ∫øÊÆµÊ†ë</a></li>
    <li><a href="#Âπ∂Êü•ÈõÜ">Âπ∂Êü•ÈõÜ</a></li>
    <li><a href="#‰ΩçËøêÁÆó">‰ΩçËøêÁÆó</a></li>
    <li><a href="#Êï∞ÊçÆÁªìÊûÑ">Êï∞ÊçÆÁªìÊûÑ</a></li>
    <li><a href="#ÂçïË∞ÉÊ†à">ÂçïË∞ÉÊ†à</a></li>
    <li><a href="#ÊúÄÂ§ßÂ†ÜÊúÄÂ∞èÂ†Ü">ÊúÄÂ§ßÂ†Ü/ÊúÄÂ∞èÂ†Ü</a></li>
    <li><a href="#ÊúÄÁü≠Ë∑ØÂæÑÁÆóÊ≥ï">ÊúÄÁü≠Ë∑ØÂæÑÁÆóÊ≥ï</a>
      <ol>
        <li><a href="#dijkstraÁÆóÊ≥ïÊûÅÁÆÄÁâà">DijkstraÁÆóÊ≥ïÔºàÊûÅÁÆÄÁâàÔºâ</a></li>
      </ol>
    </li>
    <li><a href="#ÂâçÁºÄÂíå">ÂâçÁºÄÂíå</a></li>
    <li><a href="#Â§ßÊï∞Ê±ÇÊ®°">Â§ßÊï∞Ê±ÇÊ®°</a>
      <ol>
        <li><a href="#Ë¥πÈ©¨ÂÆöÁêÜËØÅÊòé">Ë¥πÈ©¨ÂÆöÁêÜËØÅÊòé</a></li>
        <li><a href="#Êâ©Â±ïÊ¨ßÂá†ÈáåÂæó">Êâ©Â±ïÊ¨ßÂá†ÈáåÂæó</a></li>
      </ol>
    </li>
    <li><a href="#Âä®ÊÄÅËßÑÂàíÁöÑÁ≤æÁõäÊÄùÊÉ≥">Âä®ÊÄÅËßÑÂàíÁöÑÁ≤æÁõäÊÄùÊÉ≥</a>
      <ol>
        <li><a href="#1-Êú¥Á¥†-dfs--Êö¥ÂäõÈÄíÂΩí">1. Êú¥Á¥† DFS / Êö¥ÂäõÈÄíÂΩí</a></li>
        <li><a href="#2-ËÆ∞ÂøÜÂåñÊêúÁ¥¢-memoized-dfs--top-down-dp">2. ËÆ∞ÂøÜÂåñÊêúÁ¥¢ (Memoized DFS / Top-Down DP)</a></li>
        <li><a href="#3-Â§öÁª¥ÈÄöÂ∏∏‰∫åÁª¥dp-Êï∞ÁªÑ-bottom-up-dp">3. Â§öÁª¥ÔºàÈÄöÂ∏∏‰∫åÁª¥ÔºâDP Êï∞ÁªÑ (Bottom-Up DP)</a></li>
        <li><a href="#4-dp-Êï∞ÁªÑÈôçÁª¥-Á©∫Èó¥‰ºòÂåñ">4. DP Êï∞ÁªÑÈôçÁª¥ (Á©∫Èó¥‰ºòÂåñ)</a></li>
        <li><a href="#5-Áä∂ÊÄÅËΩ¨ÁßªÁü©Èòµ--Áü©ÈòµÂø´ÈÄüÂπÇ">5. Áä∂ÊÄÅËΩ¨ÁßªÁü©Èòµ + Áü©ÈòµÂø´ÈÄüÂπÇ</a></li>
      </ol>
    </li>
    <li><a href="#dpÂèòÁßç">DPÂèòÁßç</a>
      <ol>
        <li><a href="#Áä∂ÊÄÅÈõÜdp">Áä∂ÊÄÅÈõÜDP</a></li>
        <li><a href="#Áä∂ÊÄÅÊú∫ÊåØËç°dp">Áä∂ÊÄÅÊú∫ÔºàÊåØËç°ÔºâDP</a></li>
        <li><a href="#Â≠óÁ¨¶ÈõÜÂä®ÊÄÅËßÑÂàí-character-set-dp-ÊñπÊ≥ï‰∏éÊÄùË∑ØÊÄªÁªì">Â≠óÁ¨¶ÈõÜÂä®ÊÄÅËßÑÂàí (Character Set DP) ÊñπÊ≥ï‰∏éÊÄùË∑ØÊÄªÁªì</a>
          <ol>
            <li><a href="#1-Ê†∏ÂøÉÊÄùÊÉ≥">1. Ê†∏ÂøÉÊÄùÊÉ≥</a></li>
            <li><a href="#2-ÈÄöÁî®ÊñπÊ≥ïÊ≠•È™§">2. ÈÄöÁî®ÊñπÊ≥ïÊ≠•È™§</a></li>
            <li><a href="#3-ÈÄÇÁî®Âú∫ÊôØ">3. ÈÄÇÁî®Âú∫ÊôØ</a></li>
          </ol>
        </li>
        <li><a href="#Ê†ëÂΩ¢Âä®ÊÄÅËßÑÂàí-tree-dp-ÊñπÊ≥ï‰∏éÊÄùË∑ØÊÄªÁªì">Ê†ëÂΩ¢Âä®ÊÄÅËßÑÂàí (Tree DP) ÊñπÊ≥ï‰∏éÊÄùË∑ØÊÄªÁªì</a>
          <ol>
            <li><a href="#1-Ê†∏ÂøÉÊÄùÊÉ≥-1">1. Ê†∏ÂøÉÊÄùÊÉ≥</a></li>
            <li><a href="#2-ÈÄöÁî®ÊñπÊ≥ïÊ≠•È™§-1">2. ÈÄöÁî®ÊñπÊ≥ïÊ≠•È™§</a></li>
            <li><a href="#3-ÈÄÇÁî®Âú∫ÊôØ-1">3. ÈÄÇÁî®Âú∫ÊôØ</a></li>
          </ol>
        </li>
      </ol>
    </li>
    <li><a href="#Âå∫Èó¥ËûçÂêà">Âå∫Èó¥ËûçÂêà</a></li>
    <li><a href="#Êü•ÂàÜÊï∞ÁªÑÊÄßË¥®">Êü•ÂàÜÊï∞ÁªÑÊÄßË¥®</a></li>
    <li><a href="#‰ªéÁéØÊüìËâ≤Âà∞ÈÄíÊé®ÊÄùÊÉ≥">‰ªéÁéØÊüìËâ≤Âà∞ÈÄíÊé®ÊÄùÊÉ≥</a></li>
  </ol>

  <ol>
    <li><a href="#1-ÈóÆÈ¢òÂÆö‰πâ‰∏éÁ¨¶Âè∑Á∫¶ÂÆö">1. ÈóÆÈ¢òÂÆö‰πâ‰∏éÁ¨¶Âè∑Á∫¶ÂÆö</a></li>
    <li><a href="#2-ËæÖÂä©Áä∂ÊÄÅÂÆö‰πâ-Ë∑ØÂæÑÊüìËâ≤">2. ËæÖÂä©Áä∂ÊÄÅÂÆö‰πâ (Ë∑ØÂæÑÊüìËâ≤)</a></li>
    <li><a href="#3-ÈÄíÊé®ÂÖ≥Á≥ªÁöÑÂª∫Á´ã">3. ÈÄíÊé®ÂÖ≥Á≥ªÁöÑÂª∫Á´ã</a>
      <ol>
        <li><a href="#31-b_i-ÁöÑÈÄíÊé®ÂÖ≥Á≥ª">3.1. $B_i$ ÁöÑÈÄíÊé®ÂÖ≥Á≥ª</a></li>
        <li><a href="#32-c_i-ÁöÑÈÄíÊé®ÂÖ≥Á≥ª">3.2. $C_i$ ÁöÑÈÄíÊé®ÂÖ≥Á≥ª</a></li>
      </ol>
    </li>
    <li><a href="#4-ÁéØÊüìËâ≤ÊñπÊ°àÊï∞-s_n-ÁöÑË°®ËææÂºè">4. ÁéØÊüìËâ≤ÊñπÊ°àÊï∞ $S_n$ ÁöÑË°®ËææÂºè</a></li>
    <li><a href="#5-s_n-‰∏é-c_n-ÁöÑÂÖ≥Á≥ª">5. $S_n$ ‰∏é $C_n$ ÁöÑÂÖ≥Á≥ª</a></li>
    <li><a href="#6-ÊúÄÁªàÈÄíÊé®ÂÖ¨Âºè">6. ÊúÄÁªàÈÄíÊé®ÂÖ¨Âºè</a></li>
    <li><a href="#7-ÂàùÂßãÊù°‰ª∂">7. ÂàùÂßãÊù°‰ª∂</a>
      <ol>
        <li><a href="#1‰º†ÁêÉÈóÆÈ¢ò">Ôºà1Ôºâ‰º†ÁêÉÈóÆÈ¢ò</a></li>
        <li><a href="#2">(2)</a></li>
        <li><a href="#3ÂÖ®Èîô‰ΩçÊéíÂàóÈóÆÈ¢ò">(3)<a href="https://zhida.zhihu.com/search?content_id=192498207&amp;content_type=Article&amp;match_order=1&amp;q=%E5%85%A8%E9%94%99%E4%BD%8D%E6%8E%92%E5%88%97&amp;zd_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJ6aGlkYV9zZXJ2ZXIiLCJleHAiOjE3NDc4ODM5ODQsInEiOiLlhajplJnkvY3mjpLliJciLCJ6aGlkYV9zb3VyY2UiOiJlbnRpdHkiLCJjb250ZW50X2lkIjoxOTI0OTgyMDcsImNvbnRlbnRfdHlwZSI6IkFydGljbGUiLCJtYXRjaF9vcmRlciI6MSwiemRfdG9rZW4iOm51bGx9.2I5z29BbhABKOFn9Kqf57yny_XRf1mQ9gVbyxHjtwg0&amp;zhida_source=entity">ÂÖ®Èîô‰ΩçÊéíÂàó</a>ÈóÆÈ¢ò</a></li>
      </ol>
    </li>
    <li><a href="#‰∫åÂàÜÊü•ÊâæÂú®Êª°Ë∂≥ÂçïË∞ÉÊÄßÊù°‰ª∂ÁöÑÂáΩÊï∞‰∏≠ÂØªÊâæÁâπÂÆöËæπÁïåÂÄº">‰∫åÂàÜÊü•ÊâæÂú®Êª°Ë∂≥ÂçïË∞ÉÊÄßÊù°‰ª∂ÁöÑÂáΩÊï∞‰∏≠ÂØªÊâæÁâπÂÆöËæπÁïåÂÄº</a></li>
    <li><a href="#Â¶Ç‰ΩïËØÜÂà´‰∏éËß£ÂÜ≥Ë¥™ÂøÉÁÆóÊ≥ïÈóÆÈ¢ò-">Â¶Ç‰ΩïËØÜÂà´‰∏éËß£ÂÜ≥Ë¥™ÂøÉÁÆóÊ≥ïÈóÆÈ¢ò üßê</a>
      <ol>
        <li><a href="#1-ËØÜÂà´Ë¥™ÂøÉÈóÆÈ¢ò"><strong>1. ËØÜÂà´Ë¥™ÂøÉÈóÆÈ¢ò</strong></a></li>
        <li><a href="#2-ÊûÑÂª∫Ë¥™ÂøÉÁ≠ñÁï•"><strong>2. ÊûÑÂª∫Ë¥™ÂøÉÁ≠ñÁï•</strong></a></li>
        <li><a href="#3-Ë¥™ÂøÉÁÆóÊ≥ïÈÖçÂêàÂ†ÜÁöÑÈÄöÁî®Ê®°ÊùøÁ±ª‰ºº‰Ω†ÁöÑÈ¢òÁõÆ"><strong>3. Ë¥™ÂøÉÁÆóÊ≥ïÈÖçÂêàÂ†ÜÁöÑÈÄöÁî®Ê®°ÊùøÔºàÁ±ª‰ºº‰Ω†ÁöÑÈ¢òÁõÆÔºâ</strong></a></li>
        <li><a href="#‰∏∫‰ªÄ‰πà‰ΩøÁî®Â∑ÆÂàÜÊï∞ÁªÑ"><strong>‰∏∫‰ªÄ‰πà‰ΩøÁî®Â∑ÆÂàÜÊï∞ÁªÑÔºüü§î</strong></a></li>
      </ol>
    </li>
    <li><a href="#ÂõæÁöÑÊãìÊâëÊéíÂ∫è">ÂõæÁöÑÊãìÊâëÊéíÂ∫è</a>
      <ol>
        <li><a href="#dfs-ÊãìÊâëÊéíÂ∫èÁÆóÊ≥ï">DFS ÊãìÊâëÊéíÂ∫èÁÆóÊ≥ï</a></li>
        <li><a href="#kahn-ÁÆóÊ≥ï-Âü∫‰∫éÂÖ•Â∫¶">Kahn ÁÆóÊ≥ï (Âü∫‰∫éÂÖ•Â∫¶)</a></li>
      </ol>
    </li>
    <li><a href="#ÁªÑÂêàÊï∞ÈÄíÊé®ÂÖ≥Á≥ª">ÁªÑÂêàÊï∞ÈÄíÊé®ÂÖ≥Á≥ª</a>
      <ol>
        <li><a href="#c-ËÆ°ÁÆóÁªÑÂêàÊï∞‰ª£Á†Å">C++ ËÆ°ÁÆóÁªÑÂêàÊï∞‰ª£Á†Å</a></li>
      </ol>
    </li>
    <li><a href="#ÊõºÂìàÈ°øË∑ùÁ¶ªÁ≠â‰ª∑ÂÖ¨ÂºèÊé®ÂØº">ÊõºÂìàÈ°øË∑ùÁ¶ªÁ≠â‰ª∑ÂÖ¨ÂºèÊé®ÂØº</a></li>
  </ol>
</nav>
        </div>
    </section>

            
        
    </aside>


            <main class="main full-width">
    <article class="main-article">
    <header class="article-header">

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="/huyang/categories/%E7%AE%97%E6%B3%95/" style="background-color: #2a9d8f; color: #fff;">
                ÁÆóÊ≥ï
            </a>
        
    </header>
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/huyang/p/leetcode%E7%AE%97%E6%B3%95%E6%80%9D%E8%80%83/">LeetcodeÁÆóÊ≥ïÊÄùËÄÉ</a>
        </h2>
    
        
        <h3 class="article-subtitle">
            ÁÆóÊ≥ïÈ¢òÁõÆÊ±áÊÄªËÆ≤Ëß£
        </h3>
        
    </div>

    
    
    
    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">May 18, 2025</time>
            </div>
        

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    44 minute read
                </time>
            </div>
        
    </footer>
    

    
</div>

</header>

    <section class="article-content">
    
    
    <h1 id="ÁÆóÊ≥ï">ÁÆóÊ≥ï
</h1><h2 id="Ê†ëÁä∂Êï∞ÁªÑ">Ê†ëÁä∂Êï∞ÁªÑ:
</h2><p>ËÆ≤Ëß£:Ê†ëÁä∂Êï∞ÁªÑ:</p>
<p>„Äê‰∫îÂàÜÈíü‰∏ùÊªëÂä®ÁîªËÆ≤Ëß£ | Ê†ëÁä∂Êï∞ÁªÑ„Äë <a class="link" href="https://www.bilibili.com/video/BV1ce411u7qP/?share_source=copy_web&amp;vd_source=ab6f092f3525a4cf3eabb140987cdedf"  target="_blank" rel="noopener"
    >https://www.bilibili.com/video/BV1ce411u7qP/?share_source=copy_web&vd_source=ab6f092f3525a4cf3eabb140987cdedf</a></p>
<p>Êï∞ÊçÆÁªìÊûÑ:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">BIT</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="k">private</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">    <span class="n">vector</span><span class="o">&lt;</span><span class="kt">long</span> <span class="kt">long</span><span class="o">&gt;</span> <span class="n">tree</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">n</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// Áî®‰∫éÊü•ËØ¢Ê†ëÁä∂Êï∞ÁªÑÁöÑÂâçÁºÄÂíå
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kt">long</span> <span class="kt">long</span> <span class="nf">pre</span><span class="p">(</span><span class="kt">int</span> <span class="n">idx</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kt">long</span> <span class="kt">long</span> <span class="n">sum</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">while</span> <span class="p">(</span><span class="n">idx</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">sum</span> <span class="o">+=</span> <span class="n">tree</span><span class="p">[</span><span class="n">idx</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">            <span class="n">idx</span> <span class="o">-=</span> <span class="n">lowbit</span><span class="p">(</span><span class="n">idx</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">sum</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// Êõ¥Êñ∞Ê†ëÁä∂Êï∞ÁªÑ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kt">void</span> <span class="nf">update</span><span class="p">(</span><span class="kt">int</span> <span class="n">idx</span><span class="p">,</span> <span class="kt">long</span> <span class="kt">long</span> <span class="n">val</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">while</span> <span class="p">(</span><span class="n">idx</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">tree</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="o">+=</span> <span class="n">val</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="n">idx</span> <span class="o">+=</span> <span class="n">lowbit</span><span class="p">(</span><span class="n">idx</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">  	<span class="kt">long</span> <span class="kt">long</span> <span class="nf">lowbit</span><span class="p">(</span><span class="kt">int</span> <span class="n">idx</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="n">idx</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">idx</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>[!NOTE]</p>
<p><a class="link" href="https://leetcode.cn/problems/count-good-triplets-in-an-array/solutions/1277695/deng-jie-zhuan-huan-shu-zhuang-shu-zu-by-xmyd"  target="_blank" rel="noopener"
    >https://leetcode.cn/problems/count-good-triplets-in-an-array/solutions/1277695/deng-jie-zhuan-huan-shu-zhuang-shu-zu-by-xmyd</a>
‰ΩøÁî®ËΩ¨ÁΩÆÂ∞Ü‰∏Ä‰∏™ÊéíÂàóÊúâÂ∫èÂåñ,ËøôÊ†∑Â≠êÂ∞±Âè™Áî®ÂÖ≥Ê≥®Âè¶‰∏Ä‰∏™ÊéíÂàóÂç≥ÂèØ;</p></blockquote>
<h2 id="upper_bound">upper_bound
</h2><p>‰∏Ä‰∏ãÊâÄÊúâÁöÑËØ¥ÊòéÈÉΩÊòØÂØπ‰∫é‰∏Ä‰∏™ÂçáÂ∫èÊï∞ÁªÑ:</p>
<p>upper_bound:ËøîÂõûÁ¨¨‰∏Ä‰∏™Â§ß‰∫é val ÁöÑËø≠‰ª£Âô®;</p>
<p>lower_bound:ËøîÂõûÁ¨¨‰∏Ä‰∏™Â§ß‰∫éÁ≠â‰∫é val ÁöÑËø≠‰ª£Âô®;</p>
<p>ÈáçËΩΩ:</p>
<p><code>bool cpm(int val,int element){</code></p>
<p><code>return val&lt;element;</code></p>
<p><code>}</code></p>
<p>ÂØπ‰∫éÂ§ß‰∫éÂè∑ÁöÑÊñπÂºè,Ë°®Á§∫ÁöÑÂê´‰πâÂ∞±ÂèçËøáÊù•‰∫Ü:</p>
<p>upper_bound:ËøîÂõûÁ¨¨‰∏Ä‰∏™Â∞è‰∫é val ÁöÑËø≠‰ª£Âô®;</p>
<p>lower_bound:ËøîÂõûÁ¨¨‰∏Ä‰∏™Â∞è‰∫éÁ≠â‰∫é val ÁöÑËø≠‰ª£Âô®;</p>
<h2 id="ÊªëÂä®Á™óÂè£">ÊªëÂä®Á™óÂè£
</h2><p>ÈÄÇÁî®‰∫éÂØπ‰∫éÂ≠êÊï∞ÁªÑ+Áª¥ÊåÅ‰∏Ä‰∏™Â≠êÊï∞ÁªÑÁöÑÁä∂ÊÄÅ</p>
<p>ÁÆóÊ≥ïÊ®°Áâà:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">left</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">ans</span><span class="o">=</span><span class="mi">0</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">right</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">right</span><span class="o">&lt;</span><span class="n">n</span><span class="p">;</span><span class="n">right</span><span class="o">++</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">  <span class="nl">update</span><span class="p">:</span><span class="err">Á™óÂè£ÂÜÖ‰ø°ÊÅØ</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="k">while</span><span class="p">(</span><span class="err">Á¨¶ÂêàÈ¢òÊÑè</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">    <span class="n">left</span><span class="o">++</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="err">Êõ¥Êñ∞Áä∂ÊÄÅ</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="err">Ê±ÇËß£</span> <span class="n">ans</span> <span class="err">Êõ¥Êñ∞</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">return</span> <span class="n">ans</span><span class="p">;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ËøôÈáåËøòÊúâÂè¶‰∏ÄÁßçËÆ°ÁÆóÊªëÂä®Á™óÂè£ÁöÑÊñπÊ≥ï:</p>
<p>Â∞±ÊòØ‰ΩøÁî® for Âæ™ÁéØ‰∏çÊñ≠Êõ¥Êñ∞‰∏äÁïåÈôê right,ÁÑ∂ÂêéÊØèÊ¨°ÈÉΩËÆ°ÁÆó‰∏ãÁïåÈôê,Âπ∂‰∏îÂ∞Ü res+=left-start</p>
<p>ËøôÁßçËÆ°ÁÆóÊªëÂä®Á™óÂè£ÁöÑÊ®°ÂºèÈÄÇÁî®‰∫é:ËÆ°ÁÆóÂú®‰∏Ä‰∏™ nums ‰∏≠Êã•ÊúâÂ§öÂ∞ë‰∏™Êª°Ë∂≥ÁöÑÂ≠êÊï∞ÁªÑÊï∞Èáè.Âπ∂‰∏îËøôÁßçÂ≠êÊï∞ÁªÑÊó∂Êª°Ë∂≥ÊúÄÂ∞èÊª°Ë∂≥ÂΩ¢ÊÄÅÁöÑ,‰πüÂ∞±ÊòØÂÅáÂ¶Ç‰∏Ä‰∏™Â≠êÊï∞ÁªÑÊª°Ë∂≥Êù°‰ª∂,ÈÇ£‰πàÂÜçÁªô‰ªñÊ∑ªÂä†Êï∞Â≠ó,Â≠êÊï∞ÁªÑ‰ªªÁÑ∂Êª°Ë∂≥Êù°‰ª∂.</p>
<p>‰∏ãÈù¢ÊòØÊ®°Êùø:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">nums</span><span class="p">.</span><span class="n">size</span><span class="p">();</span><span class="n">i</span><span class="o">++</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">	<span class="n">update</span> <span class="n">the</span> <span class="n">left</span> <span class="n">bound</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="n">res</span><span class="o">+=</span><span class="n">left</span><span class="o">-</span><span class="n">start</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="ÁèÇÊúµËéâÊ†ë">ÁèÇÊúµËéâÊ†ë
</h2><p>Áî®‰∏ÄÈ¢óÂπ≥Ë°°Ê†ëÁª¥Êä§‰∏çÁõ∏‰∫§ÁöÑÂå∫Èó¥ÔºåÊØèÊ¨° add(left,right) Êó∂ÔºåÂà†Èô§Ë¢´ËØ•Âå∫Èó¥Ë¶ÜÁõñÂà∞ÁöÑÂå∫Èó¥ÔºàÈÉ®ÂàÜË¶ÜÁõñ‰πüÁÆóÔºâÔºåÁÑ∂ÂêéÂ∞ÜË¢´Âà†Èô§ÁöÑÂå∫Èó¥‰∏é [left,right] ÂêàÂπ∂Êàê‰∏Ä‰∏™Êñ∞ÁöÑÂ§ßÂå∫Èó¥ÔºàÂπ∂ÈõÜÔºâÔºåÊèíÂÖ•Âπ≥Ë°°Ê†ë‰∏≠„ÄÇ</p>
<p>‰ª£Á†ÅÂÆûÁé∞Êó∂Ôºå‰∏∫Êñπ‰æøÊâæÂà∞Á¨¨‰∏Ä‰∏™Ë¢´ [left,right] Ë¶ÜÁõñÂà∞ÁöÑÂå∫Èó¥ÔºåÊàë‰ª¨ÂèØ‰ª•Áî®Âπ≥Ë°°Ê†ëÁöÑ key Â≠òÂå∫Èó¥Âè≥Á´ØÁÇπÔºåvalue Â≠òÂå∫Èó¥Â∑¶Á´ØÁÇπ„ÄÇÊàë‰ª¨Ë¶ÅÊâæÁöÑÂ∞±ÊòØÁ¨¨‰∏Ä‰∏™ key‚â•left ÁöÑÂå∫Èó¥„ÄÇ</p>
<p>Â•ΩÁöÑÔºåÊàë‰ª¨Êù•ÊÄªÁªì‰∏Ä‰∏ãÂü∫‰∫é <code>std::map</code> ÂÆûÁé∞ÁöÑÂå∫Èó¥ÂêàÂπ∂‰∏éËÆ°Êï∞ÊñπÊ≥ïÔºåËøôÁßçÊñπÊ≥ïÊúâÊó∂Ë¢´Áúã‰ΩúÊòØ<strong>ÁèÇÊúµËéâÊ†ëÔºàChtholly Tree / ODT - Old Driver TreeÔºâ</strong> ÊÄùÊÉ≥ÁöÑ‰∏ÄÁßçÁÆÄÂåñÂ∫îÁî®ÔºåÁâπÂà´ÈÄÇÁî®‰∫éÂè™ÂÖ≥ÂøÉÂå∫Èó¥Ë¶ÜÁõñËÄå‰∏çÂÖ≥ÂøÉÂå∫Èó¥ËµãÂÄºÔºàÂç≥Â∞ÜÂå∫Èó¥ÂÜÖÂÖÉÁ¥†ËÆæ‰∏∫Êüê‰∏™ÁâπÂÆöÂÄºÔºâÁöÑÂú∫ÊôØÔºå‰æãÂ¶Ç LeetCode 2276 ËøôÈÅìÈ¢ò„ÄÇ</p>
<p><strong>Ê†∏ÂøÉÊÄùÊÉ≥</strong></p>
<p>Âà©Áî®ÊúâÂ∫èÊï∞ÊçÆÁªìÊûÑÔºàÂ¶Ç C++ ÁöÑ <code>std::map</code> Êàñ Java ÁöÑ <code>TreeMap</code>ÔºâÊù•Â≠òÂÇ®<strong>‰∏çÁõ∏‰∫§</strong>ÁöÑÂå∫Èó¥ÊÆµ„ÄÇ<code>map</code> ÁöÑÈîÆÔºàkeyÔºâÂ≠òÂÇ®Âå∫Èó¥ÁöÑÂ∑¶Á´ØÁÇπÔºåÂÄºÔºàvalueÔºâÂ≠òÂÇ®Âå∫Èó¥ÁöÑÂè≥Á´ØÁÇπ„ÄÇÂêåÊó∂Áª¥Êä§‰∏Ä‰∏™ÂèòÈáè <code>cnt</code> ËÆ∞ÂΩïÂΩìÂâçÊâÄÊúâ‰∏çÁõ∏‰∫§Âå∫Èó¥Ë¶ÜÁõñÁöÑÊï¥Êï∞ÊÄªÊï∞„ÄÇ</p>
<p>ÂΩìÈúÄË¶ÅÊ∑ªÂä†‰∏Ä‰∏™Êñ∞ÁöÑÂå∫Èó¥ <code>[left, right]</code> Êó∂Ôºö</p>
<ol>
<li>Êü•Êâæ <code>map</code> ‰∏≠‰∏Ä‰∏™‰∏é <code>[left, right]</code> <strong>Áõ∏‰∫§</strong>ÁöÑÂ∑≤ÊúâÂå∫Èó¥„ÄÇ</li>
<li>Â∞ÜËøô‰∏™Áõ∏‰∫§ÁöÑÂå∫Èó¥‰∏é <code>[left, right]</code> <strong>ÂêàÂπ∂</strong>Êàê‰∏Ä‰∏™Êõ¥Â§ßÁöÑÊñ∞Âå∫Èó¥„ÄÇ</li>
<li>Âú®ÂêàÂπ∂ËøáÁ®ã‰∏≠Ôºå‰ªé <code>cnt</code> ‰∏≠ÂáèÂéªË¢´ÂêàÂπ∂ÊéâÁöÑÊóßÂå∫Èó¥ÁöÑÈïøÂ∫¶ÔºåÂπ∂Â∞ÜÊóßÂå∫Èó¥‰ªé <code>map</code> ‰∏≠Âà†Èô§„ÄÇ</li>
<li>ÂÜçË∞ÉÁî® add Êù•Ê∑ªÂä†Ëøô‰∏™Êõ¥Â§ßÁöÑÂå∫Èó¥.</li>
<li>ÊúÄÂêéÔºåÂ∞ÜÂêàÂπ∂ÂêéÁöÑÊúÄÁªàÂ§ßÂå∫Èó¥Âä†ÂÖ• <code>map</code>ÔºåÂπ∂Â∞ÜÂÖ∂ÈïøÂ∫¶Âä†Âà∞ <code>cnt</code> ‰∏≠„ÄÇ</li>
</ol>
<p>ÁÆóÊ≥ïÁöÑÊ®°ÁâàÊòØ:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">CountIntervals</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">map</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">mp</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">cnt</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">CountIntervals</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">cnt</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="kt">void</span> <span class="nf">add</span><span class="p">(</span><span class="kt">int</span> <span class="n">left</span><span class="p">,</span> <span class="kt">int</span> <span class="n">right</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">auto</span> <span class="n">it</span><span class="o">=</span><span class="n">mp</span><span class="p">.</span><span class="n">upper_bound</span><span class="p">(</span><span class="n">right</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span><span class="p">(</span><span class="n">it</span><span class="o">!=</span><span class="n">mp</span><span class="p">.</span><span class="n">begin</span><span class="p">()){</span>
</span></span><span class="line"><span class="cl">            <span class="n">it</span><span class="o">--</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">if</span><span class="p">(</span><span class="n">it</span><span class="o">!=</span><span class="n">mp</span><span class="p">.</span><span class="n">end</span><span class="p">()</span><span class="o">&amp;&amp;</span><span class="n">it</span><span class="o">-&gt;</span><span class="n">first</span><span class="o">&lt;=</span><span class="n">right</span><span class="o">&amp;&amp;</span><span class="n">it</span><span class="o">-&gt;</span><span class="n">second</span><span class="o">&gt;=</span><span class="n">left</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">            <span class="n">left</span><span class="o">=</span><span class="n">min</span><span class="p">(</span><span class="n">it</span><span class="o">-&gt;</span><span class="n">first</span><span class="p">,</span><span class="n">left</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="n">right</span><span class="o">=</span><span class="n">max</span><span class="p">(</span><span class="n">it</span><span class="o">-&gt;</span><span class="n">second</span><span class="p">,</span><span class="n">right</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="n">cnt</span><span class="o">-=</span><span class="n">it</span><span class="o">-&gt;</span><span class="n">second</span><span class="o">-</span><span class="n">it</span><span class="o">-&gt;</span><span class="n">first</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="n">mp</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="n">it</span><span class="o">-&gt;</span><span class="n">first</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="n">add</span><span class="p">(</span><span class="n">left</span><span class="p">,</span><span class="n">right</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="k">else</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">cnt</span><span class="o">+=</span><span class="n">right</span><span class="o">-</span><span class="n">left</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">mp</span><span class="p">[</span><span class="n">left</span><span class="p">]</span><span class="o">=</span><span class="n">right</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="nf">count</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">cnt</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="ÈùôÊÄÅÁ∫øÊÆµÊ†ë4n">ÈùôÊÄÅÁ∫øÊÆµÊ†ë(4N)
</h2><p>ÂâçÁΩÆÁü•ËØÜÔºöÁ∫øÊÆµÊ†ë„ÄÅÂä®ÊÄÅÂºÄÁÇπÁ∫øÊÆµÊ†ë</p>
<p>ÂÆåÊï¥ÁöÑÂä®ÊÄÅÂºÄÁÇπÁ∫øÊÆµÊ†ëÊ®°ÊùøËßÅÊàëÁöÑ ÁÆóÊ≥ïÁ´ûËµõÊ®°ÊùøÂ∫ì„ÄÇ</p>
<p>ÂØπ‰∫éÊú¨È¢òÊù•ËØ¥ÔºåÁ∫øÊÆµÊ†ëÁöÑÊØè‰∏™ËäÇÁÇπÂèØ‰ª•‰øùÂ≠òÂØπÂ∫îËåÉÂõ¥ÁöÑÂ∑¶Âè≥Á´ØÁÇπ l Âíå rÔºå‰ª•ÂèäËåÉÂõ¥ÂÜÖ add ËøáÁöÑÊï¥Êï∞‰∏™Êï∞ cnt„ÄÇ</p>
<p>‰ª£Á†ÅÂÆûÁé∞Êó∂ÔºåÊó†ÈúÄËÆ∞ÂΩï lazy tagÔºåËøôÊòØÂõ†‰∏∫Ë¢´Ë¶ÜÁõñÁöÑËåÉÂõ¥Êó†ÈúÄÂÜçÊ¨°Ë¶ÜÁõñÔºåÂõ†Ê≠§Ëã• cnt Á≠â‰∫éËåÉÂõ¥ÁöÑÈïøÂ∫¶ r‚àíl+1ÔºåÂàôÂèØÁõ¥Êé•ËøîÂõû„ÄÇ</p>
<p>‰ΩúËÄÖÔºöÁÅµËå∂Â±±ËâæÂ∫ú
ÈìæÊé•Ôºöhttps://leetcode.cn/problems/count-integers-in-intervals/solutions/1495396/by-endlesscheng-clk2/
Êù•Ê∫êÔºöÂäõÊâ£ÔºàLeetCodeÔºâ
Ëëó‰ΩúÊùÉÂΩí‰ΩúËÄÖÊâÄÊúâ„ÄÇÂïÜ‰∏öËΩ¨ËΩΩËØ∑ËÅîÁ≥ª‰ΩúËÄÖËé∑ÂæóÊéàÊùÉÔºåÈùûÂïÜ‰∏öËΩ¨ËΩΩËØ∑Ê≥®ÊòéÂá∫Â§Ñ„ÄÇ</p>
<p>Okay, ËÆ©Êàë‰ª¨Êù•ÊÄªÁªì‰∏Ä‰∏ãÂü∫Á°ÄÁ∫øÊÆµÊ†ëÁöÑ C++ ÁÆóÊ≥ïÊ®°ÊùøÔºåÂπ∂ÈòêËø∞ÂÖ∂Ê†∏ÂøÉÊÄùÊÉ≥„ÄÇËøô‰∏™Ê®°Êùø‰∏ªË¶ÅÈíàÂØπ<strong>Âå∫Èó¥Êü•ËØ¢</strong>ÔºàÂ¶ÇÊ±ÇÂíå„ÄÅÊúÄÂÄºÔºâÂíå<strong>ÂçïÁÇπÊõ¥Êñ∞</strong>„ÄÇ</p>
<p><strong>Ê†∏ÂøÉÊÄùÊÉ≥</strong></p>
<p>Á∫øÊÆµÊ†ëÁöÑÊ†∏ÂøÉÊÄùÊÉ≥ÊòØ <strong>ÂàÜÊ≤ª (Divide and Conquer)</strong>„ÄÇÂÆÉÂ∞Ü‰∏Ä‰∏™Â§ßÂå∫Èó¥ÔºàÈÄöÂ∏∏ÊòØ‰∏ÄÁª¥Êï∞ÁªÑÁöÑËåÉÂõ¥ÔºâÈÄíÂΩíÂú∞ÂàíÂàÜÊàê‰∏§‰∏™ËßÑÊ®°Â§ßËá¥Áõ∏Á≠âÁöÑÂ≠êÂå∫Èó¥ÔºåÁõ¥Âà∞ÊØè‰∏™Âå∫Èó¥Âè™ÂåÖÂê´‰∏Ä‰∏™ÂÖÉÁ¥†ÔºàÂè∂Â≠êËäÇÁÇπÔºâ„ÄÇÁÑ∂ÂêéÔºåÈÄöËøáÂêàÂπ∂Â≠êÂå∫Èó¥ÁöÑ‰ø°ÊÅØÊù•ÂæóÂà∞Áà∂Âå∫Èó¥ÁöÑ‰ø°ÊÅØ„ÄÇ</p>
<ol>
<li><strong>ÁªìÊûÑ</strong>: ÂÆÉÊòØ‰∏ÄÊ£µÂπ≥Ë°°ÁöÑ<strong>‰∫åÂèâÊ†ë</strong>„ÄÇ
<ul>
<li><strong>Ê†πËäÇÁÇπ</strong>: ‰ª£Ë°®Êï¥‰∏™Âå∫Èó¥ <code>[1, N]</code>ÔºàÊàñ <code>[0, N-1]</code>ÔºåÂèñÂÜ≥‰∫é‰Ω†ÁöÑ‰∏ãÊ†á‰π†ÊÉØÔºâ„ÄÇ</li>
<li><strong>ÂÜÖÈÉ®ËäÇÁÇπ</strong>: ‰ª£Ë°®‰∏Ä‰∏™Â≠êÂå∫Èó¥ <code>[L, R]</code>„ÄÇÂÆÉÁöÑÂ∑¶Â≠©Â≠ê‰ª£Ë°®Âå∫Èó¥ <code>[L, mid]</code>ÔºåÂè≥Â≠©Â≠ê‰ª£Ë°®Âå∫Èó¥ <code>[mid+1, R]</code>ÔºåÂÖ∂‰∏≠ <code>mid = (L + R) / 2</code>„ÄÇËäÇÁÇπÂ≠òÂÇ®ÁöÑÊòØÂÖ∂‰ª£Ë°®Âå∫Èó¥ <code>[L, R]</code> ÁöÑÊüêÁßç<strong>ËÅöÂêà‰ø°ÊÅØ</strong>Ôºà‰æãÂ¶ÇÔºåÂå∫Èó¥Âíå„ÄÅÂå∫Èó¥ÊúÄÂ§ßÂÄº„ÄÅÂå∫Èó¥ÊúÄÂ∞èÂÄºÔºâ„ÄÇ</li>
<li><strong>Âè∂Â≠êËäÇÁÇπ</strong>: ‰ª£Ë°®Âè™ÂåÖÂê´Âçï‰∏™ÂÖÉÁ¥†ÁöÑÂå∫Èó¥ <code>[i, i]</code>ÔºåÂÖ∂ÂÄºÈÄöÂ∏∏Â∞±ÊòØÂéüÂßãÊï∞ÁªÑ‰∏≠ËØ•‰ΩçÁΩÆÁöÑÂÖÉÁ¥†ÂÄº„ÄÇ</li>
</ul>
</li>
<li><strong>È¢ÑËÆ°ÁÆó</strong>: Á∫øÊÆµÊ†ëÈÄöËøá <code>build</code> Êìç‰ΩúÈ¢ÑÂÖàËÆ°ÁÆóÂπ∂Â≠òÂÇ®ÊØè‰∏™ËäÇÁÇπÔºàÂç≥ÊØè‰∏™Â≠êÂå∫Èó¥ÔºâÁöÑËÅöÂêà‰ø°ÊÅØ„ÄÇ</li>
<li><strong>È´òÊïàÊü•ËØ¢/Êõ¥Êñ∞</strong>:
<ul>
<li><strong>Âå∫Èó¥Êü•ËØ¢</strong>: ÂΩìÊü•ËØ¢Âå∫Èó¥ <code>[query_L, query_R]</code> Êó∂ÔºåÁ∫øÊÆµÊ†ëÂà©Áî®È¢ÑËÆ°ÁÆóÁöÑ‰ø°ÊÅØ„ÄÇÂ¶ÇÊûúÂΩìÂâçËäÇÁÇπ‰ª£Ë°®ÁöÑÂå∫Èó¥ <code>[L, R]</code> ÂÆåÂÖ®ÂåÖÂê´Âú®Êü•ËØ¢Âå∫Èó¥ÂÜÖÔºåÂàôÁõ¥Êé•ËøîÂõûËØ•ËäÇÁÇπÁöÑÂÄºÔºåÊó†ÈúÄÁªßÁª≠Âêë‰∏ãÈÄíÂΩí„ÄÇÂ¶ÇÊûúÈÉ®ÂàÜÈáçÂè†ÔºåÂàôÈÄíÂΩíÊü•ËØ¢Áõ∏ÂÖ≥ÁöÑÂ≠êËäÇÁÇπÔºåÂπ∂Â∞ÜÁªìÊûúÂêàÂπ∂„ÄÇËøô‰ΩøÂæóÊü•ËØ¢ÂèØ‰ª•Âú® O(logN) Êó∂Èó¥ÂÜÖÂÆåÊàê„ÄÇ</li>
<li><strong>ÂçïÁÇπÊõ¥Êñ∞</strong>: ÂΩìÊõ¥Êñ∞ÂéüÂßãÊï∞ÁªÑ‰∏≠Êüê‰∏™‰ΩçÁΩÆ <code>index</code> ÁöÑÂÄºÊó∂ÔºåÂè™ÈúÄÊõ¥Êñ∞‰ªéÂåÖÂê´ËØ•‰ΩçÁΩÆÁöÑÂè∂Â≠êËäÇÁÇπÂà∞Ê†πËäÇÁÇπË∑ØÂæÑ‰∏äÁöÑÊâÄÊúâËäÇÁÇπÁöÑÂÄº„ÄÇËøô‰∏™Ë∑ØÂæÑÁöÑÈïøÂ∫¶‰πüÊòØ O(logN)ÔºåÂõ†Ê≠§Êõ¥Êñ∞Êìç‰Ωú‰πüÊòØ O(logN)„ÄÇ</li>
</ul>
</li>
</ol>
<p><strong>C++ Ê®°Êùø (‰ª•Âå∫Èó¥Ê±ÇÂíå‰∏∫‰æã)</strong></p>
<p>C++</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span><span class="lnt">110
</span><span class="lnt">111
</span><span class="lnt">112
</span><span class="lnt">113
</span><span class="lnt">114
</span><span class="lnt">115
</span><span class="lnt">116
</span><span class="lnt">117
</span><span class="lnt">118
</span><span class="lnt">119
</span><span class="lnt">120
</span><span class="lnt">121
</span><span class="lnt">122
</span><span class="lnt">123
</span><span class="lnt">124
</span><span class="lnt">125
</span><span class="lnt">126
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;vector&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;numeric&gt;</span><span class="cp"> </span><span class="c1">// ÂåÖÂê´ std::midpoint (C++20) ÊàñÁî®‰∫éËÆ°ÁÆó‰∏≠ÁÇπ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="c1">// ‰ΩøÁî® long long ÈÅøÂÖçÊ±ÇÂíåÊó∂Êï¥Êï∞Ê∫¢Âá∫
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">using</span> <span class="n">ll</span> <span class="o">=</span> <span class="kt">long</span> <span class="kt">long</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ÂÅáËÆæÂ§ÑÁêÜÁöÑÂéüÂßãÊï∞ÁªÑ‰∏ãÊ†á‰ªé 1 ÂºÄÂßãÔºåÂå∫Èó¥‰∏∫ [1, N]
</span></span></span><span class="line"><span class="cl"><span class="c1">// Â¶ÇÊûúÂéüÂßãÊï∞ÁªÑ‰∏ãÊ†á‰ªé 0 ÂºÄÂßãÔºåÂå∫Èó¥‰∏∫ [0, N-1]ÔºåÈúÄË¶ÅÁ®çÂæÆË∞ÉÊï¥ build ÂíåË∞ÉÁî®ÁöÑÂàùÂßãËåÉÂõ¥
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">const</span> <span class="kt">int</span> <span class="n">N_MAX</span> <span class="o">=</span> <span class="mi">100005</span><span class="p">;</span> <span class="c1">// Ê†πÊçÆÈ¢òÁõÆË∞ÉÊï¥ÊúÄÂ§ßÊï∞ÁªÑÂ§ßÂ∞è
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">ll</span> <span class="n">tree</span><span class="p">[</span><span class="n">N_MAX</span> <span class="o">*</span> <span class="mi">4</span><span class="p">];</span>        <span class="c1">// Á∫øÊÆµÊ†ëÊï∞ÁªÑÔºåÂ§ßÂ∞èÈÄöÂ∏∏ÂºÄÂà∞ 4*N
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">ll</span> <span class="n">original_array</span><span class="p">[</span><span class="n">N_MAX</span><span class="p">];</span>  <span class="c1">// ÂéüÂßãÊï∞ÁªÑ (Á§∫‰æãÔºåÈÄöÂ∏∏‰ªéËæìÂÖ•ËØªÂèñ)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kt">int</span> <span class="n">n</span><span class="p">;</span>                     <span class="c1">// ÂéüÂßãÊï∞ÁªÑÁöÑÂ§ßÂ∞è
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="c1">// --- Ê†∏ÂøÉÂáΩÊï∞ ---
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="c1">// push_up: Áî®Â≠êËäÇÁÇπ‰ø°ÊÅØÊõ¥Êñ∞Áà∂ËäÇÁÇπ‰ø°ÊÅØ
</span></span></span><span class="line"><span class="cl"><span class="c1">// p: ÂΩìÂâçËäÇÁÇπÔºàÁà∂ËäÇÁÇπÔºâÂú® tree Êï∞ÁªÑ‰∏≠ÁöÑÁ¥¢Âºï
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kt">void</span> <span class="nf">push_up</span><span class="p">(</span><span class="kt">int</span> <span class="n">p</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// ÂØπ‰∫éÂå∫Èó¥ÂíåÔºåÁà∂ËäÇÁÇπÁöÑÂÄºÁ≠â‰∫éÂ∑¶Âè≥Â≠êËäÇÁÇπÁöÑÂÄº‰πãÂíå
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">tree</span><span class="p">[</span><span class="n">p</span><span class="p">]</span> <span class="o">=</span> <span class="n">tree</span><span class="p">[</span><span class="n">p</span> <span class="o">*</span> <span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="n">tree</span><span class="p">[</span><span class="n">p</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Â¶ÇÊûúÊòØÊ±ÇÊúÄÂ§ßÂÄºÔºötree[p] = max(tree[p * 2], tree[p * 2 + 1]);
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// Â¶ÇÊûúÊòØÊ±ÇÊúÄÂ∞èÂÄºÔºötree[p] = min(tree[p * 2], tree[p * 2 + 1]);
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// build: ÊûÑÂª∫Á∫øÊÆµÊ†ë
</span></span></span><span class="line"><span class="cl"><span class="c1">// p: ÂΩìÂâçÊûÑÂª∫ÁöÑËäÇÁÇπÂú® tree Êï∞ÁªÑ‰∏≠ÁöÑÁ¥¢Âºï
</span></span></span><span class="line"><span class="cl"><span class="c1">// l, r: ÂΩìÂâçËäÇÁÇπ‰ª£Ë°®ÁöÑÂå∫Èó¥ [l, r] (Âú®ÂéüÂßãÊï∞ÁªÑ‰∏≠ÁöÑ‰∏ãÊ†áËåÉÂõ¥)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kt">void</span> <span class="nf">build</span><span class="p">(</span><span class="kt">int</span> <span class="n">p</span><span class="p">,</span> <span class="kt">int</span> <span class="n">l</span><span class="p">,</span> <span class="kt">int</span> <span class="n">r</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">l</span> <span class="o">==</span> <span class="n">r</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// Âà∞ËææÂè∂Â≠êËäÇÁÇπÔºåÂÖ∂ÂÄºÁ≠â‰∫éÂéüÂßãÊï∞ÁªÑÂØπÂ∫î‰ΩçÁΩÆÁöÑÂÄº
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="n">tree</span><span class="p">[</span><span class="n">p</span><span class="p">]</span> <span class="o">=</span> <span class="n">original_array</span><span class="p">[</span><span class="n">l</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// ÈÄíÂΩíÊûÑÂª∫Â∑¶Âè≥Â≠êÊ†ë
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// C++20: int mid = std::midpoint(l, r);
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kt">int</span> <span class="n">mid</span> <span class="o">=</span> <span class="n">l</span> <span class="o">+</span> <span class="p">(</span><span class="n">r</span> <span class="o">-</span> <span class="n">l</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span> <span class="c1">// Èò≤Ê≠¢ (l+r) Ê∫¢Âá∫
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">build</span><span class="p">(</span><span class="n">p</span> <span class="o">*</span> <span class="mi">2</span><span class="p">,</span> <span class="n">l</span><span class="p">,</span> <span class="n">mid</span><span class="p">);</span>       <span class="c1">// ÊûÑÂª∫Â∑¶Â≠êÊ†ëÔºåËäÇÁÇπÁ¥¢Âºï‰∏∫ 2*p
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">build</span><span class="p">(</span><span class="n">p</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">r</span><span class="p">);</span> <span class="c1">// ÊûÑÂª∫Âè≥Â≠êÊ†ëÔºåËäÇÁÇπÁ¥¢Âºï‰∏∫ 2*p + 1
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// ‰ªéÂ≠êËäÇÁÇπÂõûÊ∫ØÊó∂ÔºåÁî®Â≠êËäÇÁÇπ‰ø°ÊÅØÊõ¥Êñ∞ÂΩìÂâçËäÇÁÇπ‰ø°ÊÅØ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">push_up</span><span class="p">(</span><span class="n">p</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// update: ÂçïÁÇπÊõ¥Êñ∞
</span></span></span><span class="line"><span class="cl"><span class="c1">// p: ÂΩìÂâçËäÇÁÇπÁ¥¢Âºï
</span></span></span><span class="line"><span class="cl"><span class="c1">// l, r: ÂΩìÂâçËäÇÁÇπ‰ª£Ë°®ÁöÑÂå∫Èó¥ [l, r]
</span></span></span><span class="line"><span class="cl"><span class="c1">// index: ÈúÄË¶ÅÊõ¥Êñ∞ÁöÑÂéüÂßãÊï∞ÁªÑÂÖÉÁ¥†ÁöÑ‰∏ãÊ†á
</span></span></span><span class="line"><span class="cl"><span class="c1">// value: Êõ¥Êñ∞ÂêéÁöÑÊñ∞ÂÄº
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kt">void</span> <span class="nf">update</span><span class="p">(</span><span class="kt">int</span> <span class="n">p</span><span class="p">,</span> <span class="kt">int</span> <span class="n">l</span><span class="p">,</span> <span class="kt">int</span> <span class="n">r</span><span class="p">,</span> <span class="kt">int</span> <span class="n">index</span><span class="p">,</span> <span class="n">ll</span> <span class="n">value</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">l</span> <span class="o">==</span> <span class="n">r</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// ÊâæÂà∞Âè∂Â≠êËäÇÁÇπÔºåÊõ¥Êñ∞ÂÖ∂ÂÄº
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="n">tree</span><span class="p">[</span><span class="n">p</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// Â¶ÇÊûúÈúÄË¶ÅÔºåÂêåÊó∂Êõ¥Êñ∞ original_array[index] = value;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">return</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// ÈÄíÂΩíËøõÂÖ•ÂåÖÂê´ index ÁöÑÂ≠êÊ†ë
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// C++20: int mid = std::midpoint(l, r);
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kt">int</span> <span class="n">mid</span> <span class="o">=</span> <span class="n">l</span> <span class="o">+</span> <span class="p">(</span><span class="n">r</span> <span class="o">-</span> <span class="n">l</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">index</span> <span class="o">&lt;=</span> <span class="n">mid</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// index Âú®Â∑¶Â≠êÊ†ë
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="n">update</span><span class="p">(</span><span class="n">p</span> <span class="o">*</span> <span class="mi">2</span><span class="p">,</span> <span class="n">l</span><span class="p">,</span> <span class="n">mid</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">value</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// index Âú®Âè≥Â≠êÊ†ë
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="n">update</span><span class="p">(</span><span class="n">p</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">value</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Êõ¥Êñ∞ÂÆåÂ≠êËäÇÁÇπÂêéÔºåÂõûÊ∫ØÊõ¥Êñ∞ÂΩìÂâçËäÇÁÇπ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">push_up</span><span class="p">(</span><span class="n">p</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// query: Âå∫Èó¥Êü•ËØ¢
</span></span></span><span class="line"><span class="cl"><span class="c1">// p: ÂΩìÂâçËäÇÁÇπÁ¥¢Âºï
</span></span></span><span class="line"><span class="cl"><span class="c1">// l, r: ÂΩìÂâçËäÇÁÇπ‰ª£Ë°®ÁöÑÂå∫Èó¥ [l, r]
</span></span></span><span class="line"><span class="cl"><span class="c1">// query_l, query_r: ÈúÄË¶ÅÊü•ËØ¢ÁöÑÂå∫Èó¥ËåÉÂõ¥ [query_l, query_r]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">ll</span> <span class="nf">query</span><span class="p">(</span><span class="kt">int</span> <span class="n">p</span><span class="p">,</span> <span class="kt">int</span> <span class="n">l</span><span class="p">,</span> <span class="kt">int</span> <span class="n">r</span><span class="p">,</span> <span class="kt">int</span> <span class="n">query_l</span><span class="p">,</span> <span class="kt">int</span> <span class="n">query_r</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Case 1: ÂΩìÂâçËäÇÁÇπ‰ª£Ë°®ÁöÑÂå∫Èó¥ÂÆåÂÖ®ÂåÖÂê´Âú®Êü•ËØ¢Âå∫Èó¥ÂÜÖ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">if</span> <span class="p">(</span><span class="n">query_l</span> <span class="o">&lt;=</span> <span class="n">l</span> <span class="o">&amp;&amp;</span> <span class="n">r</span> <span class="o">&lt;=</span> <span class="n">query_r</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">tree</span><span class="p">[</span><span class="n">p</span><span class="p">];</span> <span class="c1">// Áõ¥Êé•ËøîÂõûÂΩìÂâçËäÇÁÇπÁöÑÂÄº
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// Case 2 &amp; 3: ÈÉ®ÂàÜÈáçÂè†ÊàñÊó†ÈáçÂè†ÔºàÊó†ÈáçÂè†Êó∂‰∏ãÈù¢Âà§Êñ≠‰ºöÂ§ÑÁêÜÔºâ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// C++20: int mid = std::midpoint(l, r);
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kt">int</span> <span class="n">mid</span> <span class="o">=</span> <span class="n">l</span> <span class="o">+</span> <span class="p">(</span><span class="n">r</span> <span class="o">-</span> <span class="n">l</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">ll</span> <span class="n">result</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="c1">// ÂàùÂßãÂåñÁªìÊûú (ÂØπ‰∫éÊ±ÇÂíåÊòØ0, Ê±ÇÊúÄÂ∞èÂÄºÊòØÊ≠£Êó†Á©∑, Ê±ÇÊúÄÂ§ßÂÄºÊòØË¥üÊó†Á©∑)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Â¶ÇÊûúÊü•ËØ¢Âå∫Èó¥‰∏éÂ∑¶Â≠êÂå∫Èó¥ÊúâÈáçÂè†ÔºåÂàôÈÄíÂΩíÊü•ËØ¢Â∑¶Â≠êÊ†ë
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">if</span> <span class="p">(</span><span class="n">query_l</span> <span class="o">&lt;=</span> <span class="n">mid</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">result</span> <span class="o">+=</span> <span class="n">query</span><span class="p">(</span><span class="n">p</span> <span class="o">*</span> <span class="mi">2</span><span class="p">,</span> <span class="n">l</span><span class="p">,</span> <span class="n">mid</span><span class="p">,</span> <span class="n">query_l</span><span class="p">,</span> <span class="n">query_r</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// Ê±ÇÊúÄÂÄºÔºöresult = min/max(result, query(...));
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Â¶ÇÊûúÊü•ËØ¢Âå∫Èó¥‰∏éÂè≥Â≠êÂå∫Èó¥ÊúâÈáçÂè†ÔºåÂàôÈÄíÂΩíÊü•ËØ¢Âè≥Â≠êÊ†ë
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">if</span> <span class="p">(</span><span class="n">query_r</span> <span class="o">&gt;</span> <span class="n">mid</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">result</span> <span class="o">+=</span> <span class="n">query</span><span class="p">(</span><span class="n">p</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">query_l</span><span class="p">,</span> <span class="n">query_r</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// Ê±ÇÊúÄÂÄºÔºöresult = min/max(result, query(...));
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">result</span><span class="p">;</span> <span class="c1">// ËøîÂõûÂêàÂπ∂ÂêéÁöÑÁªìÊûú
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// --- ‰ΩøÁî®Á§∫‰æã ---
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="cm">/*
</span></span></span><span class="line"><span class="cl"><span class="cm">int main() {
</span></span></span><span class="line"><span class="cl"><span class="cm">    // ÂÅáËÆæ n Âíå original_array Â∑≤ÁªèÂ°´ÂÖÖÂ•Ω
</span></span></span><span class="line"><span class="cl"><span class="cm">    std::cin &gt;&gt; n;
</span></span></span><span class="line"><span class="cl"><span class="cm">    for (int i = 1; i &lt;= n; ++i) {
</span></span></span><span class="line"><span class="cl"><span class="cm">        std::cin &gt;&gt; original_array[i];
</span></span></span><span class="line"><span class="cl"><span class="cm">    }
</span></span></span><span class="line"><span class="cl"><span class="cm">
</span></span></span><span class="line"><span class="cl"><span class="cm">    // 1. ÊûÑÂª∫Á∫øÊÆµÊ†ë (‰ªéÊ†πËäÇÁÇπ1ÂºÄÂßãÔºå‰ª£Ë°®Âå∫Èó¥[1, n])
</span></span></span><span class="line"><span class="cl"><span class="cm">    build(1, 1, n);
</span></span></span><span class="line"><span class="cl"><span class="cm">
</span></span></span><span class="line"><span class="cl"><span class="cm">    // 2. Êü•ËØ¢Âå∫Èó¥ [L, R] ÁöÑÂíå
</span></span></span><span class="line"><span class="cl"><span class="cm">    int L = 2, R = 5;
</span></span></span><span class="line"><span class="cl"><span class="cm">    ll sum_result = query(1, 1, n, L, R);
</span></span></span><span class="line"><span class="cl"><span class="cm">    std::cout &lt;&lt; &#34;Sum of [&#34; &lt;&lt; L &lt;&lt; &#34;, &#34; &lt;&lt; R &lt;&lt; &#34;] is &#34; &lt;&lt; sum_result &lt;&lt; std::endl;
</span></span></span><span class="line"><span class="cl"><span class="cm">
</span></span></span><span class="line"><span class="cl"><span class="cm">    // 3. Êõ¥Êñ∞‰ΩçÁΩÆ index ÁöÑÂÄº‰∏∫ value
</span></span></span><span class="line"><span class="cl"><span class="cm">    int index_to_update = 3;
</span></span></span><span class="line"><span class="cl"><span class="cm">    ll new_value = 10;
</span></span></span><span class="line"><span class="cl"><span class="cm">    update(1, 1, n, index_to_update, new_value);
</span></span></span><span class="line"><span class="cl"><span class="cm">
</span></span></span><span class="line"><span class="cl"><span class="cm">    // 4. ÂÜçÊ¨°Êü•ËØ¢Âå∫Èó¥ [L, R] ÁöÑÂíå
</span></span></span><span class="line"><span class="cl"><span class="cm">    sum_result = query(1, 1, n, L, R);
</span></span></span><span class="line"><span class="cl"><span class="cm">    std::cout &lt;&lt; &#34;After update, sum of [&#34; &lt;&lt; L &lt;&lt; &#34;, &#34; &lt;&lt; R &lt;&lt; &#34;] is &#34; &lt;&lt; sum_result &lt;&lt; std::endl;
</span></span></span><span class="line"><span class="cl"><span class="cm">
</span></span></span><span class="line"><span class="cl"><span class="cm">    return 0;
</span></span></span><span class="line"><span class="cl"><span class="cm">}
</span></span></span><span class="line"><span class="cl"><span class="cm">*/</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>ËØ¥Êòé‰∏éÊ≥®ÊÑè‰∫ãÈ°π</strong></p>
<ol>
<li>
<p><strong>Á©∫Èó¥Â§çÊùÇÂ∫¶</strong>: O(N)ÔºåÈúÄË¶ÅÂ§ßÁ∫¶ 4N ÁöÑÁ©∫Èó¥Êù•Â≠òÂÇ®Á∫øÊÆµÊ†ëÊï∞ÁªÑ <code>tree</code>„ÄÇËøôÊòØÂõ†‰∏∫Êª°‰∫åÂèâÊ†ëÊúÄÂêé‰∏ÄÂ±ÇÊúÄÂ§öÊúâ N ‰∏™Âè∂Â≠êËäÇÁÇπÔºåÊÄªËäÇÁÇπÊï∞Â§ßÁ∫¶ÊòØ 2N‚àí1Ôºå‰∏∫‰∫ÜÊñπ‰æøÁî® 2p Âíå 2p+1 ËÆ°ÁÆóÂ≠êËäÇÁÇπÁ¥¢ÂºïÔºåÈÄöÂ∏∏Â∞ÜÊï∞ÁªÑÂºÄÂà∞ 4N ‰ª•Á°Æ‰øù‰∏ç‰ºöË∂äÁïå„ÄÇ</p>
</li>
<li>
<p>Êó∂Èó¥Â§çÊùÇÂ∫¶</p>
<p>:</p>
<ul>
<li><code>build</code>: O(N)</li>
<li><code>query</code>: O(logN)</li>
<li><code>update</code> (ÂçïÁÇπ): O(logN)</li>
</ul>
</li>
<li>
<p><strong>‰∏ãÊ†á</strong>: Ê®°ÊùøÂÅáËÆæÂéüÂßãÊï∞ÁªÑÂíåÂå∫Èó¥Êü•ËØ¢ÈÉΩ‰ΩøÁî®<strong>1-based</strong>‰∏ãÊ†áÔºà‰ªé 1 ÂºÄÂßãÔºâ„ÄÇÂ¶ÇÊûú‰ΩøÁî® 0-basedÔºà‰ªé 0 ÂºÄÂßãÔºâÔºå<code>build</code> ÁöÑÂàùÂßãË∞ÉÁî®ÊòØ <code>build(1, 0, n-1)</code>ÔºåÊü•ËØ¢ÂíåÊõ¥Êñ∞ÁöÑ‰∏ãÊ†á‰πüË¶ÅÁõ∏Â∫îË∞ÉÊï¥„ÄÇÂè∂Â≠êËäÇÁÇπÁöÑÊù°‰ª∂ÊòØ <code>l == r</code>ÔºåÂÖ∂ÂÄºÊòØ <code>original_array[l]</code>ÔºàÊàñ <code>original_array[r]</code>Ôºâ„ÄÇ</p>
</li>
<li>
<p><strong>ÈÄÇÂ∫îÊÄß</strong>: Ëøô‰∏™Ê®°ÊùøÈùûÂ∏∏ÈÄöÁî®„ÄÇÂè™ÈúÄ‰øÆÊîπ <code>push_up</code> ÂáΩÊï∞‰∏≠ÂêàÂπ∂Â∑¶Âè≥Â≠êËäÇÁÇπ‰ø°ÊÅØÁöÑÊñπÂºèÔºå‰ª•Âèä <code>query</code> ÂáΩÊï∞‰∏≠ÂêàÂπ∂Â∑¶Âè≥Â≠êÊ†ëÊü•ËØ¢ÁªìÊûúÂíåÂàùÂßãÂåñ <code>result</code> ÁöÑÊñπÂºèÔºåÂ∞±ÂèØ‰ª•ÈÄÇÂ∫î‰∏çÂêåÁöÑÂå∫Èó¥ËÅöÂêàÊìç‰ΩúÔºàÂ¶ÇÊ±ÇÊúÄÂ§ß/ÊúÄÂ∞èÂÄº„ÄÅÂå∫Èó¥ÂºÇÊàñÂíåÁ≠âÔºâ„ÄÇ</p>
</li>
<li>
<p><strong>Âå∫Èó¥Êõ¥Êñ∞</strong>: Ëøô‰∏™Âü∫Á°ÄÊ®°Êùø‰∏çÊîØÊåÅÈ´òÊïàÁöÑ<strong>Âå∫Èó¥Êõ¥Êñ∞</strong>Ôºà‰æãÂ¶ÇÂ∞ÜÂå∫Èó¥ <code>[L, R]</code> ÂÜÖÊâÄÊúâÂÖÉÁ¥†Â¢ûÂä† <code>v</code>Ôºâ„ÄÇË¶ÅÂÆûÁé∞ O(logN)ÁöÑÂå∫Èó¥Êõ¥Êñ∞ÔºåÈúÄË¶ÅÂºïÂÖ•<strong>ÊáíÊÉ∞Ê†áËÆ∞ (Lazy Propagation)</strong> ÊäÄÊúØÔºåËøô‰ºö‰ΩøÊ®°ÊùøÁ®çÂæÆÂ§çÊùÇ‰∏Ä‰∫õ„ÄÇ</p>
</li>
<li>
<p><strong>Êï∞ÊçÆÁ±ªÂûã</strong>: Ê≥®ÊÑè‰ΩøÁî® <code>long long</code> (ÊàñÂêàÈÄÇÁöÑÁ±ªÂûã) Êù•Â≠òÂÇ®ËÅöÂêàÁªìÊûúÔºàÂ¶Ç <code>tree</code> Êï∞ÁªÑÔºâÔºå‰ª•Èò≤Ê≠¢ËÆ°ÁÆóËøáÁ®ã‰∏≠ÔºàÁâπÂà´ÊòØÊ±ÇÂíåÔºâÂèëÁîüÊï¥Êï∞Ê∫¢Âá∫„ÄÇ</p>
</li>
</ol>
<h2 id="Âä®ÊÄÅÂºÄÁÇπÁ∫øÊÆµÊ†ë">Âä®ÊÄÅÂºÄÁÇπÁ∫øÊÆµÊ†ë
</h2><p>Â•ΩÁöÑÔºåÊàë‰ª¨Êù•ÊÄªÁªì‰∏Ä‰∏ã<strong>Âä®ÊÄÅÂºÄÁÇπÁ∫øÊÆµÊ†ë</strong>ÁöÑ C++ ÁÆóÊ≥ïÊ®°ÊùøÂèäÂÖ∂Ê†∏ÂøÉÊÄùÊÉ≥„ÄÇ</p>
<p><strong>Ê†∏ÂøÉÊÄùÊÉ≥</strong></p>
<p>Âä®ÊÄÅÂºÄÁÇπÁ∫øÊÆµÊ†ëÊòØ‰∏∫‰∫ÜËß£ÂÜ≥<strong>ÂùêÊ†áËåÉÂõ¥ÊûÅÂ§ß</strong>Ôºà‰æãÂ¶Ç 1 Âà∞ 109 ÁîöËá≥Êõ¥Â§ßÔºâ‰ΩÜ<strong>ÂÆûÈôÖÊìç‰ΩúÊ¨°Êï∞Áõ∏ÂØπËæÉÂ∞ë</strong>Ôºà‰æãÂ¶Ç 105 Ê¨°Êõ¥Êñ∞ÂíåÊü•ËØ¢ÔºâÁöÑÈóÆÈ¢ò„ÄÇ</p>
<p>Ê†áÂáÜÁöÑÈùôÊÄÅÁ∫øÊÆµÊ†ëÈúÄË¶ÅÂºÄ‰∏Ä‰∏™Â§ßÂ∞è‰∏éÂùêÊ†áËåÉÂõ¥ÊàêÊ≠£ÊØîÔºàÁ∫¶ 4√óRange) ÁöÑÊï∞ÁªÑÊù•Â≠òÂÇ®Ê†ëËäÇÁÇπÔºåÂΩìËåÉÂõ¥ÂæàÂ§ßÊó∂ÔºåËøô‰ºöÊ∂àËÄóÂ∑®Â§ßÁöÑÂÜÖÂ≠òÔºå‰∏îÂ§ßÈÉ®ÂàÜÁ©∫Èó¥ÊòØÊµ™Ë¥πÁöÑÔºàÂõ†‰∏∫Âè™ÊúâÂ∞ëÈáè‰ΩçÁΩÆË¢´ÂÆûÈôÖËÆøÈóÆÊàñÊõ¥Êñ∞Ôºâ„ÄÇ</p>
<p>Âä®ÊÄÅÂºÄÁÇπÁ∫øÊÆµÊ†ëÁöÑÊ†∏ÂøÉÊÄùÊÉ≥ÊòØÔºö<strong>‰∏çÈ¢ÑÂÖàÊûÑÂª∫ÂÆåÊï¥ÁöÑÊ†ëÔºåËÄåÊòØÂú®ÊâßË°åÊìç‰ΩúÔºàÊõ¥Êñ∞ÊàñÊü•ËØ¢ÔºâÈúÄË¶ÅËÆøÈóÆÊüê‰∏™ËäÇÁÇπÊó∂ÔºåÂ¶ÇÊûúËØ•ËäÇÁÇπ‰∏çÂ≠òÂú®ÔºåÂàôÂä®ÊÄÅÂú∞ÂàõÂª∫ÂÆÉ</strong>„ÄÇ</p>
<ol>
<li><strong>ËäÇÁÇπË°®Á§∫</strong>: ‰∏çÂÜç‰ΩøÁî®Êï∞ÁªÑ‰∏ãÊ†áÈöêÂºèË°®Á§∫Ê†ëÁªìÊûÑÔºåËÄåÊòØ‰ΩøÁî®<strong>ÊåáÈíà</strong>ÔºàÊàñÂØπË±°Ê±†‰∏≠ÁöÑÁ¥¢ÂºïÔºâÊòæÂºèÂú∞ËøûÊé•Áà∂Â≠êËäÇÁÇπ„ÄÇÊØè‰∏™ËäÇÁÇπÈÄöÂ∏∏Â≠òÂÇ®ÂÖ∂‰ª£Ë°®Âå∫Èó¥ÁöÑËÅöÂêàÂÄº‰ª•ÂèäÊåáÂêëÂ∑¶Âè≥Â≠êËäÇÁÇπÁöÑÊåáÈíàÔºàÂàùÂßã‰∏∫ <code>nullptr</code>Ôºâ„ÄÇ</li>
<li><strong>ÊåâÈúÄÂàõÂª∫</strong>: Âè™ÊúâÂΩì <code>update</code> Êàñ <code>query</code> Êìç‰ΩúÈÄíÂΩíÂà∞ÈúÄË¶ÅËÆøÈóÆÊüê‰∏™Â≠êËäÇÁÇπÔºåËÄåËØ•Â≠êËäÇÁÇπÁöÑÊåáÈíà‰∏∫ <code>nullptr</code> Êó∂ÔºåÊâçÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑËäÇÁÇπÔºåÂπ∂Â∞ÜÂÖ∂ËøûÊé•Âà∞Áà∂ËäÇÁÇπ‰∏ä„ÄÇ</li>
<li><strong>Á©∫Èó¥ÊïàÁéá</strong>: Âè™‰ºöÂàõÂª∫ÂÆûÈôÖË¢´ËÆøÈóÆÊàñÊõ¥Êñ∞Ë∑ØÂæÑ‰∏äÁöÑËäÇÁÇπ„ÄÇÁ©∫Èó¥Â§çÊùÇÂ∫¶‰∏éÊìç‰ΩúÊ¨°Êï∞ M ÂíåÂå∫Èó¥ËåÉÂõ¥ R ÁöÑÂØπÊï∞Áõ∏ÂÖ≥ÔºåÈÄöÂ∏∏‰∏∫ O(MlogR)ÔºåËøúÂ∞è‰∫éÈùôÊÄÅÊ†ëÁöÑ O(R)„ÄÇ</li>
<li><strong>Êó∂Èó¥ÊïàÁéá</strong>: ÂçïÊ¨°Êü•ËØ¢ÂíåÊõ¥Êñ∞ÁöÑÊó∂Èó¥Â§çÊùÇÂ∫¶‰ªçÁÑ∂ÊòØ O(logR)Ôºå‰∏éÈùôÊÄÅÊ†ëÁ±ª‰ººÔºå‰ΩÜÂèØËÉΩÂõ†‰∏∫ÊåáÈíàËÆøÈóÆÂíåÂä®ÊÄÅÂÜÖÂ≠òÂàÜÈÖçÔºàÂ¶ÇÊûú‰∏ç‰ΩøÁî®ÂØπË±°Ê±†ÔºâÂ∏¶Êù•Á®çÂ§ßÁöÑÂ∏∏Êï∞ÂºÄÈîÄ„ÄÇ</li>
</ol>
<p><strong>C++ Ê®°Êùø (‰ª•Âå∫Èó¥Ê±ÇÂíå„ÄÅÂçïÁÇπÊõ¥Êñ∞‰∏∫‰æã)</strong></p>
<p>C++</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span><span class="lnt">110
</span><span class="lnt">111
</span><span class="lnt">112
</span><span class="lnt">113
</span><span class="lnt">114
</span><span class="lnt">115
</span><span class="lnt">116
</span><span class="lnt">117
</span><span class="lnt">118
</span><span class="lnt">119
</span><span class="lnt">120
</span><span class="lnt">121
</span><span class="lnt">122
</span><span class="lnt">123
</span><span class="lnt">124
</span><span class="lnt">125
</span><span class="lnt">126
</span><span class="lnt">127
</span><span class="lnt">128
</span><span class="lnt">129
</span><span class="lnt">130
</span><span class="lnt">131
</span><span class="lnt">132
</span><span class="lnt">133
</span><span class="lnt">134
</span><span class="lnt">135
</span><span class="lnt">136
</span><span class="lnt">137
</span><span class="lnt">138
</span><span class="lnt">139
</span><span class="lnt">140
</span><span class="lnt">141
</span><span class="lnt">142
</span><span class="lnt">143
</span><span class="lnt">144
</span><span class="lnt">145
</span><span class="lnt">146
</span><span class="lnt">147
</span><span class="lnt">148
</span><span class="lnt">149
</span><span class="lnt">150
</span><span class="lnt">151
</span><span class="lnt">152
</span><span class="lnt">153
</span><span class="lnt">154
</span><span class="lnt">155
</span><span class="lnt">156
</span><span class="lnt">157
</span><span class="lnt">158
</span><span class="lnt">159
</span><span class="lnt">160
</span><span class="lnt">161
</span><span class="lnt">162
</span><span class="lnt">163
</span><span class="lnt">164
</span><span class="lnt">165
</span><span class="lnt">166
</span><span class="lnt">167
</span><span class="lnt">168
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;vector&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;numeric&gt;</span><span class="cp"> </span><span class="c1">// ÂåÖÂê´ std::midpoint (C++20)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="c1">// ‰ΩøÁî® long long ÈÅøÂÖçÊ±ÇÂíåÊ∫¢Âá∫ÔºåÂêåÊó∂Áî®‰∫éÂ≠òÂÇ®ËäÇÁÇπÂÄºÂíåÂùêÊ†á
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">using</span> <span class="n">ll</span> <span class="o">=</span> <span class="kt">long</span> <span class="kt">long</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ËäÇÁÇπÁªìÊûÑ‰Ωì
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">struct</span> <span class="nc">Node</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">Node</span> <span class="o">*</span><span class="n">left</span> <span class="o">=</span> <span class="k">nullptr</span><span class="p">;</span>  <span class="c1">// ÊåáÂêëÂ∑¶Â≠êËäÇÁÇπ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">Node</span> <span class="o">*</span><span class="n">right</span> <span class="o">=</span> <span class="k">nullptr</span><span class="p">;</span> <span class="c1">// ÊåáÂêëÂè≥Â≠êËäÇÁÇπ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">ll</span> <span class="n">value</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>        <span class="c1">// ËäÇÁÇπÂ≠òÂÇ®ÁöÑÂÄº (‰æãÂ¶ÇÂå∫Èó¥Âíå)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="c1">// ÂèØÈÄâÔºöÊûÑÈÄ†ÂáΩÊï∞ÂàùÂßãÂåñ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">Node</span><span class="p">()</span> <span class="o">:</span> <span class="n">left</span><span class="p">(</span><span class="k">nullptr</span><span class="p">),</span> <span class="n">right</span><span class="p">(</span><span class="k">nullptr</span><span class="p">),</span> <span class="n">value</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="p">{}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">DynamicSegmentTree</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="k">private</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">    <span class="n">Node</span> <span class="o">*</span><span class="n">root</span><span class="p">;</span>           <span class="c1">// Ê†ëÁöÑÊ†πËäÇÁÇπÊåáÈíà
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">ll</span> <span class="n">range_l</span><span class="p">,</span> <span class="n">range_r</span><span class="p">;</span> <span class="c1">// Êï¥‰∏™Á∫øÊÆµÊ†ëËÉΩË¶ÜÁõñÁöÑÊúÄÂ§ßËåÉÂõ¥ [range_l, range_r]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="c1">// --- ÂÜÖÈÉ®ÈÄíÂΩíÂáΩÊï∞ ---
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="c1">// push_up: Áî®Â≠êËäÇÁÇπ‰ø°ÊÅØÊõ¥Êñ∞Áà∂ËäÇÁÇπ‰ø°ÊÅØ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// p: ÂΩìÂâçËäÇÁÇπÊåáÈíà
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kt">void</span> <span class="nf">push_up</span><span class="p">(</span><span class="n">Node</span> <span class="o">*</span><span class="n">p</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">p</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span> <span class="c1">// Â¶ÇÊûúËäÇÁÇπ‰∏∫Á©∫ÔºåÂàô‰∏çÊìç‰Ωú
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="n">p</span><span class="o">-&gt;</span><span class="n">value</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="c1">// ÈáçÁΩÆÁà∂ËäÇÁÇπÂÄº
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">if</span> <span class="p">(</span><span class="n">p</span><span class="o">-&gt;</span><span class="n">left</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">p</span><span class="o">-&gt;</span><span class="n">value</span> <span class="o">+=</span> <span class="n">p</span><span class="o">-&gt;</span><span class="n">left</span><span class="o">-&gt;</span><span class="n">value</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">p</span><span class="o">-&gt;</span><span class="n">right</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">p</span><span class="o">-&gt;</span><span class="n">value</span> <span class="o">+=</span> <span class="n">p</span><span class="o">-&gt;</span><span class="n">right</span><span class="o">-&gt;</span><span class="n">value</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// Ê±ÇÊúÄÂÄºÁ≠âÊìç‰ΩúÁ±ª‰ººË∞ÉÊï¥
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// update_recursive: ÈÄíÂΩíÊâßË°åÂçïÁÇπÊõ¥Êñ∞
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// p_ref: ÂΩìÂâçËäÇÁÇπÊåáÈíàÁöÑÂºïÁî® (Âõ†‰∏∫ÂèØËÉΩÈúÄË¶ÅÂàõÂª∫Êñ∞ËäÇÁÇπÂπ∂‰øÆÊîπÊåáÈíà)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// l, r: ÂΩìÂâçËäÇÁÇπ‰ª£Ë°®ÁöÑÂå∫Èó¥ [l, r]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// index: ÈúÄË¶ÅÊõ¥Êñ∞ÁöÑÂéüÂßãÂùêÊ†á
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// val: Êõ¥Êñ∞ÁöÑÂ¢ûÈáè (ÊàñÊñ∞ÂÄºÔºåÂèñÂÜ≥‰∫éÂÆûÁé∞)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kt">void</span> <span class="nf">update_recursive</span><span class="p">(</span><span class="n">Node</span> <span class="o">*&amp;</span><span class="n">p</span><span class="p">,</span> <span class="n">ll</span> <span class="n">l</span><span class="p">,</span> <span class="n">ll</span> <span class="n">r</span><span class="p">,</span> <span class="n">ll</span> <span class="n">index</span><span class="p">,</span> <span class="n">ll</span> <span class="n">val</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// 1. Â¶ÇÊûúËäÇÁÇπ‰∏çÂ≠òÂú®ÔºåÂä®ÊÄÅÂàõÂª∫
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">p</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">p</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Node</span><span class="p">();</span> <span class="c1">// ÊàñËÄÖ‰ªéÂØπË±°Ê±†ÂàÜÈÖç
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// 2. Âà∞ËææÂè∂Â≠êËäÇÁÇπ (‰ª£Ë°®Âçï‰∏™ÂùêÊ†á)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">if</span> <span class="p">(</span><span class="n">l</span> <span class="o">==</span> <span class="n">r</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">p</span><span class="o">-&gt;</span><span class="n">value</span> <span class="o">+=</span> <span class="n">val</span><span class="p">;</span> <span class="c1">// ÊàñËÄÖ p-&gt;value = valÔºåÂèñÂÜ≥‰∫éÊõ¥Êñ∞ÊòØÂ¢ûÈáèËøòÊòØËµãÂÄº
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="k">return</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// 3. ÈÄíÂΩíÊõ¥Êñ∞Â≠êËäÇÁÇπ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="c1">// C++20: ll mid = std::midpoint(l, r);
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="n">ll</span> <span class="n">mid</span> <span class="o">=</span> <span class="n">l</span> <span class="o">+</span> <span class="p">(</span><span class="n">r</span> <span class="o">-</span> <span class="n">l</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span> <span class="c1">// ‰ΩøÁî® ll Èò≤Ê≠¢‰∏≠ÁÇπËÆ°ÁÆóÊ∫¢Âá∫
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">if</span> <span class="p">(</span><span class="n">index</span> <span class="o">&lt;=</span> <span class="n">mid</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">update_recursive</span><span class="p">(</span><span class="n">p</span><span class="o">-&gt;</span><span class="n">left</span><span class="p">,</span> <span class="n">l</span><span class="p">,</span> <span class="n">mid</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">val</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">update_recursive</span><span class="p">(</span><span class="n">p</span><span class="o">-&gt;</span><span class="n">right</span><span class="p">,</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">val</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// 4. ÂõûÊ∫ØÊó∂Êõ¥Êñ∞ÂΩìÂâçËäÇÁÇπ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="n">push_up</span><span class="p">(</span><span class="n">p</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// query_recursive: ÈÄíÂΩíÊâßË°åÂå∫Èó¥Êü•ËØ¢
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// p: ÂΩìÂâçËäÇÁÇπÊåáÈíà
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// l, r: ÂΩìÂâçËäÇÁÇπ‰ª£Ë°®ÁöÑÂå∫Èó¥ [l, r]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// query_l, query_r: ÈúÄË¶ÅÊü•ËØ¢ÁöÑÂå∫Èó¥ËåÉÂõ¥ [query_l, query_r]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">ll</span> <span class="nf">query_recursive</span><span class="p">(</span><span class="n">Node</span> <span class="o">*</span><span class="n">p</span><span class="p">,</span> <span class="n">ll</span> <span class="n">l</span><span class="p">,</span> <span class="n">ll</span> <span class="n">r</span><span class="p">,</span> <span class="n">ll</span> <span class="n">query_l</span><span class="p">,</span> <span class="n">ll</span> <span class="n">query_r</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// 1. Â¶ÇÊûúËäÇÁÇπ‰∏çÂ≠òÂú®ÔºåËØ¥ÊòéËøôÈÉ®ÂàÜÂå∫Èó¥Ê≤°ÊúâË¢´Êõ¥Êñ∞ËøáÔºåËøîÂõûË¥°ÁåÆ‰∏∫0 (ÊàñÊúÄÂÄºÁöÑÂçï‰ΩçÂÖÉ)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">p</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="mi">0</span><span class="p">;</span> <span class="c1">// Ê±ÇÂíåÁöÑÂçï‰ΩçÂÖÉÊòØ0
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// 2. ÂΩìÂâçÂå∫Èó¥ÂÆåÂÖ®ÂåÖÂê´Âú®Êü•ËØ¢Âå∫Èó¥ÂÜÖ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">if</span> <span class="p">(</span><span class="n">query_l</span> <span class="o">&lt;=</span> <span class="n">l</span> <span class="o">&amp;&amp;</span> <span class="n">r</span> <span class="o">&lt;=</span> <span class="n">query_r</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="n">p</span><span class="o">-&gt;</span><span class="n">value</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// 3. ÈÄíÂΩíÊü•ËØ¢Â≠êËäÇÁÇπÂπ∂ÂêàÂπ∂ÁªìÊûú
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="c1">// C++20: ll mid = std::midpoint(l, r);
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="n">ll</span> <span class="n">mid</span> <span class="o">=</span> <span class="n">l</span> <span class="o">+</span> <span class="p">(</span><span class="n">r</span> <span class="o">-</span> <span class="n">l</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">ll</span> <span class="n">result</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="c1">// ÂàùÂßãÂåñÁªìÊûú (Ê±ÇÂíå‰∏∫0)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">query_l</span> <span class="o">&lt;=</span> <span class="n">mid</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">result</span> <span class="o">+=</span> <span class="n">query_recursive</span><span class="p">(</span><span class="n">p</span><span class="o">-&gt;</span><span class="n">left</span><span class="p">,</span> <span class="n">l</span><span class="p">,</span> <span class="n">mid</span><span class="p">,</span> <span class="n">query_l</span><span class="p">,</span> <span class="n">query_r</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">query_r</span> <span class="o">&gt;</span> <span class="n">mid</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">result</span> <span class="o">+=</span> <span class="n">query_recursive</span><span class="p">(</span><span class="n">p</span><span class="o">-&gt;</span><span class="n">right</span><span class="p">,</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">query_l</span><span class="p">,</span> <span class="n">query_r</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">result</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// ÂèØÈÄâ: ÈÄíÂΩíÂà†Èô§ËäÇÁÇπÔºåÈáäÊîæÂÜÖÂ≠ò
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kt">void</span> <span class="nf">destroy_tree</span><span class="p">(</span><span class="n">Node</span><span class="o">*</span> <span class="n">p</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">p</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">destroy_tree</span><span class="p">(</span><span class="n">p</span><span class="o">-&gt;</span><span class="n">left</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="n">destroy_tree</span><span class="p">(</span><span class="n">p</span><span class="o">-&gt;</span><span class="n">right</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="k">delete</span> <span class="n">p</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// ÊûÑÈÄ†ÂáΩÊï∞ÔºåÊåáÂÆöÁ∫øÊÆµÊ†ëËÉΩË¶ÜÁõñÁöÑÊúÄÂ§ßËåÉÂõ¥
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">DynamicSegmentTree</span><span class="p">(</span><span class="n">ll</span> <span class="n">l</span><span class="p">,</span> <span class="n">ll</span> <span class="n">r</span><span class="p">)</span> <span class="o">:</span> <span class="n">root</span><span class="p">(</span><span class="k">nullptr</span><span class="p">),</span> <span class="n">range_l</span><span class="p">(</span><span class="n">l</span><span class="p">),</span> <span class="n">range_r</span><span class="p">(</span><span class="n">r</span><span class="p">)</span> <span class="p">{}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// ÂÖ¨ÂÖ±Êé•Âè£ÔºöÂçïÁÇπÊõ¥Êñ∞
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// index: Êõ¥Êñ∞ÁöÑ‰ΩçÁΩÆ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// value: Êõ¥Êñ∞ÁöÑÂÄº (Â¢ûÈáèÊàñÊñ∞ÂÄº)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kt">void</span> <span class="nf">update</span><span class="p">(</span><span class="n">ll</span> <span class="n">index</span><span class="p">,</span> <span class="n">ll</span> <span class="n">value</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">update_recursive</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">range_l</span><span class="p">,</span> <span class="n">range_r</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">value</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// ÂÖ¨ÂÖ±Êé•Âè£ÔºöÂå∫Èó¥Êü•ËØ¢
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// query_l, query_r: Êü•ËØ¢ÁöÑÂå∫Èó¥
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">ll</span> <span class="nf">query</span><span class="p">(</span><span class="n">ll</span> <span class="n">query_l</span><span class="p">,</span> <span class="n">ll</span> <span class="n">query_r</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// ÂèØ‰ª•Âä†‰∏Ä‰∫õËæπÁïåÊ£ÄÊü•
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">if</span> <span class="p">(</span><span class="n">query_l</span> <span class="o">&gt;</span> <span class="n">query_r</span> <span class="o">||</span> <span class="n">query_l</span> <span class="o">&gt;</span> <span class="n">range_r</span> <span class="o">||</span> <span class="n">query_r</span> <span class="o">&lt;</span> <span class="n">range_l</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="mi">0</span><span class="p">;</span> <span class="c1">// Êó†ÊïàÊü•ËØ¢ËøîÂõû0
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="n">query_l</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">max</span><span class="p">(</span><span class="n">query_l</span><span class="p">,</span> <span class="n">range_l</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="n">query_r</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">query_r</span><span class="p">,</span> <span class="n">range_r</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">query_recursive</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">range_l</span><span class="p">,</span> <span class="n">range_r</span><span class="p">,</span> <span class="n">query_l</span><span class="p">,</span> <span class="n">query_r</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// ÂèØÈÄâ: ÊûêÊûÑÂáΩÊï∞ÔºåÈáäÊîæÊâÄÊúâÂä®ÊÄÅÂàÜÈÖçÁöÑËäÇÁÇπÂÜÖÂ≠ò
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="o">~</span><span class="n">DynamicSegmentTree</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">       <span class="c1">// destroy_tree(root);
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>       <span class="c1">// Ê≥®ÊÑèÔºöÂ¶ÇÊûú‰ΩøÁî®ÂØπË±°Ê±†ÔºåÊûêÊûÑÈÄªËæë‰ºö‰∏çÂêå
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// --- ‰ΩøÁî®Á§∫‰æã ---
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="cm">/*
</span></span></span><span class="line"><span class="cl"><span class="cm">int main() {
</span></span></span><span class="line"><span class="cl"><span class="cm">    // ÂÆö‰πâ‰∏Ä‰∏™ËÉΩÂ§ÑÁêÜÂùêÊ†áËåÉÂõ¥ [1, 10^9] ÁöÑÂä®ÊÄÅÂºÄÁÇπÁ∫øÊÆµÊ†ë
</span></span></span><span class="line"><span class="cl"><span class="cm">    ll min_coord = 1;
</span></span></span><span class="line"><span class="cl"><span class="cm">    ll max_coord = 1000000000;
</span></span></span><span class="line"><span class="cl"><span class="cm">    DynamicSegmentTree dst(min_coord, max_coord);
</span></span></span><span class="line"><span class="cl"><span class="cm">
</span></span></span><span class="line"><span class="cl"><span class="cm">    // Êõ¥Êñ∞ÁÇπ 100 ÁöÑÂÄº‰∏∫ 5 (ÂÅáËÆæÊòØÂ¢ûÈáèÊõ¥Êñ∞)
</span></span></span><span class="line"><span class="cl"><span class="cm">    dst.update(100, 5);
</span></span></span><span class="line"><span class="cl"><span class="cm">    // Êõ¥Êñ∞ÁÇπ 200 ÁöÑÂÄº‰∏∫ 10
</span></span></span><span class="line"><span class="cl"><span class="cm">    dst.update(200, 10);
</span></span></span><span class="line"><span class="cl"><span class="cm">    // Êõ¥Êñ∞ÁÇπ 10^9 ÁöÑÂÄº‰∏∫ 7
</span></span></span><span class="line"><span class="cl"><span class="cm">    dst.update(max_coord, 7);
</span></span></span><span class="line"><span class="cl"><span class="cm">
</span></span></span><span class="line"><span class="cl"><span class="cm">    // Êü•ËØ¢Âå∫Èó¥ [50, 250] ÁöÑÂíå
</span></span></span><span class="line"><span class="cl"><span class="cm">    ll sum1 = dst.query(50, 250);
</span></span></span><span class="line"><span class="cl"><span class="cm">    std::cout &lt;&lt; &#34;Sum of [50, 250] is &#34; &lt;&lt; sum1 &lt;&lt; std::endl; // Â∫î‰∏∫ 5 + 10 = 15
</span></span></span><span class="line"><span class="cl"><span class="cm">
</span></span></span><span class="line"><span class="cl"><span class="cm">    // Êü•ËØ¢Âå∫Èó¥ [150, 10^9] ÁöÑÂíå
</span></span></span><span class="line"><span class="cl"><span class="cm">    ll sum2 = dst.query(150, max_coord);
</span></span></span><span class="line"><span class="cl"><span class="cm">    std::cout &lt;&lt; &#34;Sum of [150, 10^9] is &#34; &lt;&lt; sum2 &lt;&lt; std::endl; // Â∫î‰∏∫ 10 + 7 = 17
</span></span></span><span class="line"><span class="cl"><span class="cm">
</span></span></span><span class="line"><span class="cl"><span class="cm">    // Êü•ËØ¢Êï¥‰∏™ËåÉÂõ¥ÁöÑÂíå
</span></span></span><span class="line"><span class="cl"><span class="cm">    ll sum_total = dst.query(min_coord, max_coord);
</span></span></span><span class="line"><span class="cl"><span class="cm">     std::cout &lt;&lt; &#34;Sum of [&#34; &lt;&lt; min_coord &lt;&lt; &#34;, &#34; &lt;&lt; max_coord &lt;&lt; &#34;] is &#34; &lt;&lt; sum_total &lt;&lt; std::endl; // Â∫î‰∏∫ 5 + 10 + 7 = 22
</span></span></span><span class="line"><span class="cl"><span class="cm">
</span></span></span><span class="line"><span class="cl"><span class="cm">
</span></span></span><span class="line"><span class="cl"><span class="cm">    return 0;
</span></span></span><span class="line"><span class="cl"><span class="cm">}
</span></span></span><span class="line"><span class="cl"><span class="cm">*/</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Âå∫Èó¥ÊúÄÂ§ßÂÄºÁöÑÂä®ÊÄÅÂºÄÁÇπÁ∫øÊÆµÊ†ëÔºö</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">struct</span> <span class="nc">Node</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">Node</span> <span class="o">*</span><span class="n">l</span> <span class="o">=</span> <span class="k">nullptr</span><span class="p">;</span>  <span class="c1">// ÊåáÂêëÂ∑¶Â≠êËäÇÁÇπ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">Node</span> <span class="o">*</span><span class="n">r</span> <span class="o">=</span> <span class="k">nullptr</span><span class="p">;</span> <span class="c1">// ÊåáÂêëÂè≥Â≠êËäÇÁÇπ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kt">int</span> <span class="n">right</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">left</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kt">bool</span> <span class="n">lazy</span><span class="o">=</span><span class="nb">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">value</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>        <span class="c1">// ËäÇÁÇπÂ≠òÂÇ®ÁöÑÂÄº (‰æãÂ¶ÇÂå∫Èó¥Âíå)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">    <span class="n">vector</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">getSkyline</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;&amp;</span> <span class="n">buildings</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">set</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">boundry</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span><span class="p">(</span><span class="k">auto</span><span class="o">&amp;</span> <span class="nl">building</span><span class="p">:</span><span class="n">buildings</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">            <span class="n">boundry</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">building</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">            <span class="n">boundry</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">building</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">unordered_map</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">discrete</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kt">int</span> <span class="n">cnt</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span><span class="p">(</span><span class="k">auto</span> <span class="nl">b</span><span class="p">:</span><span class="n">boundry</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">            <span class="n">discrete</span><span class="p">[</span><span class="n">b</span><span class="p">]</span><span class="o">=</span><span class="n">cnt</span><span class="o">++</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">Node</span><span class="o">*</span> <span class="n">root</span><span class="o">=</span><span class="k">nullptr</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">for</span><span class="p">(</span><span class="k">auto</span><span class="o">&amp;</span> <span class="nl">building</span><span class="p">:</span><span class="n">buildings</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">            <span class="kt">int</span> <span class="n">l</span><span class="o">=</span><span class="n">discrete</span><span class="p">[</span><span class="n">building</span><span class="p">[</span><span class="mi">0</span><span class="p">]];</span>
</span></span><span class="line"><span class="cl">            <span class="kt">int</span> <span class="n">r</span><span class="o">=</span><span class="n">discrete</span><span class="p">[</span><span class="n">building</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span><span class="o">-</span><span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="n">update_interval</span><span class="p">(</span><span class="n">root</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="n">discrete</span><span class="p">.</span><span class="n">size</span><span class="p">()</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">l</span><span class="p">,</span><span class="n">r</span><span class="p">,</span><span class="n">building</span><span class="p">[</span><span class="mi">2</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">vector</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">res</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kt">int</span> <span class="n">pre_height</span><span class="o">=-</span><span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span><span class="p">(</span><span class="k">auto</span> <span class="nl">b</span><span class="p">:</span><span class="n">boundry</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">            <span class="kt">int</span> <span class="n">idx</span><span class="o">=</span><span class="n">discrete</span><span class="p">[</span><span class="n">b</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">            <span class="kt">int</span> <span class="n">height</span><span class="o">=</span><span class="n">query</span><span class="p">(</span><span class="n">root</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="n">discrete</span><span class="p">.</span><span class="n">size</span><span class="p">()</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">idx</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span><span class="p">(</span><span class="n">height</span><span class="o">!=</span><span class="n">pre_height</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">                <span class="n">pre_height</span><span class="o">=</span><span class="n">height</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                <span class="n">res</span><span class="p">.</span><span class="n">push_back</span><span class="p">({</span><span class="n">b</span><span class="p">,</span><span class="n">height</span><span class="p">});</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">res</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kt">void</span> <span class="nf">update_interval</span><span class="p">(</span><span class="n">Node</span><span class="o">*</span> <span class="o">&amp;</span><span class="n">p</span><span class="p">,</span><span class="kt">int</span> <span class="n">curleft</span><span class="p">,</span><span class="kt">int</span> <span class="n">curright</span><span class="p">,</span><span class="kt">int</span> <span class="n">l</span><span class="p">,</span><span class="kt">int</span> <span class="n">r</span><span class="p">,</span><span class="kt">int</span> <span class="n">val</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">p</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">            <span class="n">p</span><span class="o">=</span><span class="k">new</span> <span class="n">Node</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">            <span class="n">p</span><span class="o">-&gt;</span><span class="n">left</span><span class="o">=</span><span class="n">curleft</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="n">p</span><span class="o">-&gt;</span><span class="n">right</span><span class="o">=</span><span class="n">curright</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">if</span><span class="p">((</span><span class="n">l</span><span class="o">&lt;=</span><span class="n">curleft</span><span class="o">&amp;&amp;</span><span class="n">r</span><span class="o">&gt;=</span><span class="n">curright</span><span class="p">)){</span>
</span></span><span class="line"><span class="cl">            <span class="n">p</span><span class="o">-&gt;</span><span class="n">value</span><span class="o">=</span><span class="n">max</span><span class="p">(</span><span class="n">p</span><span class="o">-&gt;</span><span class="n">value</span><span class="p">,</span><span class="n">val</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="n">p</span><span class="o">-&gt;</span><span class="n">lazy</span><span class="o">=</span><span class="nb">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="n">spread</span><span class="p">(</span><span class="n">p</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="kt">int</span> <span class="n">mid</span><span class="o">=</span><span class="n">curleft</span><span class="o">+</span><span class="p">(</span><span class="n">curright</span><span class="o">-</span><span class="n">curleft</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span><span class="p">(</span><span class="n">l</span><span class="o">&lt;=</span><span class="n">mid</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">            <span class="n">update_interval</span><span class="p">(</span><span class="n">p</span><span class="o">-&gt;</span><span class="n">l</span><span class="p">,</span><span class="n">curleft</span><span class="p">,</span><span class="n">mid</span><span class="p">,</span><span class="n">l</span><span class="p">,</span><span class="n">r</span><span class="p">,</span><span class="n">val</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span><span class="p">(</span><span class="n">r</span><span class="o">&gt;</span><span class="n">mid</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">            <span class="n">update_interval</span><span class="p">(</span><span class="n">p</span><span class="o">-&gt;</span><span class="n">r</span><span class="p">,</span><span class="n">mid</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">curright</span><span class="p">,</span><span class="n">l</span><span class="p">,</span><span class="n">r</span><span class="p">,</span><span class="n">val</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kt">void</span> <span class="nf">spread</span><span class="p">(</span><span class="n">Node</span><span class="o">*</span> <span class="n">p</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span><span class="p">(</span><span class="n">p</span><span class="o">&amp;&amp;</span><span class="n">p</span><span class="o">-&gt;</span><span class="n">lazy</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">            <span class="n">p</span><span class="o">-&gt;</span><span class="n">lazy</span><span class="o">=</span><span class="nb">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">p</span><span class="o">-&gt;</span><span class="n">l</span><span class="p">)</span> <span class="n">p</span><span class="o">-&gt;</span><span class="n">l</span><span class="o">=</span><span class="k">new</span> <span class="n">Node</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">p</span><span class="o">-&gt;</span><span class="n">r</span><span class="p">)</span> <span class="n">p</span><span class="o">-&gt;</span><span class="n">r</span><span class="o">=</span><span class="k">new</span> <span class="n">Node</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">            <span class="n">p</span><span class="o">-&gt;</span><span class="n">l</span><span class="o">-&gt;</span><span class="n">value</span><span class="o">=</span><span class="n">max</span><span class="p">(</span><span class="n">p</span><span class="o">-&gt;</span><span class="n">l</span><span class="o">-&gt;</span><span class="n">value</span><span class="p">,</span><span class="n">p</span><span class="o">-&gt;</span><span class="n">value</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="n">p</span><span class="o">-&gt;</span><span class="n">r</span><span class="o">-&gt;</span><span class="n">value</span><span class="o">=</span><span class="n">max</span><span class="p">(</span><span class="n">p</span><span class="o">-&gt;</span><span class="n">r</span><span class="o">-&gt;</span><span class="n">value</span><span class="p">,</span><span class="n">p</span><span class="o">-&gt;</span><span class="n">value</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="n">p</span><span class="o">-&gt;</span><span class="n">l</span><span class="o">-&gt;</span><span class="n">lazy</span><span class="o">=</span><span class="nb">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="n">p</span><span class="o">-&gt;</span><span class="n">r</span><span class="o">-&gt;</span><span class="n">lazy</span><span class="o">=</span><span class="nb">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="nf">query</span><span class="p">(</span><span class="n">Node</span><span class="o">*</span> <span class="n">p</span><span class="p">,</span><span class="kt">int</span> <span class="n">curleft</span><span class="p">,</span><span class="kt">int</span> <span class="n">curright</span><span class="p">,</span><span class="kt">int</span> <span class="n">idx</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">p</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span><span class="p">(</span><span class="n">curleft</span><span class="o">==</span><span class="n">curright</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="n">p</span><span class="o">-&gt;</span><span class="n">value</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="n">spread</span><span class="p">(</span><span class="n">p</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="kt">int</span> <span class="n">mid</span><span class="o">=</span><span class="n">curleft</span><span class="o">+</span><span class="p">(</span><span class="n">curright</span><span class="o">-</span><span class="n">curleft</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span><span class="p">(</span><span class="n">idx</span><span class="o">&lt;=</span><span class="n">mid</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="n">query</span><span class="p">(</span><span class="n">p</span><span class="o">-&gt;</span><span class="n">l</span><span class="p">,</span><span class="n">curleft</span><span class="p">,</span><span class="n">mid</span><span class="p">,</span><span class="n">idx</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="k">else</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="n">query</span><span class="p">(</span><span class="n">p</span><span class="o">-&gt;</span><span class="n">r</span><span class="p">,</span><span class="n">mid</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">curright</span><span class="p">,</span><span class="n">idx</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>==Âú®‰ΩøÁî®Á∫øÊÆµÊ†ëÁöÑÊó∂ÂÄôÔºåÊâÄË∞ìÁöÑÂå∫Èó¥Âπ∂‰∏çÂè™ÊòØ‰ª£Ë°®ÁùÄÁúüÂÆûÁöÑÊï∞ÂÄºÈòàÂÄºÁöÑÂå∫Èó¥ÔºåËøòÊúâÁ¶ªÊï£ÂåñÂêéÁöÑÂå∫Èó¥ÂÄº„ÄÇËøôÊ†∑Â≠êÂ∞±ÂèØ‰ª•Â∞ÜÂéüÂÖàÁöÑË∑®Â∫¶ÂæàÂ§ßÁöÑÂå∫Èó¥ÂèòÊàê‰∏Ä‰∏™Ë∑®Â∫¶Â∞èÁöÑÁ¶ªÊï£ÂåñÂå∫Èó¥ÈóÆÈ¢ò„ÄÇ==</p>
<p><strong>ËØ¥Êòé‰∏éÊ≥®ÊÑè‰∫ãÈ°π</strong></p>
<ol>
<li><strong>ÊåáÈíà‰∏éÂÜÖÂ≠òÁÆ°ÁêÜ</strong>: ‰ΩøÁî®Ë£∏ÊåáÈíà <code>new Node()</code> ÈúÄË¶ÅÊ≥®ÊÑèÂÜÖÂ≠òÊ≥ÑÊºè„ÄÇÂú®ÂÆûÈôÖÂ∫îÁî®ÊàñÁ´ûËµõ‰∏≠ÔºåÂ¶ÇÊûúÊìç‰ΩúÊ¨°Êï∞ÊúâÈôêÔºåÂèØ‰ª•‰∏çÂÜôÊûêÊûÑÂáΩÊï∞ÔºàÁ®ãÂ∫èÁªìÊùüÊó∂ÂÜÖÂ≠ò‰ºöËá™Âä®ÈáäÊîæÔºâ„ÄÇÂØπ‰∫éÈúÄË¶ÅÂèçÂ§çÂàõÂª∫ÈîÄÊØÅÊàñÈïøÊó∂Èó¥ËøêË°åÁöÑÂú∫ÊôØÔºå<strong>ÂÜÖÂ≠òÊ±† (Node Pool)</strong> ÊòØÊõ¥Â•ΩÁöÑÈÄâÊã©ÔºåÂç≥È¢ÑÂÖàÂàÜÈÖç‰∏Ä‰∏™Â§ßÊï∞ÁªÑ <code>Node pool[MAX_NODES]</code> Âíå‰∏Ä‰∏™ËÆ°Êï∞Âô® <code>node_count</code>ÔºåÊØèÊ¨°ÈúÄË¶ÅÊñ∞ËäÇÁÇπÊó∂ËøîÂõû <code>&amp;pool[node_count++]</code>ÔºåÈÅøÂÖç‰∫Ü <code>new</code> ÁöÑÂºÄÈîÄÂíåÂÜÖÂ≠òÁ¢éÁâáÔºå‰πüÁÆÄÂåñ‰∫ÜÂÜÖÂ≠òÁÆ°ÁêÜ„ÄÇ</li>
<li><strong>ÈÄíÂΩíÂèÇÊï∞</strong>: ÈÄíÂΩíÂáΩÊï∞ÈúÄË¶Å‰º†ÈÄíÂΩìÂâçËäÇÁÇπ‰ª£Ë°®ÁöÑÂå∫Èó¥ËåÉÂõ¥ <code>[l, r]</code>ÔºåÂõ†‰∏∫ËäÇÁÇπÊú¨Ë∫´‰∏çÂÜçÈöêÂºèÂåÖÂê´ËåÉÂõ¥‰ø°ÊÅØ„ÄÇ</li>
<li><strong>Á©∫ËäÇÁÇπÂ§ÑÁêÜ</strong>: Êü•ËØ¢ÂíåÊõ¥Êñ∞ÂáΩÊï∞ÂøÖÈ°ªÊ≠£Á°ÆÂ§ÑÁêÜÈÅáÂà∞ <code>nullptr</code> ÁöÑÊÉÖÂÜµÔºåËøô‰ª£Ë°®ËØ•Â≠êÂå∫Èó¥‰ªéÊú™Ë¢´ËÆøÈóÆÊàñÊõ¥Êñ∞ËøáÔºåÂÖ∂Ë¥°ÁåÆÈÄöÂ∏∏ÊòØÂçï‰ΩçÂÖÉÔºàÂ¶ÇÊ±ÇÂíå‰∏∫0ÔºåÊ±ÇÊúÄÂ∞èÂÄº‰∏∫Êó†Á©∑Â§ßÔºâ„ÄÇ</li>
<li><strong>ÂùêÊ†áÁ±ªÂûã</strong>: Âå∫Èó¥ËåÉÂõ¥ <code>l, r</code> ‰ª•Âèä <code>index</code>, <code>query_l</code>, <code>query_r</code> ÂøÖÈ°ª‰ΩøÁî®ËÉΩÂÆπÁ∫≥ÊûÅÂ§ßÂùêÊ†áËåÉÂõ¥ÁöÑÁ±ªÂûãÔºåÈÄöÂ∏∏ÊòØ <code>long long</code>„ÄÇ</li>
<li><strong>ÊáíÊÉ∞Ê†áËÆ∞</strong>: Âä®ÊÄÅÂºÄÁÇπÁ∫øÊÆµÊ†ëÂêåÊ†∑ÂèØ‰ª•ÊîØÊåÅ<strong>Âå∫Èó¥Êõ¥Êñ∞</strong>Âíå<strong>ÊáíÊÉ∞Ê†áËÆ∞</strong>„ÄÇÂÆûÁé∞ÊñπÂºè‰∏éÈùôÊÄÅÊ†ëÁ±ª‰ººÔºåÂè™ÊòØÈúÄË¶ÅÂú®ÈÄíÂΩí‰∏ãÈôçÂàõÂª∫ËäÇÁÇπÊó∂ÔºåÂêåÊó∂ËÄÉËôëÂπ∂‰∏ã‰º†ÊáíÊÉ∞Ê†áËÆ∞„ÄÇ</li>
<li><strong>Â∫îÁî®Âú∫ÊôØ</strong>: ÈùûÂ∏∏ÈÄÇÂêàÂ§ÑÁêÜÂá†‰ΩïÈóÆÈ¢ò‰∏≠ÁöÑÊâ´ÊèèÁ∫øÁÆóÊ≥ï„ÄÅÁª¥Êä§ÂÄºÂüü‰ø°ÊÅØÁ≠âÂùêÊ†áËåÉÂõ¥ÂæàÂ§ß‰ΩÜÊìç‰ΩúÁ®ÄÁñèÁöÑÂú∫ÊôØ„ÄÇ‰πüÂ∏∏Áî®‰∫éÂÆûÁé∞ÂèØÊåÅ‰πÖÂåñÁ∫øÊÆµÊ†ëÔºà‰∏ªÂ∏≠Ê†ëÔºâÁöÑÂü∫Á°ÄÁªìÊûÑ„ÄÇ</li>
</ol>
<h2 id="Âπ∂Êü•ÈõÜ">Âπ∂Êü•ÈõÜ
</h2><p><strong>Âπ∂Êü•ÈõÜ (Disjoint Set Union - DSU) ÁöÑÊ†∏ÂøÉÁêÜÂøµ</strong></p>
<p>Âπ∂Êü•ÈõÜÊòØ‰∏ÄÁßçÁî®‰∫éÂ§ÑÁêÜ<strong>‰∏çÁõ∏‰∫§ÈõÜÂêàÔºàDisjoint SetsÔºâ</strong> ÁöÑÂêàÂπ∂ÔºàUnionÔºâ‰∏éÊü•ËØ¢ÔºàFindÔºâÈóÆÈ¢òÁöÑÊï∞ÊçÆÁªìÊûÑ„ÄÇÊÉ≥Ë±°‰∏Ä‰∏ãÔºå‰Ω†ÊúâÂæàÂ§öÂÖÉÁ¥†Ôºå‰∏ÄÂºÄÂßãÊØè‰∏™ÂÖÉÁ¥†ÈÉΩÁã¨Ëá™Â±û‰∫é‰∏Ä‰∏™ÈõÜÂêà„ÄÇÂπ∂Êü•ÈõÜ‰∏ªË¶ÅÊîØÊåÅ‰∏§ÁßçÊìç‰ΩúÔºö</p>
<ol>
<li><strong>Find (Êü•Êâæ)</strong>ÔºöÁ°ÆÂÆö‰∏Ä‰∏™ÂÖÉÁ¥†Â±û‰∫éÂì™‰∏™ÈõÜÂêà„ÄÇÈÄöÂ∏∏ÔºåÊØè‰∏™ÈõÜÂêàÈÉΩÊúâ‰∏Ä‰∏™ÂîØ‰∏ÄÁöÑ‚Äú‰ª£Ë°®‚ÄùÔºàÊàñËÄÖÂè´‚ÄúÊ†πËäÇÁÇπ‚ÄùÔºâ„ÄÇ<code>Find(x)</code> Êìç‰ΩúÂ∞±ÊòØÊâæÂá∫ÂÖÉÁ¥† <code>x</code> ÊâÄÂú®ÈõÜÂêàÁöÑ‰ª£Ë°®„ÄÇ</li>
<li><strong>Union (ÂêàÂπ∂)</strong>ÔºöÂ∞Ü‰∏§‰∏™ÂÖÉÁ¥†ÊâÄÂú®ÁöÑÈõÜÂêàÂêàÂπ∂Êàê‰∏Ä‰∏™ÈõÜÂêà„ÄÇÂ¶ÇÊûúÂÖÉÁ¥† <code>x</code> Âíå <code>y</code> ÂàÜÂà´Â±û‰∫é‰∏çÂêåÁöÑÈõÜÂêàÔºå<code>Union(x, y)</code>Êìç‰Ωú‰ºöÂ∞ÜËøô‰∏§‰∏™ÈõÜÂêàÂêàÂπ∂„ÄÇ</li>
</ol>
<p><strong>Ê†∏ÂøÉÊÄùÊÉ≥ÔºöÁî®Ê†ëÂΩ¢ÁªìÊûÑË°®Á§∫ÈõÜÂêà</strong></p>
<p>Âπ∂Êü•ÈõÜÁöÑÊ†∏ÂøÉÊÄùÊÉ≥ÊòØÁî®‰∏Ä‰∏™Ê£ÆÊûóÔºàÂ§öÊ£µÊ†ëÔºâÊù•Ë°®Á§∫Ëøô‰∫õÈõÜÂêà„ÄÇ</p>
<ul>
<li><strong>ÊØè‰∏™ÈõÜÂêàÊòØ‰∏ÄÊ£µÊ†ë</strong>ÔºöÊ†ë‰∏≠ÁöÑÊØè‰∏™ËäÇÁÇπ‰ª£Ë°®‰∏Ä‰∏™ÂÖÉÁ¥†„ÄÇ</li>
<li><strong>Ê†ëÁöÑÊ†πËäÇÁÇπÊòØÈõÜÂêàÁöÑ‰ª£Ë°®</strong>ÔºöÂêå‰∏Ä‰∏™ÈõÜÂêà‰∏≠ÁöÑÊâÄÊúâÂÖÉÁ¥†ÊúÄÁªàÈÉΩÂ±û‰∫é‰ª•Âêå‰∏Ä‰∏™Ê†πËäÇÁÇπ‰∏∫‰ª£Ë°®ÁöÑÊ†ë„ÄÇ</li>
<li><strong>Êü•Êâæ (Find)</strong>Ôºö<code>Find(x)</code> Â∞±ÊòØ‰ªéÂÖÉÁ¥† <code>x</code> ÂØπÂ∫îÁöÑËäÇÁÇπÂºÄÂßãÔºåÊ≤øÁùÄÁà∂ËäÇÁÇπÊåáÈíàÂêë‰∏äÊü•ÊâæÔºåÁõ¥Âà∞ÊâæÂà∞Ê†πËäÇÁÇπÔºàÂç≥Áà∂ËäÇÁÇπÊòØÂÖ∂Ëá™Ë∫´ÁöÑËäÇÁÇπÔºâ„ÄÇËøô‰∏™Ê†πËäÇÁÇπÂ∞±ÊòØ <code>x</code> ÊâÄÂú®ÈõÜÂêàÁöÑ‰ª£Ë°®„ÄÇ</li>
<li><strong>ÂêàÂπ∂ (Union)</strong>Ôºö<code>Union(x, y)</code> È¶ñÂÖàÂàÜÂà´ÊâæÂà∞ <code>x</code> Âíå <code>y</code> ÁöÑÊ†πËäÇÁÇπ <code>rootX</code> Âíå <code>rootY</code>„ÄÇÂ¶ÇÊûú <code>rootX</code> Âíå <code>rootY</code> ‰∏çÂêåÔºàË°®Á§∫ <code>x</code> Âíå <code>y</code> ‰∏çÂú®Âêå‰∏Ä‰∏™ÈõÜÂêàÔºâÔºåÂ∞±Â∞ÜÂÖ∂‰∏≠‰∏ÄÊ£µÊ†ëÁöÑÊ†πËäÇÁÇπÊåáÂêëÂè¶‰∏ÄÊ£µÊ†ëÁöÑÊ†πËäÇÁÇπÔºå‰ªéËÄåÂ∞Ü‰∏§Ê£µÊ†ëÂêàÂπ∂Êàê‰∏ÄÊ£µÔºå‰πüÂ∞±ÊòØÂ∞Ü‰∏§‰∏™ÈõÜÂêàÂêàÂπ∂Êàê‰∏Ä‰∏™„ÄÇ‰æãÂ¶ÇÔºåÂèØ‰ª•ËÆæÁΩÆ <code>parent[rootX] = rootY</code>ÔºåË°®Á§∫Â∞Ü <code>rootX</code> ‰ª£Ë°®ÁöÑÈõÜÂêàÂêàÂπ∂Âà∞ <code>rootY</code> ‰ª£Ë°®ÁöÑÈõÜÂêà‰∏≠„ÄÇ</li>
</ul>
<p><strong>Êï∞ÊçÆË°®Á§∫</strong></p>
<p>ÈÄöÂ∏∏‰ΩøÁî®‰∏Ä‰∏™Êï∞ÁªÑÔºà‰æãÂ¶Ç <code>parent</code> Êàñ <code>fa</code>ÔºâÊù•Â≠òÂÇ®Ëøô‰∏™Ê£ÆÊûóÁªìÊûÑÔºö</p>
<ul>
<li><code>parent[i]</code> Â≠òÂÇ®ÂÖÉÁ¥† <code>i</code> ÁöÑÁà∂ËäÇÁÇπ„ÄÇ</li>
<li>Â¶ÇÊûú <code>parent[i] == i</code>ÔºåÂàôË°®Á§∫ <code>i</code> ÊòØÂÆÉÊâÄÂú®ÈõÜÂêàÔºàÊ†ëÔºâÁöÑÊ†πËäÇÁÇπ„ÄÇ</li>
</ul>
<p><strong>ÂàùÂßãÂåñ</strong></p>
<p>‰∏ÄÂºÄÂßãÔºåÊØè‰∏™ÂÖÉÁ¥†ÈÉΩÊòØ‰∏Ä‰∏™Áã¨Á´ãÁöÑÈõÜÂêàÔºåÊâÄ‰ª•ÊØè‰∏™ÂÖÉÁ¥†ÈÉΩÊòØÂÆÉËá™Â∑±ÁöÑÊ†πËäÇÁÇπÔºö</p>
<p>C++</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">for (int i = 0; i &lt; n; ++i) { // ÂÅáËÆæÊúâ n ‰∏™ÂÖÉÁ¥†ÔºåÁ¥¢Âºï‰ªé 0 Âà∞ n-1
</span></span><span class="line"><span class="cl">    parent[i] = i;
</span></span><span class="line"><span class="cl">}
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>‰ºòÂåñ</strong></p>
<p>Êú¥Á¥†ÁöÑÂÆûÁé∞ÊñπÂºèÂú®ÊûÅÁ´ØÊÉÖÂÜµ‰∏ãÂèØËÉΩÂØºËá¥Ê†ëÈÄÄÂåñÊàêÈìæË°®Ôºå‰ΩøÂæó <code>Find</code> Êìç‰ΩúÁöÑÊó∂Èó¥Â§çÊùÇÂ∫¶ËææÂà∞ O(n)„ÄÇ‰∏∫‰∫ÜÊèêÈ´òÊïàÁéáÔºåÈÄöÂ∏∏‰ºöÈááÁî®‰∏§ÁßçÈáçË¶ÅÁöÑ‰ºòÂåñÊäÄÂ∑ßÔºö</p>
<ol>
<li>
<p><strong>Ë∑ØÂæÑÂéãÁº© (Path Compression)</strong>Ôºö</p>
<ul>
<li><strong>ÊÄùÊÉ≥</strong>ÔºöÂú®ÊâßË°å <code>Find(x)</code> Êìç‰ΩúÔºå‰ªé <code>x</code> Âêë‰∏äÊü•ÊâæÊ†πËäÇÁÇπÁöÑËøáÁ®ã‰∏≠ÔºåÂ∞ÜË∑ØÂæÑ‰∏äÁªèËøáÁöÑÊâÄÊúâËäÇÁÇπÈÉΩÁõ¥Êé•ÊåáÂêëÊ†πËäÇÁÇπ„ÄÇ</li>
<li><strong>ÊïàÊûú</strong>ÔºöÂ§ßÂ§ßÂáèÂ∞ëÊ†ëÁöÑÈ´òÂ∫¶Ôºå‰ΩøÂæóÂêéÁª≠ÂØπËøô‰∫õËäÇÁÇπÁöÑÊü•ÊâæÊìç‰ΩúÂèòÂæóÈùûÂ∏∏Âø´ÔºàÊé•Ëøë O(1)Ôºâ„ÄÇ</li>
<li><strong>ÂÆûÁé∞</strong>ÔºöÂú® <code>Find</code> ÂáΩÊï∞ÁöÑÈÄíÂΩíËøîÂõûËøáÁ®ã‰∏≠ÔºåÊõ¥Êñ∞Ë∑ØÂæÑ‰∏äËäÇÁÇπÁöÑ <code>parent</code> ÂÄº„ÄÇ</li>
</ul>
</li>
<li>
<p><strong>ÊåâÁß©ÂêàÂπ∂ (Union by Rank) Êàñ ÊåâÂ§ßÂ∞èÂêàÂπ∂ (Union by Size)</strong>Ôºö</p>
<ul>
<li>
<p>ÊÄùÊÉ≥</p>
<p>ÔºöÂú®ÊâßË°å</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">Union(x, y)
</span></span></code></pre></td></tr></table>
</div>
</div><p>Êìç‰ΩúÊó∂Ôºå‰∏çÊòØÈöèÊÑèÂú∞Â∞Ü‰∏ÄÊ£µÊ†ëËøûÊé•Âà∞Âè¶‰∏ÄÊ£µÊ†ë‰∏äÔºåËÄåÊòØÊ†πÊçÆ‰∏Ä‰∫õÂêØÂèëÂºèËßÑÂàôÊù•ÂÜ≥ÂÆöÂêàÂπ∂ÊñπÂêëÔºå‰ª•‰øùÊåÅÊ†ëÁöÑÂπ≥Ë°°ÔºåÈò≤Ê≠¢Ê†ëÁöÑÈ´òÂ∫¶ËøáÈ´ò„ÄÇ</p>
<ul>
<li><strong>ÊåâÁß©ÂêàÂπ∂</strong>ÔºöËÆ∞ÂΩïÊØèÊ£µÊ†ëÁöÑ‚ÄúÁß©‚ÄùÔºàrankÔºâÔºåÈÄöÂ∏∏ÊòØÊ†ëÁöÑÈ´òÂ∫¶ÁöÑ‰∏Ä‰∏™‰∏äÁïå„ÄÇÂêàÂπ∂Êó∂ÔºåÂ∞ÜÁß©ËæÉÂ∞èÁöÑÊ†ëÁöÑÊ†πËäÇÁÇπÊåáÂêëÁß©ËæÉÂ§ßÁöÑÊ†ëÁöÑÊ†πËäÇÁÇπ„ÄÇÂ¶ÇÊûúÁß©Áõ∏ÂêåÔºåÂàô‰ªªÈÄâ‰∏Ä‰∏™Ê†πËäÇÁÇπÊåáÂêëÂè¶‰∏Ä‰∏™ÔºåÂπ∂Â∞ÜÂêéËÄÖÁöÑÁß©Âä† 1„ÄÇ</li>
<li><strong>ÊåâÂ§ßÂ∞èÂêàÂπ∂</strong>ÔºöËÆ∞ÂΩïÊØè‰∏™ÈõÜÂêàÔºà‰ª•Ê†πËäÇÁÇπ‰∏∫‰ª£Ë°®ÔºâÁöÑÂ§ßÂ∞èÔºàÂåÖÂê´ÁöÑÂÖÉÁ¥†Êï∞ÈáèÔºâ„ÄÇÂêàÂπ∂Êó∂ÔºåÂ∞ÜÂÖÉÁ¥†Êï∞ÈáèËæÉÂ∞ëÁöÑÈõÜÂêàÁöÑÊ†πËäÇÁÇπÊåáÂêëÂÖÉÁ¥†Êï∞ÈáèËæÉÂ§öÁöÑÈõÜÂêàÁöÑÊ†πËäÇÁÇπÔºåÂπ∂Êõ¥Êñ∞ÂêéËÄÖÁöÑÈõÜÂêàÂ§ßÂ∞è„ÄÇ</li>
</ul>
</li>
<li>
<p><strong>ÊïàÊûú</strong>ÔºöÊúâÊïàÂú∞ÊéßÂà∂‰∫ÜÊ†ëÁöÑÈ´òÂ∫¶ÊàñÂ§ßÂ∞èÔºå‰∏éË∑ØÂæÑÂéãÁº©ÁªìÂêà‰ΩøÁî®ÊïàÊûúÊõ¥‰Ω≥„ÄÇÂÆûË∑µ‰∏≠Ôºå‚ÄúÊåâÂ§ßÂ∞èÂêàÂπ∂‚ÄùÈÄöÂ∏∏ÂÆûÁé∞Êõ¥ÁÆÄÂçï‰∏îÊïàÊûúÂêåÊ†∑Âá∫Ëâ≤„ÄÇ</p>
</li>
</ul>
</li>
</ol>
<p><strong>Êó∂Èó¥Â§çÊùÇÂ∫¶</strong></p>
<p>ÂêåÊó∂‰ΩøÁî®Ë∑ØÂæÑÂéãÁº©ÂíåÊåâÁß©/Â§ßÂ∞èÂêàÂπ∂‰ºòÂåñÂêéÔºåÂπ∂Êü•ÈõÜÁöÑ <code>Find</code> Âíå <code>Union</code> Êìç‰ΩúÁöÑ<strong>ÂùáÊëäÊó∂Èó¥Â§çÊùÇÂ∫¶</strong>ÂèØ‰ª•ËææÂà∞Êé•ËøëÂ∏∏Êï∞Á∫ßÂà´Ôºå‰∏•Ê†ºÊù•ËØ¥ÊòØ O(Œ±(n))ÔºåÂÖ∂‰∏≠ Œ±(n) ÊòØÂèçÈòøÂÖãÊõºÂáΩÊï∞„ÄÇŒ±(n) ÁöÑÂ¢ûÈïøÈÄüÂ∫¶ÊûÅÂÖ∂ÁºìÊÖ¢ÔºåÂØπ‰∫éÊâÄÊúâÂÆûÈôÖÂèØËÉΩÁöÑ n ÂÄºÔºåŒ±(n) ÈÉΩ‰∏ç‰ºöË∂ÖËøá 5ÔºåÂõ†Ê≠§ÂèØ‰ª•ËÆ§‰∏∫ÂÖ∂ÊïàÁéáÈùûÂ∏∏Êé•Ëøë O(1)„ÄÇ</p>
<p><strong>C++ Ê®°ÊùøÂÆûÁé∞ (‰ΩøÁî®Ë∑ØÂæÑÂéãÁº©ÂíåÊåâÂ§ßÂ∞èÂêàÂπ∂)</strong></p>
<p>C++</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;vector&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;numeric&gt;</span><span class="cp"> </span><span class="c1">// ‰∏∫‰∫Ü std::iota
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">DSU</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="k">private</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">parent</span><span class="p">;</span> <span class="c1">// Â≠òÂÇ®ÊØè‰∏™ÂÖÉÁ¥†ÁöÑÁà∂ËäÇÁÇπÔºåÊ†πËäÇÁÇπÁöÑÁà∂ËäÇÁÇπÊòØÂÖ∂Ëá™Ë∫´
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">set_size</span><span class="p">;</span> <span class="c1">// Â≠òÂÇ®‰ª•ËØ•ËäÇÁÇπ‰∏∫Ê†πÁöÑÈõÜÂêàÁöÑÂ§ßÂ∞èÔºà‰ªÖÊ†πËäÇÁÇπÊúâÊïàÔºâ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// ÊûÑÈÄ†ÂáΩÊï∞ÔºöÂàùÂßãÂåñ n ‰∏™ÂÖÉÁ¥†ÔºåÊØè‰∏™ÂÖÉÁ¥†Ëá™Êàê‰∏Ä‰∏™ÈõÜÂêà
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// ÂÖÉÁ¥†ÁºñÂè∑‰ªé 0 Âà∞ n-1
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">DSU</span><span class="p">(</span><span class="kt">int</span> <span class="n">n</span><span class="p">)</span> <span class="o">:</span> <span class="n">parent</span><span class="p">(</span><span class="n">n</span><span class="p">),</span> <span class="n">set_size</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// ÂàùÂßãÂåñÁà∂ËäÇÁÇπÊï∞ÁªÑÔºåÊØè‰∏™ÂÖÉÁ¥†ÁöÑÁà∂ËäÇÁÇπÊòØÂÆÉËá™Â∑±
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="c1">// std::iota(parent.begin(), parent.end(), 0); // Á≠â‰ª∑‰∫é‰∏ãÈù¢ÁöÑÂæ™ÁéØ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">parent</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// Find Êìç‰ΩúÔºöÊü•ÊâæÂÖÉÁ¥† x ÊâÄÂú®ÈõÜÂêàÁöÑ‰ª£Ë°®ÔºàÊ†πËäÇÁÇπÔºâ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// ÂêåÊó∂ËøõË°åË∑ØÂæÑÂéãÁº©‰ºòÂåñ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kt">int</span> <span class="nf">find</span><span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// Â¶ÇÊûú x ‰∏çÊòØÊ†πËäÇÁÇπ (parent[x] != x)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="c1">// ÈÄíÂΩíÊü•ÊâæÊ†πËäÇÁÇπÔºåÂπ∂Â∞Ü x ÁöÑÁà∂ËäÇÁÇπÁõ¥Êé•Êõ¥Êñ∞‰∏∫Ê†πËäÇÁÇπ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">if</span> <span class="p">(</span><span class="n">parent</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="o">!=</span> <span class="n">x</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">parent</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="o">=</span> <span class="n">find</span><span class="p">(</span><span class="n">parent</span><span class="p">[</span><span class="n">x</span><span class="p">]);</span> <span class="c1">// Ë∑ØÂæÑÂéãÁº©
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// ËøîÂõûÊ†πËäÇÁÇπ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">return</span> <span class="n">parent</span><span class="p">[</span><span class="n">x</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// Union Êìç‰ΩúÔºöÂêàÂπ∂ÂÖÉÁ¥† x ÂíåÂÖÉÁ¥† y ÊâÄÂú®ÁöÑÈõÜÂêà
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// ‰ΩøÁî®ÊåâÂ§ßÂ∞èÂêàÂπ∂‰ºòÂåñ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// ËøîÂõû true Â¶ÇÊûúÊàêÂäüÂêàÂπ∂ (x Âíå y ÂéüÊú¨‰∏çÂú®Âêå‰∏ÄÈõÜÂêà)ÔºåÂê¶ÂàôËøîÂõû false
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kt">bool</span> <span class="nf">unite</span><span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">,</span> <span class="kt">int</span> <span class="n">y</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// ÊâæÂà∞ x Âíå y ÁöÑÊ†πËäÇÁÇπ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="kt">int</span> <span class="n">rootX</span> <span class="o">=</span> <span class="n">find</span><span class="p">(</span><span class="n">x</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="kt">int</span> <span class="n">rootY</span> <span class="o">=</span> <span class="n">find</span><span class="p">(</span><span class="n">y</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// Â¶ÇÊûúÊ†πËäÇÁÇπÁõ∏ÂêåÔºåËØ¥Êòé x Âíå y Â∑≤ÁªèÂú®Âêå‰∏Ä‰∏™ÈõÜÂêà‰∏≠ÔºåÊó†ÈúÄÂêàÂπ∂
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">if</span> <span class="p">(</span><span class="n">rootX</span> <span class="o">==</span> <span class="n">rootY</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// ÊåâÂ§ßÂ∞èÂêàÂπ∂ÔºöÂ∞ÜÂ∞èÈõÜÂêàÂêàÂπ∂Âà∞Â§ßÈõÜÂêà‰∏≠
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">if</span> <span class="p">(</span><span class="n">set_size</span><span class="p">[</span><span class="n">rootX</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">set_size</span><span class="p">[</span><span class="n">rootY</span><span class="p">])</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="c1">// ‰∫§Êç¢ rootX Âíå rootYÔºå‰øùËØÅ rootX ÊòØËæÉÂ§ßÔºàÊàñÁ≠âÂ§ßÔºâÈõÜÂêàÁöÑÊ†π
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="n">std</span><span class="o">::</span><span class="n">swap</span><span class="p">(</span><span class="n">rootX</span><span class="p">,</span> <span class="n">rootY</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// Â∞ÜÂ∞èÈõÜÂêà (rootY) ÁöÑÊ†πÊåáÂêëÂ§ßÈõÜÂêà (rootX) ÁöÑÊ†π
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="n">parent</span><span class="p">[</span><span class="n">rootY</span><span class="p">]</span> <span class="o">=</span> <span class="n">rootX</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// Êõ¥Êñ∞Â§ßÈõÜÂêàÁöÑÂ§ßÂ∞è
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="n">set_size</span><span class="p">[</span><span class="n">rootX</span><span class="p">]</span> <span class="o">+=</span> <span class="n">set_size</span><span class="p">[</span><span class="n">rootY</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// set_size[rootY] ÁöÑÂÄº‰∏çÂÜçÈúÄË¶ÅÔºåÂèØ‰ª•‰∏çÊ∏ÖÈõ∂
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="nb">true</span><span class="p">;</span> <span class="c1">// ÂêàÂπ∂ÊàêÂäü
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// Ê£ÄÊü•‰∏§‰∏™ÂÖÉÁ¥†ÊòØÂê¶Âú®Âêå‰∏Ä‰∏™ÈõÜÂêà‰∏≠
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kt">bool</span> <span class="nf">is_same_set</span><span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">,</span> <span class="kt">int</span> <span class="n">y</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">find</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">==</span> <span class="n">find</span><span class="p">(</span><span class="n">y</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// Ëé∑ÂèñÂÖÉÁ¥† x ÊâÄÂú®ÈõÜÂêàÁöÑÂ§ßÂ∞è
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kt">int</span> <span class="nf">get_set_size</span><span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// ÊâæÂà∞ x ÊâÄÂú®ÈõÜÂêàÁöÑÊ†πËäÇÁÇπÔºåËøîÂõûËØ•Ê†πËäÇÁÇπËÆ∞ÂΩïÁöÑÂ§ßÂ∞è
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">return</span> <span class="n">set_size</span><span class="p">[</span><span class="n">find</span><span class="p">(</span><span class="n">x</span><span class="p">)];</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// --- Á§∫‰æãÁî®Ê≥ï ---
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span> <span class="c1">// ÂÅáËÆæÊúâ 10 ‰∏™ÂÖÉÁ¥† (0 Âà∞ 9)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">DSU</span> <span class="n">dsu</span><span class="p">(</span><span class="n">n</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">dsu</span><span class="p">.</span><span class="n">unite</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">dsu</span><span class="p">.</span><span class="n">unite</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">dsu</span><span class="p">.</span><span class="n">unite</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span> <span class="c1">// ÂêàÂπ∂ {0, 1} Âíå {2, 3} =&gt; {0, 1, 2, 3}
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="n">dsu</span><span class="p">.</span><span class="n">unite</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">dsu</span><span class="p">.</span><span class="n">unite</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">dsu</span><span class="p">.</span><span class="n">unite</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">9</span><span class="p">);</span> <span class="c1">// ÂêàÂπ∂ {5, 6} Âíå {9} =&gt; {5, 6, 9}
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;Is 1 and 3 in the same set? &#34;</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="n">dsu</span><span class="p">.</span><span class="n">is_same_set</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="o">?</span> <span class="s">&#34;Yes&#34;</span> <span class="o">:</span> <span class="s">&#34;No&#34;</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span> <span class="c1">// ËæìÂá∫ Yes
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;Is 1 and 5 in the same set? &#34;</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="n">dsu</span><span class="p">.</span><span class="n">is_same_set</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span> <span class="o">?</span> <span class="s">&#34;Yes&#34;</span> <span class="o">:</span> <span class="s">&#34;No&#34;</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span> <span class="c1">// ËæìÂá∫ No
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;Find(3): Representative is &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">dsu</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// ËæìÂá∫ÂèØËÉΩÊòØ 0 Êàñ 2 (ÂèñÂÜ≥‰∫éÂêàÂπ∂È°∫Â∫èÂíåË∑ØÂæÑÂéãÁº©ÊÉÖÂÜµ)Ôºå‰ΩÜ find(0), find(1), find(2), find(3) ÁªìÊûú‰ºöÁõ∏Âêå
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;Size of set containing 3: &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">dsu</span><span class="p">.</span><span class="n">get_set_size</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span> <span class="c1">// ËæìÂá∫ 4
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;Size of set containing 9: &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">dsu</span><span class="p">.</span><span class="n">get_set_size</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span> <span class="c1">// ËæìÂá∫ 3
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Â∞ùËØïÂêàÂπ∂Â∑≤ÁªèÂú®Âêå‰∏ÄÈõÜÂêàÁöÑÂÖÉÁ¥†
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kt">bool</span> <span class="n">merged</span> <span class="o">=</span> <span class="n">dsu</span><span class="p">.</span><span class="n">unite</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;Tried merging 1 and 3 again. Merged? &#34;</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="n">merged</span> <span class="o">?</span> <span class="s">&#34;Yes&#34;</span> <span class="o">:</span> <span class="s">&#34;No&#34;</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span> <span class="c1">// ËæìÂá∫ No
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>ÊÄªÁªì</strong></p>
<p>Âπ∂Êü•ÈõÜÊòØ‰∏ÄÁßçÈùûÂ∏∏È´òÊïàÁöÑÂ§ÑÁêÜÈõÜÂêàÂêàÂπ∂‰∏éÊü•ËØ¢ÈóÆÈ¢òÁöÑÊï∞ÊçÆÁªìÊûÑ„ÄÇÂÖ∂Ê†∏ÂøÉÂú®‰∫éÁî®Ê†ëÔºàÊ£ÆÊûóÔºâË°®Á§∫ÈõÜÂêàÔºåÂπ∂ÈÄöËøá<strong>Ë∑ØÂæÑÂéãÁº©</strong>Âíå<strong>ÊåâÁß©/Â§ßÂ∞èÂêàÂπ∂</strong>‰∏§Áßç‰ºòÂåñÊâãÊÆµÔºå‰ΩøÂæóÂü∫Êú¨Êìç‰ΩúÁöÑÂùáÊëäÊó∂Èó¥Â§çÊùÇÂ∫¶Êé•ËøëÂ∏∏Êï∞„ÄÇÂÆÉÂú®ÂõæËÆ∫ÔºàÂ¶Ç Kruskal ÁÆóÊ≥ïÊ±ÇÊúÄÂ∞èÁîüÊàêÊ†ë„ÄÅÂà§Êñ≠ËøûÈÄöÊÄßÔºâ„ÄÅÁÆóÊ≥ïÁ´ûËµõ‰ª•ÂèäÂÖ∂‰ªñÈúÄË¶ÅÂä®ÊÄÅÁª¥Êä§ÂÖÉÁ¥†ÂàÜÁªÑÂÖ≥Á≥ªÁöÑÂú∫ÊôØ‰∏≠Â∫îÁî®ÂπøÊ≥õ„ÄÇ‰∏äÈù¢Êèê‰æõÁöÑ C++ Ê®°ÊùøÊòØ‰∏Ä‰∏™Ê†áÂáÜ‰∏îÈ´òÊïàÁöÑÂÆûÁé∞„ÄÇ</p>
<h2 id="‰ΩçËøêÁÆó">‰ΩçËøêÁÆó
</h2><p><img src="/huyang/assets/image-20250424184205086.png"
	
	
	
	loading="lazy"
	
		alt="image-20250424184205086"
	
	
></p>
<h2 id="Êï∞ÊçÆÁªìÊûÑ">Êï∞ÊçÆÁªìÊûÑ
</h2><p><img src="/huyang/assets/image-20250424191230113.png"
	
	
	
	loading="lazy"
	
		alt="image-20250424191230113"
	
	
></p>
<p><img src="/huyang/assets/image-20250424191244136.png"
	
	
	
	loading="lazy"
	
		alt="image-20250424191244136"
	
	
></p>
<p><img src="/huyang/assets/image-20250424191255776.png"
	
	
	
	loading="lazy"
	
		alt="image-20250424191255776"
	
	
></p>
<p><img src="/huyang/assets/image-20250424191306194.png"
	
	
	
	loading="lazy"
	
		alt="image-20250424191306194"
	
	
></p>
<p><img src="/huyang/assets/image-20250424191319448.png"
	
	
	
	loading="lazy"
	
		alt="image-20250424191319448"
	
	
></p>
<h2 id="ÂçïË∞ÉÊ†à">ÂçïË∞ÉÊ†à
</h2><p>Â•ΩÁöÑÔºåÊàë‰ª¨Êù•ËØ¶ÁªÜËÆ≤Ëß£‰∏Ä‰∏ã C++ ‰∏≠ÁöÑ<strong>ÂçïË∞ÉÊ†à (Monotonic Stack)</strong>„ÄÇÊàë‰ºöÂÅáËÆæ‰Ω†‰πãÂâçÊ≤°ÊúâÊé•Ëß¶ËøáËøô‰∏™Ê¶ÇÂøµ„ÄÇ</p>
<p><strong>1. ‰ªÄ‰πàÊòØÊ†à (Stack)Ôºü</strong></p>
<p>Âú®ËÆ≤ÂçïË∞ÉÊ†à‰πãÂâçÔºåÊàë‰ª¨ÂÖàÂø´ÈÄüÂõûÈ°æ‰∏Ä‰∏ã‰ªÄ‰πàÊòØ‚ÄúÊ†à‚Äù„ÄÇÊÉ≥Ë±°‰∏ÄÊëûÁõòÂ≠êÔºå‰Ω†Âè™ËÉΩÂú®ÊúÄ‰∏äÈù¢ÊîæÁõòÂ≠êÔºå‰πüÂè™ËÉΩ‰ªéÊúÄ‰∏äÈù¢ÊãøËµ∞ÁõòÂ≠ê„ÄÇËøôÂ∞±ÊòØÊ†àÁöÑÊ†∏ÂøÉÁâπÁÇπÔºö<strong>ÂêéËøõÂÖàÂá∫ (Last-In, First-Out, LIFO)</strong>„ÄÇ</p>
<p>Âú® C++ ‰∏≠ÔºåÊàë‰ª¨ÈÄöÂ∏∏‰ΩøÁî® <code>&lt;stack&gt;</code> Â∫ìÊèê‰æõÁöÑ <code>std::stack</code> ÂÆπÂô®Êù•ÂÆûÁé∞Ê†à„ÄÇÂÆÉ‰∏ªË¶ÅÊúâ‰ª•‰∏ãÊìç‰ΩúÔºö</p>
<ul>
<li><code>push(element)</code>: Â∞ÜÂÖÉÁ¥†ÂéãÂÖ•Ê†àÈ°∂„ÄÇ</li>
<li><code>pop()</code>: ÁßªÈô§Ê†àÈ°∂ÂÖÉÁ¥†„ÄÇ</li>
<li><code>top()</code>: Êü•ÁúãÊ†àÈ°∂ÂÖÉÁ¥†Ôºà‰∏çÁßªÈô§Ôºâ„ÄÇ</li>
<li><code>empty()</code>: Ê£ÄÊü•Ê†àÊòØÂê¶‰∏∫Á©∫„ÄÇ</li>
<li><code>size()</code>: Ëé∑ÂèñÊ†à‰∏≠ÂÖÉÁ¥†ÁöÑÊï∞Èáè„ÄÇ</li>
</ul>
<p><strong>2. ‰ªÄ‰πàÊòØÂçïË∞ÉÊ†à (Monotonic Stack)Ôºü</strong></p>
<p>ÂçïË∞ÉÊ†àÊòØ‰∏ÄÁßçÁâπÊÆäÁöÑÊ†àÔºåÂÆÉÂú®Â≠òÂÇ®ÂÖÉÁ¥†Êó∂Ôºå<strong>ÂßãÁªà‰øùÊåÅÊ†àÂÜÖÂÖÉÁ¥†ÁöÑÂçïË∞ÉÊÄß</strong>„ÄÇ‰πüÂ∞±ÊòØËØ¥Ôºå‰ªéÊ†àÂ∫ïÂà∞Ê†àÈ°∂ÔºåÂÖÉÁ¥†Ë¶Å‰πàÊòØ**ÂçïË∞É‰∏çÂáèÔºàÈÄíÂ¢ûÔºâ<strong>ÁöÑÔºåË¶Å‰πàÊòØ</strong>ÂçïË∞É‰∏çÂ¢ûÔºàÈÄíÂáèÔºâ**ÁöÑ„ÄÇ</p>
<ul>
<li><strong>ÂçïË∞ÉÈÄíÂ¢ûÊ†à (Monotonically Increasing Stack):</strong> ‰ªéÊ†àÂ∫ïÂà∞Ê†àÈ°∂ÔºåÂÖÉÁ¥†ÁöÑÂÄºÊòØÈùûÈÄíÂáèÁöÑÔºà‰æãÂ¶ÇÔºö<code>[1, 3, 3, 5, 8]</code>Ôºâ„ÄÇ</li>
<li><strong>ÂçïË∞ÉÈÄíÂáèÊ†à (Monotonically Decreasing Stack):</strong> ‰ªéÊ†àÂ∫ïÂà∞Ê†àÈ°∂ÔºåÂÖÉÁ¥†ÁöÑÂÄºÊòØÈùûÈÄíÂ¢ûÁöÑÔºà‰æãÂ¶ÇÔºö<code>[9, 6, 6, 4, 2]</code>Ôºâ„ÄÇ</li>
</ul>
<p><strong>ÂÖ≥ÈîÆÁÇπÔºö</strong> ÂçïË∞ÉÊÄßÊòØÂú®<strong>ÂÖÉÁ¥†ÂÖ•Ê†àÊó∂</strong>ÈÄöËøá‰∏ÄÁ≥ªÂàóÊìç‰ΩúÊù•Áª¥Êä§ÁöÑÔºåËÄå‰∏çÊòØËØ¥Ê†àÈáåÁöÑÂÖÉÁ¥†Ëá™ÂßãËá≥ÁªàÈÉΩÂÆåÂÖ®‰øùÊåÅÂçïË∞ÉÔºàÂõ†‰∏∫‰ºöÊúâÂá∫Ê†àÊìç‰ΩúÔºâ„ÄÇ</p>
<p><strong>3. ÂçïË∞ÉÊ†àÁöÑÊ†∏ÂøÉÊÄùÊÉ≥‰∏éÊìç‰Ωú</strong></p>
<p>ÂçïË∞ÉÊ†àÊúÄÊ†∏ÂøÉÁöÑ‰ΩúÁî®ÊòØÔºö<strong>È´òÊïàÂú∞ÊâæÂà∞‰∏Ä‰∏™ÂÖÉÁ¥†Â∑¶ËæπÊàñÂè≥ËæπÁ¨¨‰∏Ä‰∏™ÊØîÂÆÉÂ§ßÔºàÊàñÂ∞èÔºâÁöÑÂÖÉÁ¥†</strong>„ÄÇ</p>
<p>ÂÆÉÁöÑÊìç‰ΩúÈÄªËæëÂ¶Ç‰∏ãÔºà‰ª•<strong>ÂçïË∞ÉÈÄíÂ¢ûÊ†à</strong>‰∏∫‰æãÔºåÊâæÂè≥ËæπÁ¨¨‰∏Ä‰∏™Êõ¥Â∞èÁöÑÂÖÉÁ¥†ÔºâÔºö</p>
<p>ÂÅáËÆæÊàë‰ª¨Êúâ‰∏Ä‰∏™Êï∞ÁªÑ <code>nums</code>ÔºåÊàë‰ª¨Ë¶Å‰∏∫Êï∞ÁªÑ‰∏≠ÁöÑÊØè‰∏™ÂÖÉÁ¥† <code>nums[i]</code> ÊâæÂà∞ÂÆÉÂè≥ËæπÁ¨¨‰∏Ä‰∏™ÊØîÂÆÉÂ∞èÁöÑÂÖÉÁ¥†„ÄÇÊàë‰ª¨Áª¥Êä§‰∏Ä‰∏™ÂçïË∞ÉÈÄíÂ¢ûÊ†àÔºåÈáåÈù¢Â≠òÂÇ®ÁöÑÊòØÂÖÉÁ¥†ÁöÑ<strong>‰∏ãÊ†á (index)</strong>ÔºàÂ≠òÂÇ®‰∏ãÊ†áÈÄöÂ∏∏ÊØîÂ≠òÂÇ®ÂÄºÊõ¥Êñπ‰æøÔºåÂõ†‰∏∫ÂèØ‰ª•ÈÄöËøá‰∏ãÊ†áËÆøÈóÆÂéüÂÄºÔºåÂπ∂‰∏îÂèØ‰ª•ËÆ°ÁÆóË∑ùÁ¶ªÔºâ„ÄÇ</p>
<p>Êàë‰ª¨‰ªéÂ∑¶Âà∞Âè≥ÈÅçÂéÜÊï∞ÁªÑ <code>nums</code> ‰∏≠ÁöÑÊØè‰∏™ÂÖÉÁ¥† <code>nums[i]</code>Ôºö</p>
<ol>
<li><strong>Ê£ÄÊü•Ê†àÈ°∂Ôºö</strong> Êü•ÁúãÂΩìÂâçÊ†àÈ°∂ÁöÑ‰∏ãÊ†á <code>stk.top()</code> ÂØπÂ∫îÁöÑÂÖÉÁ¥† <code>nums[stk.top()]</code>„ÄÇ</li>
<li>Áª¥Êä§ÂçïË∞ÉÊÄß (ÂÖ≥ÈîÆÊ≠•È™§):
<ul>
<li><strong>Â¶ÇÊûúÊ†à‰∏ç‰∏∫Á©∫ÔºåÂπ∂‰∏îÊ†àÈ°∂ÂÖÉÁ¥† <code>nums[stk.top()]</code> Â§ß‰∫é ÂΩìÂâçÂÖÉÁ¥† <code>nums[i]</code>:</strong> ËøôÊÑèÂë≥ÁùÄÔºåÂØπ‰∫éÊ†àÈ°∂‰∏ãÊ†á <code>stk.top()</code> ÂØπÂ∫îÁöÑÂÖÉÁ¥†Êù•ËØ¥ÔºåÊàë‰ª¨ÊâæÂà∞‰∫ÜÂÆÉÂè≥ËæπÁ¨¨‰∏Ä‰∏™ÊØîÂÆÉÂ∞èÁöÑÂÖÉÁ¥†ÔºåÈÇ£Â∞±ÊòØÂΩìÂâçÂÖÉÁ¥† <code>nums[i]</code>„ÄÇ</li>
<li>Êàë‰ª¨ËÆ∞ÂΩï‰∏ãËøô‰∏™ÁªìÊûúÔºàÊØîÂ¶ÇÔºå<code>result[stk.top()] = nums[i]</code> Êàñ <code>result[stk.top()] = i</code>Ôºâ„ÄÇ</li>
<li>ÁÑ∂ÂêéÔºå<strong>Â∞ÜÊ†àÈ°∂ÂÖÉÁ¥†ÂºπÂá∫ <code>stk.pop()</code></strong>„ÄÇ</li>
<li><strong>ÈáçÂ§ç</strong>Ëøô‰∏™ËøáÁ®ãÔºåÁªßÁª≠ÊØîËæÉÊñ∞ÁöÑÊ†àÈ°∂ÂÖÉÁ¥†Âíå <code>nums[i]</code>ÔºåÁõ¥Âà∞Ê†à‰∏∫Á©∫ÊàñËÄÖÊ†àÈ°∂ÂÖÉÁ¥†Â∞è‰∫éÁ≠â‰∫é <code>nums[i]</code>„ÄÇ</li>
</ul>
</li>
<li><strong>ÂÖ•Ê†àÔºö</strong> ÂΩìÊ†à‰∏∫Á©∫ÊàñËÄÖÊ†àÈ°∂ÂÖÉÁ¥†Â∞è‰∫éÁ≠â‰∫é <code>nums[i]</code> Êó∂ÔºåËØ¥Êòé <code>nums[i]</code> ‰∏ç‰ºöÁ†¥ÂùèÊ†àÁöÑÂçïË∞ÉÈÄíÂ¢ûÊÄßÔºàÊàñËÄÖÂâçÈù¢Á†¥ÂùèÂçïË∞ÉÊÄßÁöÑÂÖÉÁ¥†ÈÉΩË¢´ÂºπÂá∫‰∫ÜÔºâÔºåÊ≠§Êó∂Â∞Ü<strong>ÂΩìÂâçÂÖÉÁ¥†ÁöÑ‰∏ãÊ†á <code>i</code> ÂéãÂÖ•Ê†à‰∏≠ <code>stk.push(i)</code></strong>„ÄÇ</li>
</ol>
<p>ÈÅçÂéÜÂÆåÊï¥‰∏™Êï∞ÁªÑÂêéÔºåÊ†à‰∏≠ÂèØËÉΩËøò‰ºöÂâ©‰∏ã‰∏Ä‰∫õÂÖÉÁ¥†ÁöÑ‰∏ãÊ†áÔºåËøô‰∫õÂÖÉÁ¥†Âè≥ËæπÊ≤°ÊúâÊØîÂÆÉ‰ª¨Êõ¥Â∞èÁöÑÂÖÉÁ¥†„ÄÇ</p>
<p>Á±ª‰ººÂú∞ÔºåÂØπ‰∫éÂçïË∞ÉÈÄíÂáèÊ†àÔºàÊâæÂè≥ËæπÁ¨¨‰∏Ä‰∏™Êõ¥Â§ßÁöÑÂÖÉÁ¥†ÔºâÔºö</p>
<p>ÂΩìÊ†à‰∏ç‰∏∫Á©∫‰∏îÊ†àÈ°∂ÂÖÉÁ¥† nums[stk.top()] Â∞è‰∫é ÂΩìÂâçÂÖÉÁ¥† nums[i] Êó∂Ôºånums[i] Â∞±ÊòØ nums[stk.top()] Âè≥ËæπÁ¨¨‰∏Ä‰∏™Êõ¥Â§ßÁöÑÂÖÉÁ¥†„ÄÇËÆ∞ÂΩïÁªìÊûúÔºåÂºπÂá∫Ê†àÈ°∂ÔºåÈáçÂ§çÊ≠§ËøáÁ®ãÔºåÊúÄÂêéÂ∞Ü i ÂéãÊ†à„ÄÇ</p>
<p><strong>4. ‰∏∫‰ªÄ‰πàÂçïË∞ÉÊ†àÊòØ O(N) ÁöÑÔºü</strong></p>
<p>ËôΩÁÑ∂ÁúãËµ∑Êù•ÊúâÂµåÂ•óÂæ™ÁéØÔºàÂ§ñÂ±Ç <code>for</code> ÈÅçÂéÜÊï∞ÁªÑÔºåÂÜÖÂ±Ç <code>while</code> ÂºπÂá∫Ê†àÂÖÉÁ¥†ÔºâÔºå‰ΩÜÊØè‰∏™ÂÖÉÁ¥†ÁöÑ‰∏ãÊ†áÊúÄÂ§öÂè™‰ºö<strong>ÂÖ•Ê†à‰∏ÄÊ¨°</strong>Âíå<strong>Âá∫Ê†à‰∏ÄÊ¨°</strong>„ÄÇÊâÄ‰ª•ÔºåÊÄªÁöÑÊìç‰ΩúÊ¨°Êï∞‰∏éÊï∞ÁªÑÂÖÉÁ¥†ÁöÑÊï∞Èáè N ÊàêÁ∫øÊÄßÂÖ≥Á≥ªÔºåÊó∂Èó¥Â§çÊùÇÂ∫¶ÊòØ <strong>O(N)</strong>„ÄÇÁ©∫Èó¥Â§çÊùÇÂ∫¶Âú®ÊúÄÂùèÊÉÖÂÜµ‰∏ã‰πüÊòØ <strong>O(N)</strong>ÔºàÊØîÂ¶ÇËæìÂÖ•Êï∞ÁªÑÊú¨Ë∫´Â∞±ÊòØÂçïË∞ÉÁöÑÔºâ„ÄÇ</p>
<p><strong>5. C++ ÂÆûÁé∞Á§∫‰æãÔºöÊâæÂà∞‰∏ã‰∏Ä‰∏™Êõ¥Â§ßÁöÑÂÖÉÁ¥† (Next Greater Element - NGE)</strong></p>
<p><strong>ÈóÆÈ¢òÊèèËø∞Ôºö</strong> ÁªôÂÆö‰∏Ä‰∏™Êï∞ÁªÑ <code>nums</code>ÔºåËøîÂõû‰∏Ä‰∏™Á≠âÈïøÁöÑÊï∞ÁªÑ <code>result</code>ÔºåÂÖ∂‰∏≠ <code>result[i]</code> ÊòØ <code>nums[i]</code> Âè≥‰æßÁ¨¨‰∏Ä‰∏™ÊØîÂÆÉÂ§ßÁöÑÂÖÉÁ¥†ÁöÑÂÄº„ÄÇÂ¶ÇÊûú‰∏çÂ≠òÂú®ÔºåÂàô‰∏∫ -1„ÄÇ</p>
<p><strong>ÊÄùË∑ØÔºö</strong> Êàë‰ª¨ÈúÄË¶ÅÊâæÂè≥ËæπÁ¨¨‰∏Ä‰∏™<strong>Êõ¥Â§ß</strong>ÁöÑÂÖÉÁ¥†ÔºåÊâÄ‰ª•‰ΩøÁî®<strong>ÂçïË∞ÉÈÄíÂáèÊ†à</strong>„ÄÇÊ†à‰∏≠Â≠òÂÇ®<strong>‰∏ãÊ†á</strong>„ÄÇ</p>
<p>C++</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;vector&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;stack&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;vector&gt;</span><span class="cp"> </span><span class="c1">// Á°Æ‰øù vector Ë¢´ÂåÖÂê´
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">nextGreaterElement</span><span class="p">(</span><span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">nums</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">nums</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">result</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">);</span> <span class="c1">// ÂàùÂßãÂåñÁªìÊûúÊï∞ÁªÑÔºåÈªòËÆ§ÂÄº‰∏∫ -1
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">std</span><span class="o">::</span><span class="n">stack</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">stk</span><span class="p">;</span> <span class="c1">// ÂçïË∞ÉÈÄíÂáèÊ†àÔºåÂ≠òÂÇ®‰∏ãÊ†á
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// Áª¥Êä§ÂçïË∞ÉÈÄíÂáèÔºöÂΩìÊ†à‰∏çÁ©∫‰∏îÂΩìÂâçÂÖÉÁ¥†Â§ß‰∫éÊ†àÈ°∂ÂÖÉÁ¥†Êó∂
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">while</span> <span class="p">(</span><span class="o">!</span><span class="n">stk</span><span class="p">.</span><span class="n">empty</span><span class="p">()</span> <span class="o">&amp;&amp;</span> <span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">nums</span><span class="p">[</span><span class="n">stk</span><span class="p">.</span><span class="n">top</span><span class="p">()])</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="c1">// ÂΩìÂâçÂÖÉÁ¥† nums[i] Â∞±ÊòØÊ†àÈ°∂ÂÖÉÁ¥† nums[stk.top()] ÁöÑ‰∏ã‰∏Ä‰∏™Êõ¥Â§ßÂÖÉÁ¥†
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="n">result</span><span class="p">[</span><span class="n">stk</span><span class="p">.</span><span class="n">top</span><span class="p">()]</span> <span class="o">=</span> <span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">            <span class="n">stk</span><span class="p">.</span><span class="n">pop</span><span class="p">();</span> <span class="c1">// ÂºπÂá∫Ê†àÈ°∂
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// Â∞ÜÂΩìÂâçÂÖÉÁ¥†ÁöÑ‰∏ãÊ†áÂéãÂÖ•Ê†à‰∏≠
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="n">stk</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// Âæ™ÁéØÁªìÊùüÂêéÔºåÊ†à‰∏≠Ââ©‰ΩôÁöÑ‰∏ãÊ†áË°®Á§∫Âè≥ËæπÊ≤°ÊúâÊõ¥Â§ßÁöÑÂÖÉÁ¥†ÔºåÂÆÉ‰ª¨ÁöÑÁªìÊûú‰øùÊåÅ‰∏∫ -1
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">result</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Êñ∞Âä†Âù°ÂΩìÂâçÊó∂Èó¥ÊòØÂë®ÂõõÊôö‰∏äÔºåÊ≠£Â•ΩÈÄÇÂêàÂ≠¶‰π†ÁÆóÊ≥ï :)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">nums</span> <span class="o">=</span> <span class="p">{</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">};</span>
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">nge</span> <span class="o">=</span> <span class="n">nextGreaterElement</span><span class="p">(</span><span class="n">nums</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;Original array: &#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="nl">x</span> <span class="p">:</span> <span class="n">nums</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">x</span> <span class="o">&lt;&lt;</span> <span class="s">&#34; &#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span> <span class="c1">// ËæìÂá∫: Original array: 2 1 2 4 3
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;Next Greater Element: &#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="nl">x</span> <span class="p">:</span> <span class="n">nge</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">x</span> <span class="o">&lt;&lt;</span> <span class="s">&#34; &#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span> <span class="c1">// ËæìÂá∫: Next Greater Element: 4 2 4 -1 -1
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>‰ª£Á†ÅËß£Èáä:</strong></p>
<ol>
<li>
<p>ÂàùÂßãÂåñÁªìÊûúÊï∞ÁªÑ <code>result</code> ÂÖ®‰∏∫ -1„ÄÇ</p>
</li>
<li>
<p>ÂàõÂª∫ <code>std::stack&lt;int&gt; stk</code> Áî®‰∫éÂ≠òÂÇ®‰∏ãÊ†á„ÄÇ</p>
</li>
<li>
<p>ÈÅçÂéÜËæìÂÖ•Êï∞ÁªÑ <code>nums</code> (‰∏ãÊ†á <code>i</code> ‰ªé 0 Âà∞ <code>n-1</code>)„ÄÇ</p>
</li>
<li>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">while
</span></span></code></pre></td></tr></table>
</div>
</div><p>Âæ™ÁéØÊ£ÄÊü•Ôºö</p>
<ul>
<li>Ê†à <code>stk</code> ‰∏ç‰∏∫Á©∫„ÄÇ</li>
<li>ÂΩìÂâçÂÖÉÁ¥† <code>nums[i]</code> <strong>Â§ß‰∫é</strong> Ê†àÈ°∂‰∏ãÊ†áÂØπÂ∫îÁöÑÂÖÉÁ¥† <code>nums[stk.top()]</code>„ÄÇ</li>
<li>Â¶ÇÊûúÊù°‰ª∂Êª°Ë∂≥ÔºåËØ¥Êòé <code>nums[i]</code> ÊòØ <code>nums[stk.top()]</code> ÁöÑ NGEÔºåÂ∞ÜÁªìÊûúËÆ∞ÂΩïÂú® <code>result[stk.top()]</code>ÔºåÂπ∂Â∞ÜÊ†àÈ°∂‰∏ãÊ†áÂºπÂá∫„ÄÇ</li>
</ul>
</li>
<li>
<p><code>while</code> Âæ™ÁéØÁªìÊùüÂêéÔºåÂ∞ÜÂΩìÂâçÂÖÉÁ¥†ÁöÑ‰∏ãÊ†á <code>i</code> ÂéãÂÖ•Ê†à <code>stk.push(i)</code>ÔºåÁª¥ÊåÅÊ†àÁöÑÔºàÂèØËÉΩË¢´Á†¥ÂùèÂêé‰øÆÂ§çÁöÑÔºâÂçïË∞ÉÈÄíÂáèÊÄß„ÄÇ</p>
</li>
<li>
<p>ÈÅçÂéÜÁªìÊùüÂêéÔºåÊ†àÂÜÖÂâ©‰ΩôÂÖÉÁ¥†ÁöÑ NGE Â∞±ÊòØÈªòËÆ§ÁöÑ -1„ÄÇ</p>
</li>
</ol>
<p><strong>6. ÂÖ∂‰ªñÂ∏∏ËßÅÂ∫îÁî®Âú∫ÊôØ</strong></p>
<p>ÂçïË∞ÉÊ†àÈô§‰∫ÜÊâæ‰∏ã‰∏Ä‰∏™Êõ¥Â§ß/Êõ¥Â∞èÂÖÉÁ¥†Â§ñÔºåËøòÂ∏∏Áî®‰∫éËß£ÂÜ≥‰ª•‰∏ãÈóÆÈ¢òÔºö</p>
<ul>
<li><strong>‰∏ä‰∏Ä‰∏™Êõ¥Â§ß/Êõ¥Â∞èÂÖÉÁ¥† (Previous Greater/Smaller Element):</strong> Âè™ÈúÄ‰ªéÂè≥ÂæÄÂ∑¶ÈÅçÂéÜÊï∞ÁªÑÂç≥ÂèØ„ÄÇ</li>
<li><strong>Êü±Áä∂Âõæ‰∏≠ÊúÄÂ§ßÁöÑÁü©ÂΩ¢ (Largest Rectangle in Histogram):</strong> ÈÄöËøá‰∏§Ê¨°ÂçïË∞ÉÊ†àÔºàÊàñ‰∏ÄÊ¨°Êõ¥‰ºòÂåñÁöÑÂ§ÑÁêÜÔºâÊâæÂà∞ÊØè‰∏™Êü±Â≠êÂ∑¶Âè≥‰∏§ËæπÁ¨¨‰∏Ä‰∏™ÊØîÂÆÉÁüÆÁöÑÊü±Â≠êÔºå‰ªéËÄåÁ°ÆÂÆö‰ª•ËØ•Êü±Â≠ê‰∏∫È´òÂ∫¶ÁöÑÊúÄÂ§ßÁü©ÂΩ¢Èù¢ÁßØ„ÄÇ</li>
<li><strong>Êé•Èõ®Ê∞¥ (Trapping Rain Water):</strong> ÂçïË∞ÉÊ†àÔºàÈÄöÂ∏∏ÊòØÈÄíÂáèÊ†àÔºâÂèØ‰ª•Áî®Êù•ÊâæÂà∞ËÉΩÂ§üÂ≠òÂÇ®Èõ®Ê∞¥ÁöÑ‚ÄúÂáπÊßΩ‚ÄùËæπÁïå„ÄÇ</li>
<li><strong>Â≠êÊï∞ÁªÑËåÉÂõ¥Êü•ËØ¢:</strong> Ê±ÇËß£ÊâÄÊúâÂ≠êÊï∞ÁªÑÁöÑÊúÄÂ∞èÂÄº‰πãÂíå/ÊúÄÂ§ßÂÄº‰πãÂíåÁ≠âÈóÆÈ¢ò„ÄÇÂçïË∞ÉÊ†àÂèØ‰ª•Á°ÆÂÆöÊØè‰∏™ÂÖÉÁ¥†‰Ωú‰∏∫ÊúÄÂ∞èÂÄº/ÊúÄÂ§ßÂÄºËÉΩÂΩ±ÂìçÂà∞ÁöÑÂ∑¶Âè≥ËæπÁïå„ÄÇ</li>
</ul>
<p><strong>ÊÄªÁªì:</strong></p>
<p>ÂçïË∞ÉÊ†àÊòØ‰∏ÄÁßçÂ∑ßÂ¶ôÁöÑÊï∞ÊçÆÁªìÊûÑÔºåÈÄöËøáÂú®Ê†à‰∏≠Áª¥Êä§ÂÖÉÁ¥†ÁöÑÂçïË∞ÉÊÄßÔºåÂèØ‰ª•Âú® O(N) ÁöÑÊó∂Èó¥Â§çÊùÇÂ∫¶ÂÜÖËß£ÂÜ≥‰∏ÄÁ≥ªÂàó‚ÄúÂØªÊâæ‰∏ã‰∏Ä‰∏™/‰∏ä‰∏Ä‰∏™Êõ¥Â§ß/Êõ¥Â∞èÂÖÉÁ¥†‚ÄùÁ±ªÂûãÁöÑÈóÆÈ¢ò„ÄÇÂÆÉÁöÑÊ†∏ÂøÉÂú®‰∫é<strong>ÂÖ•Ê†àÊó∂ÈÄöËøáÂºπÂá∫Á†¥ÂùèÂçïË∞ÉÊÄßÁöÑÂÖÉÁ¥†Êù•ÊâæÂà∞ÂØπÂ∫îÂÖÉÁ¥†ÁöÑÁ≠îÊ°àÔºåÂπ∂ÊúÄÁªàÁª¥Êä§Ê†àÁöÑÂçïË∞ÉÊÄß</strong>„ÄÇÂú® C++ ‰∏≠ÔºåÈÄöÂ∏∏‰ΩøÁî® <code>std::stack</code> Â≠òÂÇ®<strong>‰∏ãÊ†á</strong>Êù•ÂÆûÁé∞„ÄÇ</p>
<h2 id="ÊúÄÂ§ßÂ†ÜÊúÄÂ∞èÂ†Ü">ÊúÄÂ§ßÂ†Ü/ÊúÄÂ∞èÂ†Ü
</h2><p>Â•ΩÁöÑÔºåÊ≤°ÈóÆÈ¢òÔºÅÂú® C++ ‰∏≠‰ΩøÁî® <code>std::priority_queue</code> Êù•‰∏∫Ëá™ÂÆö‰πâÁöÑÊï∞ÊçÆÁªìÊûÑÔºàÊØîÂ¶Ç‰Ω†Ëá™Â∑±ÂÆö‰πâÁöÑ <code>struct</code> Êàñ <code>class</code>ÔºâÂÆûÁé∞ÊúÄÂ§ßÂ†ÜÂíåÊúÄÂ∞èÂ†ÜÔºåÂÖ≥ÈîÆÂú®‰∫é<strong>Â¶Ç‰ΩïÂëäËØâ <code>priority_queue</code> ÊÄéÊ†∑ÊØîËæÉ‰Ω†ÁöÑËá™ÂÆö‰πâÂØπË±°ÁöÑÂ§ßÂ∞èÔºà‰ºòÂÖàÁ∫ßÔºâ</strong>„ÄÇ</p>
<p><code>std::priority_queue</code> ÁöÑÊ®°ÊùøÂÆö‰πâÂ§ßËá¥Â¶Ç‰∏ãÔºö</p>
<p>C++</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">template &lt;
</span></span><span class="line"><span class="cl">    class T, // Â≠òÂÇ®ÁöÑÂÖÉÁ¥†Á±ªÂûã (‰Ω†ÁöÑËá™ÂÆö‰πâÁªìÊûÑ‰Ωì)
</span></span><span class="line"><span class="cl">    class Container = std::vector&lt;T&gt;, // Â∫ïÂ±Ç‰ΩøÁî®ÁöÑÂÆπÂô® (ÈªòËÆ§ÊòØ vector)
</span></span><span class="line"><span class="cl">    class Compare = std::less&lt;typename Container::value_type&gt; // ÊØîËæÉÂáΩÊï∞ÂØπË±° (ÂÜ≥ÂÆöÊòØÊúÄÂ§ßÂ†ÜËøòÊòØÊúÄÂ∞èÂ†Ü)
</span></span><span class="line"><span class="cl">&gt; class priority_queue;
</span></span></code></pre></td></tr></table>
</div>
</div><p>Êàë‰ª¨ÈúÄË¶ÅÂÖ≥Ê≥®ÁöÑÂ∞±ÊòØ <code>T</code>Ôºà‰Ω†ÁöÑËá™ÂÆö‰πâÁ±ªÂûãÔºâÂíå <code>Compare</code>ÔºàÊØîËæÉÊñπÂºèÔºâ„ÄÇ</p>
<p>ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºå<code>Compare</code> ÊòØ <code>std::less&lt;T&gt;</code>„ÄÇ<code>std::less&lt;T&gt;</code> ‰ºö‰ΩøÁî®‰Ω†‰∏∫Á±ªÂûã <code>T</code> ÂÆö‰πâÁöÑ <code>operator&lt;</code>ÔºàÂ∞è‰∫éÂè∑Êìç‰ΩúÁ¨¶Ôºâ„ÄÇ<code>std::priority_queue</code> ‰ΩøÁî®Ëøô‰∏™ÊØîËæÉÂô®ÔºåÈªòËÆ§Ë°å‰∏∫ÊòØÊää**‚ÄúÊúÄÂ§ß‚Äù<strong>ÔºàÊåâÁÖß <code>std::less</code> ÁöÑÊ†áÂáÜÔºåÂç≥ <code>a &lt; b</code> ÊúÄ‰∏çÊàêÁ´ãÁöÑÈÇ£‰∏™ÔºâÁöÑÂÖÉÁ¥†ÊîæÂú®ÈòüÈ¶ñÔºà<code>top()</code>Ôºâ„ÄÇÂõ†Ê≠§ÔºåÈªòËÆ§ÊòØ</strong>ÊúÄÂ§ßÂ†Ü**„ÄÇ</p>
<blockquote>
<p>[!NOTE]</p>
<p>ÂØπ‰∫éÂ∑≤Áü•Â§ßÂ∞èÁöÑtupleÊù•ËØ¥ÂèØ‰ª•ËøôÊ†∑Â≠êÂÆö‰πâÊúÄÂ∞èÂ†ÜÔºö</p>
<p>Priority_queue&lt;tuple&lt;int,int&gt;,vector&lt;tuple&lt;int,int&raquo;,greater&lt;&raquo;pq;</p>
<p>Ëß£ÂéãÁº©ÁöÑÊó∂ÂÄôÔºö</p>
<p>auto [i,j]=pq.top();</p></blockquote>
<p>Ë¶Å‰∏∫Ëá™ÂÆö‰πâÁªìÊûÑ‰ΩìÂÆûÁé∞ÊúÄÂ§ßÂ†ÜÂíåÊúÄÂ∞èÂ†ÜÔºå‰∏ªË¶ÅÊúâ‰ª•‰∏ãÂá†ÁßçÊñπÊ≥ïÊù•ÂÆö‰πâÊØîËæÉÈÄªËæëÔºö</p>
<p><strong>ÊñπÊ≥ï‰∏ÄÔºöÈáçËΩΩÂ∞è‰∫éÂè∑ <code>operator&lt;</code></strong></p>
<p>ËøôÊòØÊúÄÁõ¥Êé•ÁöÑÊñπÊ≥ïÔºåÂ∞§ÂÖ∂ÈÄÇÁî®‰∫éÊúÄÂ§ßÂ†ÜÁöÑÈªòËÆ§Ë°å‰∏∫„ÄÇ</p>
<ol>
<li>
<p><strong>ÂÆö‰πâ‰Ω†ÁöÑÁªìÊûÑ‰ΩìÔºö</strong></p>
<p>C++</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;string&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="k">struct</span> <span class="nc">Task</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">priority</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">name</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// ÊûÑÈÄ†ÂáΩÊï∞ (ÂèØÈÄâ, Êñπ‰æøÂàõÂª∫)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">Task</span><span class="p">(</span><span class="kt">int</span> <span class="n">p</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">n</span><span class="p">)</span> <span class="o">:</span> <span class="n">priority</span><span class="p">(</span><span class="n">p</span><span class="p">),</span> <span class="n">name</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="p">{}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// ÈáçËΩΩÂ∞è‰∫éÂè∑ operator&lt;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// **ÂÖ≥ÈîÆ**: ÂÆö‰πâ‰ªÄ‰πàÊòØ‚ÄúÂ∞è‰∫é‚Äù„ÄÇ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// ÂØπ‰∫éÊúÄÂ§ßÂ†ÜÔºà‰ºòÂÖàÁ∫ßÈ´òÁöÑÂú®ÂâçÔºâÔºåÊàë‰ª¨Â∏åÊúõ‰ºòÂÖàÁ∫ß‰ΩéÁöÑ Task &#34;Â∞è‰∫é&#34; ‰ºòÂÖàÁ∫ßÈ´òÁöÑ Task„ÄÇ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kt">bool</span> <span class="k">operator</span><span class="o">&lt;</span><span class="p">(</span><span class="k">const</span> <span class="n">Task</span><span class="o">&amp;</span> <span class="n">other</span><span class="p">)</span> <span class="k">const</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// Â¶ÇÊûú this ÁöÑ‰ºòÂÖàÁ∫ß &lt; other ÁöÑ‰ºòÂÖàÁ∫ßÔºåÂàôËøîÂõû true
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">return</span> <span class="n">priority</span> <span class="o">&lt;</span> <span class="n">other</span><span class="p">.</span><span class="n">priority</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// Ê≥®ÊÑè: C++ priority_queue ÈªòËÆ§Áî® less ÂÆûÁé∞ÊúÄÂ§ßÂ†ÜÔºå
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="c1">// ÂÆÉÊää‚Äú‰∏çÂ∞è‰∫é‚Äù‰ªª‰ΩïÂÖ∂‰ªñÂÖÉÁ¥†ÁöÑÂÖÉÁ¥†ÔºàÂç≥ÊúÄÂ§ßÁöÑÔºâÊîæÂú® top„ÄÇ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="c1">// ÊâÄ‰ª•ËøôÈáåÁöÑ &lt; ÂÆö‰πâ‰∫Ü‰ºòÂÖàÁ∫ß‰ΩéÁöÑÊéíÂú®ÂêéÈù¢„ÄÇ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p><strong>‰ΩøÁî® <code>priority_queue</code> ÂÆûÁé∞ÊúÄÂ§ßÂ†ÜÔºö</strong></p>
<p>C++</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;queue&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;vector&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">main_max_heap_op_lt</span><span class="p">()</span> <span class="p">{</span> <span class="c1">// ÈáçÂëΩÂêç main ÂáΩÊï∞‰ª•ÈÅøÂÖçÂÜ≤Á™Å
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// Áõ¥Êé•‰ΩøÁî®ÈªòËÆ§Ê®°ÊùøÂèÇÊï∞ÔºåÂÆÉ‰ºöÂØªÊâæ Task::operator&lt;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">std</span><span class="o">::</span><span class="n">priority_queue</span><span class="o">&lt;</span><span class="n">Task</span><span class="o">&gt;</span> <span class="n">max_heap</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">max_heap</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">Task</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="s">&#34;Low Priority Task&#34;</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">    <span class="n">max_heap</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">Task</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="s">&#34;High Priority Task&#34;</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">    <span class="n">max_heap</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">Task</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="s">&#34;Medium Priority Task&#34;</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;Max Heap (using operator&lt;):&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">while</span> <span class="p">(</span><span class="o">!</span><span class="n">max_heap</span><span class="p">.</span><span class="n">empty</span><span class="p">())</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">Task</span> <span class="n">top_task</span> <span class="o">=</span> <span class="n">max_heap</span><span class="p">.</span><span class="n">top</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">        <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;  Priority: &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">top_task</span><span class="p">.</span><span class="n">priority</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;, Name: &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">top_task</span><span class="p">.</span><span class="n">name</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">max_heap</span><span class="p">.</span><span class="n">pop</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// ËæìÂá∫‰ºöÊåâ‰ºòÂÖàÁ∫ß‰ªéÈ´òÂà∞‰Ωé (100, 50, 30)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p><strong>‰ΩøÁî® <code>priority_queue</code> ÂÆûÁé∞ÊúÄÂ∞èÂ†Ü (Âü∫‰∫é <code>operator&lt;</code>):</strong></p>
<p>Â¶ÇÊûú‰Ω†Â∑≤ÁªèÂÆö‰πâ‰∫Ü <code>operator&lt;</code>ÔºåÂÆûÁé∞ÊúÄÂ∞èÂ†ÜÊúÄÁÆÄÂçïÁöÑÊñπÊ≥ïÊòØ<strong>Êèê‰æõ <code>std::greater&lt;Task&gt;</code> ‰Ωú‰∏∫ÊØîËæÉÂô®</strong>„ÄÇ<code>std::greater&lt;Task&gt;</code> ÂÜÖÈÉ®‰ºöÂà©Áî®‰Ω†ÂÆö‰πâÁöÑ <code>operator&lt;</code> Êù•ÂÆûÁé∞‚ÄúÂ§ß‰∫é‚ÄùÁöÑÊØîËæÉÈÄªËæë„ÄÇ</p>
<p>C++</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;queue&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;vector&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;functional&gt;</span><span class="cp"> </span><span class="c1">// ÈúÄË¶ÅÂåÖÂê´ &lt;functional&gt;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">main_min_heap_op_lt_greater</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Êèê‰æõ std::greater&lt;Task&gt; ‰Ωú‰∏∫ÊØîËæÉÂô®
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">std</span><span class="o">::</span><span class="n">priority_queue</span><span class="o">&lt;</span><span class="n">Task</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">Task</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">greater</span><span class="o">&lt;</span><span class="n">Task</span><span class="o">&gt;&gt;</span> <span class="n">min_heap</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">min_heap</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">Task</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="s">&#34;Low Priority Task&#34;</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">    <span class="n">min_heap</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">Task</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="s">&#34;High Priority Task&#34;</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">    <span class="n">min_heap</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">Task</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="s">&#34;Medium Priority Task&#34;</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;Min Heap (using operator&lt; and std::greater):&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">while</span> <span class="p">(</span><span class="o">!</span><span class="n">min_heap</span><span class="p">.</span><span class="n">empty</span><span class="p">())</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">Task</span> <span class="n">top_task</span> <span class="o">=</span> <span class="n">min_heap</span><span class="p">.</span><span class="n">top</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">        <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;  Priority: &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">top_task</span><span class="p">.</span><span class="n">priority</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;, Name: &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">top_task</span><span class="p">.</span><span class="n">name</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">min_heap</span><span class="p">.</span><span class="n">pop</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// ËæìÂá∫‰ºöÊåâ‰ºòÂÖàÁ∫ß‰ªé‰ΩéÂà∞È´ò (30, 50, 100)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ol>
<p><strong>ÊñπÊ≥ï‰∫åÔºöÊèê‰æõËá™ÂÆö‰πâÊØîËæÉÂáΩÊï∞ÂØπË±° (Functor)</strong></p>
<p>ÂΩì‰Ω†‰∏çÊÉ≥ÔºàÊàñ‰∏çËÉΩÔºâ‰øÆÊîπÂéüÂßãÁªìÊûÑ‰ΩìÊù•Ê∑ªÂä† <code>operator&lt;</code>ÔºåÊàñËÄÖ‰Ω†ÈúÄË¶ÅÂ§öÁßç‰∏çÂêåÁöÑÊéíÂ∫èÈÄªËæëÊó∂ÔºåËá™ÂÆö‰πâÊØîËæÉÂáΩÊï∞ÂØπË±°ÔºàÈÄöÂ∏∏ÊòØ‰∏Ä‰∏™ÈáçËΩΩ‰∫Ü <code>operator()</code> ÁöÑÁªìÊûÑ‰ΩìÔºâÊòØÊõ¥ÁÅµÊ¥ªÁöÑÈÄâÊã©„ÄÇ</p>
<ol>
<li>
<p><strong>ÂÆö‰πâ‰Ω†ÁöÑÁªìÊûÑ‰Ωì (Êó†ÈúÄ <code>operator&lt;</code>):</strong></p>
<p>C++</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">// (ÂèØ‰ª•Â§çÁî®‰∏äÈù¢ÂÆö‰πâÁöÑ Task ÁªìÊûÑ‰ΩìÔºå‰ΩÜËøôÊ¨°ÂÅáËÆæÂÆÉÊ≤°Êúâ operator&lt;)
</span></span><span class="line"><span class="cl">// struct Task { ... };
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p><strong>‰∏∫ÊúÄÂ§ßÂ†ÜÂÆö‰πâÊØîËæÉÂô® (Functor):</strong></p>
<p>ÊØîËæÉÂô® <code>comp(a, b)</code> Â∫îËØ•ËøîÂõû <code>true</code> Â¶ÇÊûú <code>a</code> ÁöÑ‰ºòÂÖàÁ∫ß<strong>‰Ωé‰∫é</strong> <code>b</code>„ÄÇ</p>
<p>C++</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl"><span class="n">struct</span> <span class="n">CompareTaskMax</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="ne">bool</span> <span class="n">operator</span><span class="p">()(</span><span class="k">const</span> <span class="n">Task</span><span class="o">&amp;</span> <span class="n">a</span><span class="p">,</span> <span class="k">const</span> <span class="n">Task</span><span class="o">&amp;</span> <span class="n">b</span><span class="p">)</span> <span class="k">const</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="o">//</span> <span class="err">Â¶ÇÊûú</span> <span class="n">a</span> <span class="err">ÁöÑ‰ºòÂÖàÁ∫ß</span> <span class="o">&lt;</span> <span class="n">b</span> <span class="err">ÁöÑ‰ºòÂÖàÁ∫ßÔºåÂàô</span> <span class="n">a</span> <span class="err">ÁöÑ‰ºòÂÖàÁ∫ßËæÉ‰ΩéÔºåËøîÂõû</span> <span class="bp">true</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">a</span><span class="o">.</span><span class="n">priority</span> <span class="o">&lt;</span> <span class="n">b</span><span class="o">.</span><span class="n">priority</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><em>Ê≥®ÊÑèÔºöËøô‰∏™ÈÄªËæëÂíå <code>operator&lt;</code> ÂÆûÁé∞ÊúÄÂ§ßÂ†ÜÊó∂ÁöÑÈÄªËæëÊòØ‰∏ÄÊ†∑ÁöÑ„ÄÇ</em></p>
</li>
<li>
<p><strong>‰ΩøÁî®Ëá™ÂÆö‰πâÊØîËæÉÂô®ÂÆûÁé∞ÊúÄÂ§ßÂ†ÜÔºö</strong></p>
<p>C++</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;queue&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;vector&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">main_max_heap_functor</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">priority_queue</span><span class="o">&lt;</span><span class="n">Task</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">Task</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">CompareTaskMax</span><span class="o">&gt;</span> <span class="n">max_heap</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">max_heap</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">Task</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="s">&#34;Low&#34;</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">    <span class="n">max_heap</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">Task</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="s">&#34;High&#34;</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">    <span class="n">max_heap</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">Task</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="s">&#34;Medium&#34;</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;Max Heap (using custom functor):&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">while</span> <span class="p">(</span><span class="o">!</span><span class="n">max_heap</span><span class="p">.</span><span class="n">empty</span><span class="p">())</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">Task</span> <span class="n">top_task</span> <span class="o">=</span> <span class="n">max_heap</span><span class="p">.</span><span class="n">top</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">        <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;  Priority: &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">top_task</span><span class="p">.</span><span class="n">priority</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;, Name: &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">top_task</span><span class="p">.</span><span class="n">name</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">max_heap</span><span class="p">.</span><span class="n">pop</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// ËæìÂá∫Êåâ‰ºòÂÖàÁ∫ß‰ªéÈ´òÂà∞‰Ωé (100, 50, 30)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p><strong>‰∏∫ÊúÄÂ∞èÂ†ÜÂÆö‰πâÊØîËæÉÂô® (Functor):</strong></p>
<p>ÊØîËæÉÂô® <code>comp(a, b)</code> Â∫îËØ•ËøîÂõû <code>true</code> Â¶ÇÊûú <code>a</code> ÁöÑ‰ºòÂÖàÁ∫ß<strong>‰Ωé‰∫é</strong> <code>b</code>„ÄÇÂØπ‰∫éÊúÄÂ∞èÂ†ÜÔºà‰ºòÂÖàÁ∫ß‰ΩéÁöÑÂú®ÂâçÔºâÔºåËøôÊÑèÂë≥ÁùÄÂΩì <code>a</code>ÁöÑÂÆûÈôÖÂÄºÔºà‰ºòÂÖàÁ∫ßÔºâ<strong>Â§ß‰∫é</strong> <code>b</code> Êó∂ÔºåÊàë‰ª¨ËÆ§‰∏∫ <code>a</code> ÁöÑ‰ºòÂÖàÁ∫ßËæÉ‰ΩéÔºàÊéíÂú®ÂêéÈù¢Ôºâ„ÄÇ</p>
<p>C++</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl"><span class="n">struct</span> <span class="n">CompareTaskMin</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="ne">bool</span> <span class="n">operator</span><span class="p">()(</span><span class="k">const</span> <span class="n">Task</span><span class="o">&amp;</span> <span class="n">a</span><span class="p">,</span> <span class="k">const</span> <span class="n">Task</span><span class="o">&amp;</span> <span class="n">b</span><span class="p">)</span> <span class="k">const</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="o">//</span> <span class="err">Â¶ÇÊûú</span> <span class="n">a</span> <span class="err">ÁöÑ‰ºòÂÖàÁ∫ß</span> <span class="o">&gt;</span> <span class="n">b</span> <span class="err">ÁöÑ‰ºòÂÖàÁ∫ßÔºåÂàô</span> <span class="n">a</span> <span class="err">ÁöÑ‰ºòÂÖàÁ∫ßËæÉ‰ΩéÔºàÂØπ‰∫éÊúÄÂ∞èÂ†ÜÔºâÔºåËøîÂõû</span> <span class="bp">true</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">a</span><span class="o">.</span><span class="n">priority</span> <span class="o">&gt;</span> <span class="n">b</span><span class="o">.</span><span class="n">priority</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><em>Ê≥®ÊÑèÔºöËøô‰∏™ÈÄªËæëÂíå <code>operator&lt;</code> ÂÆûÁé∞ÊúÄÂ∞èÂ†ÜÊó∂‰ΩøÁî® <code>std::greater</code> ÁöÑÊïàÊûúÊòØ‰∏ÄÊ†∑ÁöÑÔºå‰ΩÜËøôÈáåÊòØÁõ¥Êé•Âú®ÊØîËæÉÂô®ÈáåÂÆö‰πâ‰∫Ü‚ÄúÂ§ß‰∫é‚ÄùÈÄªËæë„ÄÇ</em></p>
</li>
<li>
<p><strong>‰ΩøÁî®Ëá™ÂÆö‰πâÊØîËæÉÂô®ÂÆûÁé∞ÊúÄÂ∞èÂ†ÜÔºö</strong></p>
<p>C++</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;queue&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;vector&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">main_min_heap_functor</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">priority_queue</span><span class="o">&lt;</span><span class="n">Task</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">Task</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">CompareTaskMin</span><span class="o">&gt;</span> <span class="n">min_heap</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">min_heap</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">Task</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="s">&#34;Low&#34;</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">    <span class="n">min_heap</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">Task</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="s">&#34;High&#34;</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">    <span class="n">min_heap</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">Task</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="s">&#34;Medium&#34;</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;Min Heap (using custom functor):&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">while</span> <span class="p">(</span><span class="o">!</span><span class="n">min_heap</span><span class="p">.</span><span class="n">empty</span><span class="p">())</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">Task</span> <span class="n">top_task</span> <span class="o">=</span> <span class="n">min_heap</span><span class="p">.</span><span class="n">top</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">        <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;  Priority: &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">top_task</span><span class="p">.</span><span class="n">priority</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;, Name: &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">top_task</span><span class="p">.</span><span class="n">name</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">min_heap</span><span class="p">.</span><span class="n">pop</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// ËæìÂá∫Êåâ‰ºòÂÖàÁ∫ß‰ªé‰ΩéÂà∞È´ò (30, 50, 100)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ol>
<p><strong>ÊÄªÁªì‰∏éÈÄâÊã©:</strong></p>
<ul>
<li><strong>ÂÆûÁé∞ÊúÄÂ§ßÂ†Ü:</strong>
<ul>
<li><strong>ÊñπÊ≥ï1 (Êé®Ëçê):</strong> Âú®ÁªìÊûÑ‰Ωì‰∏≠ÈáçËΩΩ <code>operator&lt;</code>Ôºå‰ΩøÂÖ∂ÊåâÂÄºÔºà‰ºòÂÖàÁ∫ßÔºâÊØîËæÉÔºàÂ∞èÁöÑÂú®ÂâçÔºâ„ÄÇÁÑ∂ÂêéÁõ¥Êé•‰ΩøÁî® <code>std::priority_queue&lt;MyStruct&gt;</code>„ÄÇ</li>
<li><strong>ÊñπÊ≥ï2:</strong> ÂÆö‰πâ‰∏Ä‰∏™ÊØîËæÉÂô® <code>CompareMax</code>ÔºåÂÖ∂ <code>operator()</code> ÈÄªËæë‰∏é <code>operator&lt;</code> Áõ∏ÂêåÔºà<code>return a.value &lt; b.value;</code>ÔºâÔºåÁÑ∂Âêé‰ΩøÁî® <code>std::priority_queue&lt;MyStruct, std::vector&lt;MyStruct&gt;, CompareMax&gt;</code>„ÄÇ</li>
</ul>
</li>
<li><strong>ÂÆûÁé∞ÊúÄÂ∞èÂ†Ü:</strong>
<ul>
<li><strong>ÊñπÊ≥ï1 (Êé®Ëçê):</strong> Âú®ÁªìÊûÑ‰Ωì‰∏≠ÈáçËΩΩ <code>operator&lt;</code>ÔºàÊåâÂÄºÊØîËæÉÔºåÂ∞èÁöÑÂú®ÂâçÔºâ„ÄÇÁÑ∂Âêé‰ΩøÁî® <code>std::priority_queue&lt;MyStruct, std::vector&lt;MyStruct&gt;, std::greater&lt;MyStruct&gt;&gt;</code>„ÄÇ</li>
<li><strong>ÊñπÊ≥ï2:</strong> ÂÆö‰πâ‰∏Ä‰∏™ÊØîËæÉÂô® <code>CompareMin</code>ÔºåÂÖ∂ <code>operator()</code> ÈÄªËæë‰∏é <code>operator&lt;</code> Áõ∏ÂèçÔºà<code>return a.value &gt; b.value;</code>ÔºâÔºåÁÑ∂Âêé‰ΩøÁî® <code>std::priority_queue&lt;MyStruct, std::vector&lt;MyStruct&gt;, CompareMin&gt;</code>„ÄÇ</li>
</ul>
</li>
</ul>
<p><strong>ÊúÄ‰Ω≥ÂÆûË∑µ:</strong></p>
<ul>
<li>Â¶ÇÊûú‰Ω†ÁöÑÁªìÊûÑ‰ΩìÊúâ‰∏Ä‰∏™‚ÄúËá™ÁÑ∂‚ÄùÁöÑ„ÄÅÊúÄÂ∏∏Áî®ÁöÑÊéíÂ∫èÊñπÂºèÔºåÈÇ£‰πàÈáçËΩΩ <code>operator&lt;</code> ÊòØÊúÄÊñπ‰æøÁöÑÔºåÂõ†‰∏∫ÂÆÉ‰πü‰æø‰∫éÂú®ÂÖ∂‰ªñÈúÄË¶ÅÊéíÂ∫èÊàñÊØîËæÉÁöÑÂú∞ÊñπÔºàÂ¶Ç <code>std::sort</code>, <code>std::map</code>Ôºâ‰ΩøÁî®„ÄÇ</li>
<li>Â¶ÇÊûú‰Ω†ÈúÄË¶ÅÂ§öÁßç‰∏çÂêåÁöÑ‰ºòÂÖàÁ∫ßÂÆö‰πâÔºåÊàñËÄÖ‰∏çÊÉ≥‰øÆÊîπÁªìÊûÑ‰ΩìÊú¨Ë∫´ÔºåÊàñËÄÖÊØîËæÉÈÄªËæëÊØîËæÉÂ§çÊùÇÔºåÈÇ£‰πà‰ΩøÁî®<strong>Ëá™ÂÆö‰πâÊØîËæÉÂáΩÊï∞ÂØπË±° (Functor)</strong> ÊòØÊõ¥Ê∏ÖÊô∞„ÄÅÊõ¥ÁÅµÊ¥ªÁöÑÈÄâÊã©„ÄÇ</li>
</ul>
<p>ÈÄâÊã©Âì™ÁßçÊñπÊ≥ïÂèñÂÜ≥‰∫é‰Ω†ÁöÑÂÖ∑‰ΩìÈúÄÊ±ÇÂíå‰ª£Á†ÅÈ£éÊ†ºÂÅèÂ•Ω„ÄÇËøô‰∏§ÁßçÊñπÊ≥ïÈÉΩËÉΩÊúâÊïàÂú∞‰∏∫‰Ω†ÁöÑËá™ÂÆö‰πâÊï∞ÊçÆÁªìÊûÑÂÆûÁé∞ÊúÄÂ§ßÂ†ÜÂíåÊúÄÂ∞èÂ†Ü„ÄÇ</p>
<p><em>(‰Ω†ÂèØ‰ª•Â∞Ü‰∏äÈù¢Á§∫‰æã‰∏≠ÁöÑ <code>main_...</code> ÂáΩÊï∞ÂàÜÂà´ÊîæÂà∞‰∏Ä‰∏™ C++ Êñá‰ª∂‰∏≠ËøêË°åÔºåËÆ∞ÂæóÂåÖÂê´ÂøÖË¶ÅÁöÑÂ§¥Êñá‰ª∂„ÄÇ)</em></p>
<p>Âú®‰∏ÄËà¨ÁöÑcppÁöÑÊï∞ÊçÆÁªìÊûÑ‰∏≠ÊòØÊ≤°ÊúâÂØπ‰∫épriority_queueÁöÑÂà†Èô§Êìç‰ΩúÁöÑÔºåÊâÄ‰ª•Êàë‰ª¨ÂÅáÂ¶ÇÊúâÂú®Êï∞ÊçÆÊµÅ‰∏≠‰∏ÄÁõ¥ÊâæÂà∞ÊúÄÂ§ßÂÄºÊàñËÄÖÊòØÊúÄÂ∞èÂÄºÂπ∂‰∏îÈúÄË¶ÅÂà†Èô§‰∏Ä‰∫õÂÄºÁöÑÊó∂ÂÄôÔºåÂ∞±ÂèØ‰ª•‰ΩøÁî®lazy Âà†Èô§ÔºåÂ∞±ÊòØÂ∞ÜÂ∑≤ÁªèÂà†Èô§ÁöÑÂÖÉÁ¥†ËÆ∞ÂΩïÂú®‰∏Ä‰∏™set‰∏≠ÔºåÂú®Êü•ËØ¢ÁöÑÊó∂ÂÄôÂÅáÂ¶ÇÈ¶ñ‰ΩçÂÖÉÁ¥†Âú®set‰∏≠ÔºåÈÇ£‰πàÂ∞±popÁÑ∂ÂêéÂÜçÁúã‰∏ã‰∏Ä‰∏™È¶ñ‰ΩçÂÖÉÁ¥†ÊòØÂê¶Â∑≤ÁªèË¢´Âà†Èô§„ÄÇ</p>
<h2 id="ÊúÄÁü≠Ë∑ØÂæÑÁÆóÊ≥ï">ÊúÄÁü≠Ë∑ØÂæÑÁÆóÊ≥ï
</h2><p>Â•ΩÁöÑÔºåÊàë‰ª¨Êù•‰∏Ä‰∏™ÊûÅÁÆÄÁâàÁöÑDijkstraÁÆóÊ≥ï‰ªãÁªçÂíåC++Ê®°Êùø„ÄÇ</p>
<h3 id="dijkstraÁÆóÊ≥ïÊûÅÁÆÄÁâà">DijkstraÁÆóÊ≥ïÔºàÊûÅÁÆÄÁâàÔºâ
</h3><p>ÊòØ‰ªÄ‰πàÔºü</p>
<p>DijkstraÁÆóÊ≥ïÁî®‰∫éÊâæÂà∞Âõæ‰∏≠‰∏Ä‰∏™ÁÇπÔºàËµ∑ÁÇπÔºâÂà∞ÂÖ∂‰ªñÊâÄÊúâÁÇπÁöÑÊúÄÁü≠Ë∑ØÂæÑ„ÄÇÂâçÊèêÊòØÂõæ‰∏≠ËæπÁöÑÊùÉÈáç‰∏çËÉΩÊòØË¥üÊï∞„ÄÇ</p>
<p>ÊÄé‰πàÂÅöÔºü</p>
<p>ÊÉ≥Ë±°‰Ω†Á´ôÂú®Ëµ∑ÁÇπÔºö</p>
<ol>
<li><strong>ÂàùÂßãÂåñ</strong>ÔºöËÆ∞‰∏ãËµ∑ÁÇπÂà∞Ëá™Â∑±ÁöÑË∑ùÁ¶ªÊòØ0ÔºåÂà∞ÂÖ∂‰ªñÊâÄÊúâÁÇπÁöÑË∑ùÁ¶ªÊòØÊó†Á©∑Â§ßÔºàË°®Á§∫ÊöÇÊó∂Ëøò‰∏çÁü•ÈÅìÂ§öËøúÔºâ„ÄÇ</li>
<li><strong>ÊâæÊúÄËøëÁöÑ</strong>Ôºö‰ªéÊâÄÊúâ‰Ω†ËøòÊ≤°ÂéªËøáÔºàÊàñËÄÖËØ¥ËøòÊ≤°ÊúÄÁªàÁ°ÆÂÆöÊúÄÁü≠Ë∑ùÁ¶ªÔºâÁöÑÁÇπÈáåÔºåÊâæÂà∞‰∏Ä‰∏™ÂΩìÂâçËÆ∞ÂΩï‰∏≠Á¶ªËµ∑ÁÇπÊúÄËøëÁöÑÁÇπ„ÄÇ</li>
<li><strong>Ê†áËÆ∞Âπ∂Êõ¥Êñ∞</strong>ÔºöÊ†áËÆ∞Ëøô‰∏™ÁÇπ‰∏∫‚ÄúÂ∑≤ÂéªËøá‚ÄùÔºàÊúÄÁü≠Ë∑ùÁ¶ªÂ∑≤Á°ÆÂÆöÔºâ„ÄÇÁÑ∂ÂêéÔºåÁúãÁúãÈÄöËøáËøô‰∏™ÂàöÊ†áËÆ∞ÁöÑÁÇπÔºåËÉΩ‰∏çËÉΩËÆ©‰Ω†Âà∞ÂÆÉÁöÑÈÇªÂ±ÖÁÇπÁöÑË∑ØÁ®ãÂèòÂæóÊõ¥Áü≠„ÄÇÂ¶ÇÊûúËÉΩÔºåÂ∞±Êõ¥Êñ∞Âà∞ÈÇ£‰∏™ÈÇªÂ±ÖÁÇπÁöÑË∑ùÁ¶ª„ÄÇ</li>
<li><strong>ÈáçÂ§ç</strong>Ôºö‰∏ÄÁõ¥ÈáçÂ§çÁ¨¨2Ê≠•ÂíåÁ¨¨3Ê≠•ÔºåÁõ¥Âà∞ÊâÄÊúâÁÇπÈÉΩË¢´Ê†áËÆ∞‰∏∫‚ÄúÂ∑≤ÂéªËøá‚ÄùÔºåÊàñËÄÖÂâ©‰∏ãÁöÑÁÇπÈÉΩÂà∞‰∏ç‰∫Ü„ÄÇ</li>
</ol>
<p><strong>Ê†∏ÂøÉÊÄùÊÉ≥</strong>ÔºöÊØè‰∏ÄÊ≠•ÈÉΩÈÄâ‚ÄúÁúãËµ∑Êù•ÊúÄËøë‚ÄùÁöÑÁÇπÔºåÂπ∂Áî®ÂÆÉÊù•Â∞ùËØïÊõ¥Êñ∞Âà∞ÂÖ∂‰ªñÁÇπÁöÑË∑ØÂæÑÔºåÊòØ‰∏ÄÁßçË¥™ÂøÉÁöÑÊñπÊ≥ï„ÄÇ</p>
<p>ÊúÄÁÆÄC++ÁÆóÊ≥ïÊ®°Êùø (ÈÇªÊé•Áü©ÈòµÔºåO(V^2))</p>
<p>Ëøô‰∏™Ê®°Êùø‰ΩøÁî®<strong>ÈÇªÊé•Áü©Èòµ</strong>Êù•Ë°®Á§∫ÂõæÔºåÂπ∂‰∏îÈÄöËøáÈÅçÂéÜÊü•Êâæ‰∏ã‰∏Ä‰∏™ÊúÄËøëÁöÑËäÇÁÇπÔºåËÄå‰∏çÊòØ‰ΩøÁî®‰ºòÂÖàÈòüÂàó„ÄÇÂØπ‰∫éËäÇÁÇπÊï∞ÈáèËæÉÂ∞ëÁöÑÊÉÖÂÜµÔºåÊàñËÄÖÁêÜËß£ÁÆóÊ≥ïÊ†∏ÂøÉÈÄªËæëÔºåËøôÁßçÊñπÂºèÊõ¥Áõ¥Êé•„ÄÇ</p>
<p>C++</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span><span class="lnt">110
</span><span class="lnt">111
</span><span class="lnt">112
</span><span class="lnt">113
</span><span class="lnt">114
</span><span class="lnt">115
</span><span class="lnt">116
</span><span class="lnt">117
</span><span class="lnt">118
</span><span class="lnt">119
</span><span class="lnt">120
</span><span class="lnt">121
</span><span class="lnt">122
</span><span class="lnt">123
</span><span class="lnt">124
</span><span class="lnt">125
</span><span class="lnt">126
</span><span class="lnt">127
</span><span class="lnt">128
</span><span class="lnt">129
</span><span class="lnt">130
</span><span class="lnt">131
</span><span class="lnt">132
</span><span class="lnt">133
</span><span class="lnt">134
</span><span class="lnt">135
</span><span class="lnt">136
</span><span class="lnt">137
</span><span class="lnt">138
</span><span class="lnt">139
</span><span class="lnt">140
</span><span class="lnt">141
</span><span class="lnt">142
</span><span class="lnt">143
</span><span class="lnt">144
</span><span class="lnt">145
</span><span class="lnt">146
</span><span class="lnt">147
</span><span class="lnt">148
</span><span class="lnt">149
</span><span class="lnt">150
</span><span class="lnt">151
</span><span class="lnt">152
</span><span class="lnt">153
</span><span class="lnt">154
</span><span class="lnt">155
</span><span class="lnt">156
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;vector&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;limits&gt;</span><span class="cp"> </span><span class="c1">// Áî®‰∫é std::numeric_limits
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="k">const</span> <span class="kt">int</span> <span class="n">INF</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">numeric_limits</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;::</span><span class="n">max</span><span class="p">();</span> <span class="c1">// ÂÆö‰πâÊó†Á©∑Â§ß
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="c1">// n: ËäÇÁÇπÊï∞Èáè (ËäÇÁÇπÁºñÂè∑‰ªé0Âà∞n-1)
</span></span></span><span class="line"><span class="cl"><span class="c1">// start_node: Ê∫êÁÇπ
</span></span></span><span class="line"><span class="cl"><span class="c1">// graph: ÈÇªÊé•Áü©ÈòµÔºågraph[i][j] ÊòØ‰ªéËäÇÁÇπiÂà∞ËäÇÁÇπjÁöÑËæπÁöÑÊùÉÈáçÔºåÂ¶ÇÊûú‰∏çÂ≠òÂú®ËæπÂàô‰∏∫INF
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">dijkstra_simple</span><span class="p">(</span><span class="kt">int</span> <span class="n">n</span><span class="p">,</span> <span class="kt">int</span> <span class="n">start_node</span><span class="p">,</span> <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;&amp;</span> <span class="n">graph</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">dist</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">INF</span><span class="p">);</span>      <span class="c1">// ‰ªéÊ∫êÁÇπÂà∞ÂêÑ‰∏™ËäÇÁÇπÁöÑÊúÄÁü≠Ë∑ùÁ¶ª
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span> <span class="n">visited</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="nb">false</span><span class="p">);</span> <span class="c1">// ËÆ∞ÂΩïËäÇÁÇπÊòØÂê¶Â∑≤ÁªèÁ°ÆÂÆöÊúÄÁü≠Ë∑ØÂæÑ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="n">dist</span><span class="p">[</span><span class="n">start_node</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="c1">// Ê∫êÁÇπÂà∞Ëá™Ë∫´ÁöÑË∑ùÁ¶ª‰∏∫0
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">count</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">count</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// 1. ‰ªéÊú™ËÆøÈóÆÁöÑËäÇÁÇπ‰∏≠ÊâæÂà∞Ë∑ùÁ¶ªÊúÄÂ∞èÁöÑËäÇÁÇπ u
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="kt">int</span> <span class="n">u</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kt">int</span> <span class="n">min_dist</span> <span class="o">=</span> <span class="n">INF</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">v_node</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">v_node</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">v_node</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">visited</span><span class="p">[</span><span class="n">v_node</span><span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="n">dist</span><span class="p">[</span><span class="n">v_node</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">min_dist</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="n">min_dist</span> <span class="o">=</span> <span class="n">dist</span><span class="p">[</span><span class="n">v_node</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">                <span class="n">u</span> <span class="o">=</span> <span class="n">v_node</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// Â¶ÇÊûúÊâæ‰∏çÂà∞‰∏ã‰∏Ä‰∏™ÂèØËææÁöÑÊú™ËÆøÈóÆËäÇÁÇπÔºåÂàôÁªìÊùü
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">if</span> <span class="p">(</span><span class="n">u</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">break</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// 2. Ê†áËÆ∞ËäÇÁÇπ u ‰∏∫Â∑≤ËÆøÈóÆ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="n">visited</span><span class="p">[</span><span class="n">u</span><span class="p">]</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// 3. Êõ¥Êñ∞ u ÁöÑÊâÄÊúâÈÇªÂ±ÖËäÇÁÇπÁöÑË∑ùÁ¶ª
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">v_node</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">v_node</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">v_node</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">visited</span><span class="p">[</span><span class="n">v_node</span><span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="n">graph</span><span class="p">[</span><span class="n">u</span><span class="p">][</span><span class="n">v_node</span><span class="p">]</span> <span class="o">!=</span> <span class="n">INF</span> <span class="o">&amp;&amp;</span> <span class="n">dist</span><span class="p">[</span><span class="n">u</span><span class="p">]</span> <span class="o">!=</span> <span class="n">INF</span> <span class="o">&amp;&amp;</span>
</span></span><span class="line"><span class="cl">                <span class="n">dist</span><span class="p">[</span><span class="n">u</span><span class="p">]</span> <span class="o">+</span> <span class="n">graph</span><span class="p">[</span><span class="n">u</span><span class="p">][</span><span class="n">v_node</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">dist</span><span class="p">[</span><span class="n">v_node</span><span class="p">])</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="n">dist</span><span class="p">[</span><span class="n">v_node</span><span class="p">]</span> <span class="o">=</span> <span class="n">dist</span><span class="p">[</span><span class="n">u</span><span class="p">]</span> <span class="o">+</span> <span class="n">graph</span><span class="p">[</span><span class="n">u</span><span class="p">][</span><span class="n">v_node</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">dist</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Á§∫‰æãÔºö5‰∏™ËäÇÁÇπÔºåËäÇÁÇπÁºñÂè∑ 0 Âà∞ 4
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// ÈÇªÊé•Áü©ÈòµË°®Á§∫ÂõæÁöÑÊùÉÈáç
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// graph[i][j] = ÊùÉÈáçÔºåÂ¶ÇÊûú i Âíå j ‰πãÈó¥Ê≤°ÊúâÁõ¥Êé•ËæπÔºåÂàô‰∏∫ INF
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">adj_matrix</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="n">INF</span><span class="p">,</span> <span class="n">INF</span><span class="p">,</span> <span class="mi">3</span><span class="p">},</span>  <span class="c1">// ‰ªéËäÇÁÇπ0Âá∫ÂèëÁöÑËæπ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="p">{</span><span class="n">INF</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">INF</span><span class="p">},</span> <span class="c1">// ‰ªéËäÇÁÇπ1Âá∫ÂèëÁöÑËæπ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="p">{</span><span class="n">INF</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">2</span><span class="p">},</span>  <span class="c1">// ‰ªéËäÇÁÇπ2Âá∫ÂèëÁöÑËæπ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="p">{</span><span class="n">INF</span><span class="p">,</span> <span class="n">INF</span><span class="p">,</span> <span class="n">INF</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">},</span> <span class="c1">// ‰ªéËäÇÁÇπ3Âá∫ÂèëÁöÑËæπ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="p">{</span><span class="n">INF</span><span class="p">,</span> <span class="n">INF</span><span class="p">,</span> <span class="n">INF</span><span class="p">,</span> <span class="n">INF</span><span class="p">,</span> <span class="mi">0</span><span class="p">}</span>   <span class="c1">// ‰ªéËäÇÁÇπ4Âá∫ÂèëÁöÑËæπ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="p">};</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Â¶ÇÊûúÊòØÊ≤°ÊúâÁõ¥Êé•ËøûÊé•ÔºåÂèØ‰ª•Áî® INF ÂàùÂßãÂåñÔºåÂØπËßíÁ∫øÊòØ0
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// ‰æãÂ¶ÇÔºåÂ¶ÇÊûúËäÇÁÇπ0ÂíåËäÇÁÇπ2Ê≤°ÊúâÁõ¥Êé•ËæπÔºåÂàô adj_matrix[0][2] = INF;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="c1">// ËÆæÂÆö‰∏Ä‰∏™ÂÆûÈôÖÁöÑÂõæ (Ê≥®ÊÑèÔºöDijkstra‰∏çÂ§ÑÁêÜË¥üÊùÉËæπ)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// ÂØπ‰∫é‰∏äÈù¢ÁöÑÈÇªÊé•Áü©ÈòµÁ§∫‰æãÔºåÊàë‰ª¨ÊâãÂä®ËÆæÁΩÆ‰∏Ä‰∫õËæπ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// 0-&gt;4 (3), 0-&gt;1 (10)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// 1-&gt;2 (1), 1-&gt;3 (2)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// 2-&gt;1 (4), 2-&gt;4 (2), 2-&gt;3 (8)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// 4-&gt; (Êó†Âá∫ËæπÔºåÊàñËÄÖÂà∞Ëá™Ë∫´‰∏∫0)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// 3-&gt;4 (5)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">start_node</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="c1">// ‰ª•ËäÇÁÇπ0‰∏∫Ê∫êÁÇπ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">shortest_paths</span> <span class="o">=</span> <span class="n">dijkstra_simple</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">start_node</span><span class="p">,</span> <span class="n">adj_matrix</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;‰ªéÊ∫êÁÇπ &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">start_node</span> <span class="o">&lt;&lt;</span> <span class="s">&#34; Âà∞ÂêÑËäÇÁÇπÁöÑÊúÄÁü≠Ë∑ØÂæÑÈïøÂ∫¶:&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;Âà∞ËäÇÁÇπ &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">i</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;: &#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">shortest_paths</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="n">INF</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;Êó†Ê≥ïÂà∞Ëææ&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">shortest_paths</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="cm">/*
</span></span></span><span class="line"><span class="cl"><span class="cm">    È¢ÑÊúüËæìÂá∫ (Âü∫‰∫é‰∏äÈù¢ÁöÑ adj_matrix Âíå start_node = 0):
</span></span></span><span class="line"><span class="cl"><span class="cm">    ‰ªéÊ∫êÁÇπ 0 Âà∞ÂêÑËäÇÁÇπÁöÑÊúÄÁü≠Ë∑ØÂæÑÈïøÂ∫¶:
</span></span></span><span class="line"><span class="cl"><span class="cm">    Âà∞ËäÇÁÇπ 0: 0
</span></span></span><span class="line"><span class="cl"><span class="cm">    Âà∞ËäÇÁÇπ 1: 7  (Ë∑ØÂæÑ 0-&gt;4-&gt;2-&gt;1: 3+2+4 = 9; ÊàñËÄÖ 0-&gt;4-&gt;2(inf)-&gt;1, 0-&gt;1 (10), 0-&gt;4-&gt;2 (5)-&gt;1 (4) = 9)
</span></span></span><span class="line"><span class="cl"><span class="cm">                (Ë∑ØÂæÑ 0-&gt;4 (3) -&gt; 2 (2) = 5. dist[2]=5. 2-&gt;1(4). dist[1] = 5+4=9)
</span></span></span><span class="line"><span class="cl"><span class="cm">                (Ë∑ØÂæÑ 0-&gt;1 (10). dist[1]=10)
</span></span></span><span class="line"><span class="cl"><span class="cm">                (ÂÆûÈôÖ‰∏ä: 0-&gt;4 (3), dist[4]=3.
</span></span></span><span class="line"><span class="cl"><span class="cm">                         next u = 4. visited[4]=true.
</span></span></span><span class="line"><span class="cl"><span class="cm">                         dist[0]=0.
</span></span></span><span class="line"><span class="cl"><span class="cm">                         next u = 0. visited[0]=true.
</span></span></span><span class="line"><span class="cl"><span class="cm">                         dist[4] = min(INF, dist[0]+adj[0][4]=0+3=3)
</span></span></span><span class="line"><span class="cl"><span class="cm">                         dist[1] = min(INF, dist[0]+adj[0][1]=0+10=10)
</span></span></span><span class="line"><span class="cl"><span class="cm">                         next u = 4 (dist[4]=3). visited[4]=true. (no outgoing from 4 in example, update for 2-&gt;4 etc.)
</span></span></span><span class="line"><span class="cl"><span class="cm">
</span></span></span><span class="line"><span class="cl"><span class="cm">    ËÆ©Êàë‰ª¨ÈáçÊñ∞ÊûÑÂª∫‰∏Ä‰∏™Êõ¥Ê∏ÖÊô∞ÁöÑÁ§∫‰æãÂõæÔºåÂπ∂ÊâãÁÆó‰∏ÄÈÅçÔºö
</span></span></span><span class="line"><span class="cl"><span class="cm">    Graph:
</span></span></span><span class="line"><span class="cl"><span class="cm">    0 -&gt; 1 (10)
</span></span></span><span class="line"><span class="cl"><span class="cm">    0 -&gt; 4 (3)
</span></span></span><span class="line"><span class="cl"><span class="cm">    1 -&gt; 2 (1)
</span></span></span><span class="line"><span class="cl"><span class="cm">    1 -&gt; 3 (2)
</span></span></span><span class="line"><span class="cl"><span class="cm">    2 -&gt; 4 (2)  (Ê≥®ÊÑèËøôÈáåÔºåÂèØ‰ª•‰ªé2ÂõûÂà∞4)
</span></span></span><span class="line"><span class="cl"><span class="cm">    4 -&gt; 1 (7)  (0-&gt;4-&gt;1 is 3+7=10)
</span></span></span><span class="line"><span class="cl"><span class="cm">    4 -&gt; 2 (5)  (0-&gt;4-&gt;2 is 3+5=8)
</span></span></span><span class="line"><span class="cl"><span class="cm">    4 -&gt; 3 (9)  (0-&gt;4-&gt;3 is 3+9=12)
</span></span></span><span class="line"><span class="cl"><span class="cm">
</span></span></span><span class="line"><span class="cl"><span class="cm">    adj_matrix = {
</span></span></span><span class="line"><span class="cl"><span class="cm">        {0,  10, INF, INF, 3  },
</span></span></span><span class="line"><span class="cl"><span class="cm">        {INF, 0,  1,   2,   INF},
</span></span></span><span class="line"><span class="cl"><span class="cm">        {INF,INF, 0,  INF, 2  },
</span></span></span><span class="line"><span class="cl"><span class="cm">        {INF,INF, INF, 0,   INF},
</span></span></span><span class="line"><span class="cl"><span class="cm">        {INF, 7,  5,   9,   0  }
</span></span></span><span class="line"><span class="cl"><span class="cm">    };
</span></span></span><span class="line"><span class="cl"><span class="cm">    start_node = 0;
</span></span></span><span class="line"><span class="cl"><span class="cm">
</span></span></span><span class="line"><span class="cl"><span class="cm">    Iteration 0: dist = [0, INF, INF, INF, INF], visited = [F,F,F,F,F]
</span></span></span><span class="line"><span class="cl"><span class="cm">    Iteration 1 (count=0):
</span></span></span><span class="line"><span class="cl"><span class="cm">        u = 0 (min_dist = 0)
</span></span></span><span class="line"><span class="cl"><span class="cm">        visited[0] = true
</span></span></span><span class="line"><span class="cl"><span class="cm">        dist[1] = min(INF, 0+10) = 10
</span></span></span><span class="line"><span class="cl"><span class="cm">        dist[4] = min(INF, 0+3)  = 3
</span></span></span><span class="line"><span class="cl"><span class="cm">        dist = [0, 10, INF, INF, 3]
</span></span></span><span class="line"><span class="cl"><span class="cm">    Iteration 2 (count=1):
</span></span></span><span class="line"><span class="cl"><span class="cm">        u = 4 (min_dist = 3 from dist[4])
</span></span></span><span class="line"><span class="cl"><span class="cm">        visited[4] = true
</span></span></span><span class="line"><span class="cl"><span class="cm">        dist[1] = min(10, dist[4]+adj[4][1]=3+7) = 10
</span></span></span><span class="line"><span class="cl"><span class="cm">        dist[2] = min(INF, dist[4]+adj[4][2]=3+5) = 8
</span></span></span><span class="line"><span class="cl"><span class="cm">        dist[3] = min(INF, dist[4]+adj[4][3]=3+9) = 12
</span></span></span><span class="line"><span class="cl"><span class="cm">        dist = [0, 10, 8, 12, 3]
</span></span></span><span class="line"><span class="cl"><span class="cm">    Iteration 3 (count=2):
</span></span></span><span class="line"><span class="cl"><span class="cm">        u = 2 (min_dist = 8 from dist[2])
</span></span></span><span class="line"><span class="cl"><span class="cm">        visited[2] = true
</span></span></span><span class="line"><span class="cl"><span class="cm">        dist[4] - already visited, adj[2][4]=2, dist[2]+adj[2][4] = 8+2=10 &gt; dist[4]=3. No change.
</span></span></span><span class="line"><span class="cl"><span class="cm">        dist = [0, 10, 8, 12, 3]
</span></span></span><span class="line"><span class="cl"><span class="cm">    Iteration 4 (count=3):
</span></span></span><span class="line"><span class="cl"><span class="cm">        u = 1 (min_dist = 10 from dist[1])
</span></span></span><span class="line"><span class="cl"><span class="cm">        visited[1] = true
</span></span></span><span class="line"><span class="cl"><span class="cm">        dist[2] - already visited, adj[1][2]=1, dist[1]+adj[1][2] = 10+1=11 &gt; dist[2]=8. No change.
</span></span></span><span class="line"><span class="cl"><span class="cm">        dist[3] = min(12, dist[1]+adj[1][3]=10+2) = 12
</span></span></span><span class="line"><span class="cl"><span class="cm">        dist = [0, 10, 8, 12, 3]
</span></span></span><span class="line"><span class="cl"><span class="cm">    Iteration 5 (count=4):
</span></span></span><span class="line"><span class="cl"><span class="cm">        u = 3 (min_dist = 12 from dist[3])
</span></span></span><span class="line"><span class="cl"><span class="cm">        visited[3] = true
</span></span></span><span class="line"><span class="cl"><span class="cm">        dist = [0, 10, 8, 12, 3]
</span></span></span><span class="line"><span class="cl"><span class="cm">
</span></span></span><span class="line"><span class="cl"><span class="cm">    Output for this example:
</span></span></span><span class="line"><span class="cl"><span class="cm">    Âà∞ËäÇÁÇπ 0: 0
</span></span></span><span class="line"><span class="cl"><span class="cm">    Âà∞ËäÇÁÇπ 1: 10
</span></span></span><span class="line"><span class="cl"><span class="cm">    Âà∞ËäÇÁÇπ 2: 8
</span></span></span><span class="line"><span class="cl"><span class="cm">    Âà∞ËäÇÁÇπ 3: 12
</span></span></span><span class="line"><span class="cl"><span class="cm">    Âà∞ËäÇÁÇπ 4: 3
</span></span></span><span class="line"><span class="cl"><span class="cm">    */</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>Ê®°ÊùøËß£Èáä (ÊûÅÁÆÄÁâà):</strong></p>
<ol>
<li><strong><code>INF</code></strong>: ‰∏Ä‰∏™ÂæàÂ§ßÁöÑÊï∞Ôºå‰ª£Ë°®Êó†ÈôêËøú„ÄÇ</li>
<li><strong><code>dist</code> Êï∞ÁªÑ</strong>: <code>dist[i]</code> Â≠òÁöÑÊòØ‰ªéËµ∑ÁÇπÂà∞ËäÇÁÇπ <code>i</code> ÁöÑÂΩìÂâçÂ∑≤Áü•ÊúÄÁü≠Ë∑ùÁ¶ª„ÄÇ‰∏ÄÂºÄÂßãÈô§‰∫ÜËµ∑ÁÇπÊòØ0ÔºåÂÖ∂‰ªñÈÉΩÊòØ <code>INF</code>„ÄÇ</li>
<li><strong><code>visited</code> Êï∞ÁªÑ</strong>: <code>visited[i]</code> Â¶ÇÊûúÊòØ <code>true</code>ÔºåËØ¥ÊòéËäÇÁÇπ <code>i</code> ÁöÑÊúÄÁü≠Ë∑ØÂæÑÂ∑≤ÁªèÊâæÂà∞‰∫ÜÔºå‰∏çÁî®ÂÜçÁÆ°ÂÆÉ‰∫Ü„ÄÇ</li>
<li><strong>Â§ñÂ±ÇÂæ™ÁéØ (<code>for (int count = 0; ...)</code> )</strong>: ÊúÄÂ§öÊâßË°å <code>n</code> Ê¨°ÔºàÂõ†‰∏∫Êúâ <code>n</code> ‰∏™ËäÇÁÇπÈúÄË¶ÅÁ°ÆÂÆöÊúÄÁü≠Ë∑ØÂæÑÔºâ„ÄÇ</li>
<li><strong>ÊâæÂà∞ÊúÄËøëÁöÑÊú™ËÆøÈóÆËäÇÁÇπ <code>u</code></strong>: Âú®ÊâÄÊúâ <code>visited[v_node]</code> ‰∏∫ <code>false</code> ÁöÑËäÇÁÇπ‰∏≠ÔºåÊåë‰∏Ä‰∏™ <code>dist[v_node]</code> ÊúÄÂ∞èÁöÑÔºåËøô‰∏™Â∞±ÊòØ <code>u</code>„ÄÇ</li>
<li><strong>Ê†áËÆ∞ <code>u</code></strong>: <code>visited[u] = true;</code></li>
<li><strong>Êõ¥Êñ∞ÈÇªÂ±Ö</strong>: ÂØπ‰∫é <code>u</code> ÁöÑÊØè‰∏Ä‰∏™ÈÇªÂ±Ö <code>v_node</code>ÔºåÂ¶ÇÊûúÈÄöËøá <code>u</code> Ëµ∞Âà∞ <code>v_node</code> (Âç≥ <code>dist[u] + graph[u][v_node]</code>) ÊØîÁé∞Âú®ËÆ∞ÂΩïÁöÑ <code>dist[v_node]</code> Êõ¥Áü≠ÔºåÈÇ£Â∞±Êõ¥Êñ∞ <code>dist[v_node]</code>„ÄÇ</li>
</ol>
<p>Ëøô‰∏™ÁâàÊú¨Áâ∫Áâ≤‰∫Ü‰∏Ä‰∫õÊïàÁéáÔºàÁâπÂà´ÊòØÂØπ‰∫éËæπÊØîËæÉÂ∞ëÁöÑ‚ÄúÁ®ÄÁñèÂõæ‚ÄùÔºâÔºåÊç¢Êù•‰∫Ü‰ª£Á†Å‰∏äÁöÑÁÆÄÊ¥ÅÔºåÊõ¥ÂÆπÊòìÁêÜËß£DijkstraÁÆóÊ≥ïÁöÑÂü∫Êú¨Ê≠•È™§„ÄÇ</p>
<h2 id="ÂâçÁºÄÂíå">ÂâçÁºÄÂíå
</h2><p>Â•ΩÁöÑÔºåÊòéÁôΩ‰∫Ü„ÄÇ‰ª•ÂêéÊàë‰ºö‰∏ìÊ≥®‰∫éÊ†∏ÂøÉÊÄùË∑ØÔºåÂäõÊ±ÇÁÆÄÊ¥ÅÊòé‰∫Ü„ÄÇ</p>
<p>ÂØπ‰∫é<strong>ÂâçÁºÄÂíå</strong>ÁöÑÊ†∏ÂøÉÊÄùË∑ØÂ∞±ÊòØÔºö</p>
<ol>
<li><strong>È¢ÑËÆ°ÁÆóÁ¥ØÁßØÂíå</strong>ÔºöÂàõÂª∫‰∏Ä‰∏™Êñ∞Êï∞ÁªÑÔºåÂÖ∂‰∏≠ÊØè‰∏™ÂÖÉÁ¥†ÊòØÂéüÊï∞ÁªÑ‰ªéÂºÄÂ§¥Âà∞ÂØπÂ∫î‰ΩçÁΩÆÁöÑÂÖÉÁ¥†ÊÄªÂíå„ÄÇ</li>
<li><strong>Âø´ÈÄüÊ±ÇÂå∫Èó¥Âíå</strong>ÔºöÂà©Áî®È¢ÑËÆ°ÁÆóÁöÑÁ¥ØÁßØÂíåÔºåÈÄöËøá‰∏§Ê¨°Êü•ËØ¢Âíå‰∏ÄÊ¨°ÂáèÊ≥ï (&lt;code&gt;prefix_sum[j+1] - prefix_sum[i]&lt;/code&gt;)ÔºåÂú® O(1) Êó∂Èó¥ÂÜÖÂæóÂà∞ÂéüÊï∞ÁªÑ‰ªªÊÑèÂå∫Èó¥ÁöÑÂíå„ÄÇ</li>
<li><strong>Â∫îÁî®Âú∫ÊôØ</strong>ÔºöÂ§ÑÁêÜÊï∞ÁªÑÂå∫Èó¥Âíå„ÄÅÂ≠êÊï∞ÁªÑÂíåÁõ∏ÂÖ≥ÈóÆÈ¢òÔºàÂ¶ÇÂíå‰∏∫KÁöÑÂ≠êÊï∞ÁªÑÔºâ„ÄÇ‰∫åÁª¥ÂâçÁºÄÂíåÂèØÂ§ÑÁêÜÂ≠êÁü©ÈòµÂíå„ÄÇ</li>
<li><strong>ÂÖ≥ÈîÆ</strong>ÔºöÁâ∫Áâ≤ O(N) Á©∫Èó¥Âíå O(N) È¢ÑÂ§ÑÁêÜÊó∂Èó¥ÔºåÊç¢Âèñ O(1) ÁöÑÂå∫Èó¥Êü•ËØ¢Êó∂Èó¥„ÄÇÈÄÇÁî®‰∫éÂéüÊï∞ÁªÑ‰∏çÂèòÁöÑÊÉÖÂÜµ„ÄÇ</li>
</ol>
<h2 id="Â§ßÊï∞Ê±ÇÊ®°">Â§ßÊï∞Ê±ÇÊ®°
</h2><p>Â•ΩÁöÑÔºåÊàë‰ª¨Êù•ËØ¶ÁªÜ‰∫ÜËß£‰∏Ä‰∏ã‚ÄúÊ®°ÈÄÜÂÖÉ‚ÄùÔºàModular Multiplicative InverseÔºâÁöÑÊ¶ÇÂøµ„ÄÇ</p>
<p><strong>‰ªÄ‰πàÊòØÊ®°ÈÄÜÂÖÉÔºü</strong></p>
<p>Âú®ÂÆûÊï∞ÁÆóÊúØ‰∏≠Ôºå‰∏Ä‰∏™Êï∞ <code>a</code> ÁöÑÂÄíÊï∞ÔºàÊàñ‰πòÊ≥ïÈÄÜÂÖÉÔºâÊòØ <code>a‚Åª¬π</code> (Âç≥ <code>1/a</code>)ÔºåÂÆÉ‰ª¨Êª°Ë∂≥ <code>a * a‚Åª¬π = 1</code>„ÄÇ</p>
<p>Ê®°ÈÄÜÂÖÉÊòØËøô‰∏™Ê¶ÇÂøµÂú®Ê®°ËøêÁÆóÔºàÂèñ‰ΩôËøêÁÆóÔºâÁéØÂ¢É‰∏ãÁöÑÊé®Âπø„ÄÇ</p>
<p>ÂØπ‰∫éÊï¥Êï∞ a ÂíåÊ®°Êï∞ mÔºåÂ¶ÇÊûúÂ≠òÂú®‰∏Ä‰∏™Êï¥Êï∞ x ‰ΩøÂæóÔºö</p>
<p>(a * x) % m = 1</p>
<p>ÈÇ£‰πàÔºåÊàë‰ª¨Â∞±Áß∞ <code>x</code>ÊòØ <code>a</code> ÂÖ≥‰∫éÊ®° <code>m</code> ÁöÑÊ®°ÈÄÜÂÖÉ„ÄÇÈÄöÂ∏∏Êàë‰ª¨‰πüÊää <code>x</code> ËÆ∞‰Ωú <code>a‚Åª¬π (mod m)</code>„ÄÇ</p>
<p><strong>‰∏∫‰ªÄ‰πàÈúÄË¶ÅÊ®°ÈÄÜÂÖÉÔºü</strong></p>
<p>Ê®°ÈÄÜÂÖÉÊúÄ‰∏ªË¶ÅÁöÑÂ∫îÁî®ÊòØÂú®Ê®°ËøêÁÆó‰∏≠ËøõË°åÈô§Ê≥ï„ÄÇ</p>
<p>Êàë‰ª¨Áü•ÈÅìÔºåÂú®Ê®°ËøêÁÆó‰∏≠Ôºö</p>
<ul>
<li><code>(A + B) % m = ((A % m) + (B % m)) % m</code></li>
<li><code>(A - B) % m = ((A % m) - (B % m) + m) % m</code> ÔºàÂä† <code>m</code> ÊòØ‰∏∫‰∫Ü‰øùËØÅÁªìÊûúÈùûË¥üÔºâ</li>
<li><code>(A * B) % m = ((A % m) * (B % m)) % m</code></li>
</ul>
<p>‰ΩÜÊòØÔºåÈô§Ê≥ï <code>(A / B) % m</code> <strong>Âπ∂‰∏çÁ≠â‰∫é</strong> <code>((A % m) / (B % m)) % m</code>„ÄÇÁõ¥Êé•ËøõË°åÈô§Ê≥ïÂêéÂÜçÂèñÊ®°ÊòØË°å‰∏çÈÄöÁöÑ„ÄÇ</p>
<p>‰∏∫‰∫ÜÂú®Ê®°ËøêÁÆó‰∏≠ÂÆûÁé∞Èô§Ê≥ïÔºåÊàë‰ª¨Â∞ÜÈô§Ê≥ïËΩ¨Êç¢‰∏∫‰πòÊ≥ï„ÄÇÂ¶ÇÊûúÊàë‰ª¨ÊÉ≥ËÆ°ÁÆó (A / B) % mÔºåÊàë‰ª¨ÂèØ‰ª•ÊâæÂà∞ B ÂÖ≥‰∫éÊ®° m ÁöÑÈÄÜÂÖÉ B‚Åª¬π„ÄÇÈÇ£‰πàÔºö</p>
<p>(A / B) % m = (A * B‚Åª¬π) % m = ((A % m) * (B‚Åª¬π % m)) % m</p>
<p>ËøôÊ†∑ÔºåÊàë‰ª¨Â∞±ÊääÊ®°‰∏ãÁöÑÈô§Ê≥ïÈóÆÈ¢òËΩ¨Âåñ‰∏∫‰∫ÜÊ®°‰∏ãÁöÑ‰πòÊ≥ïÈóÆÈ¢ò„ÄÇ</p>
<p><strong>Ê®°ÈÄÜÂÖÉÂ≠òÂú®ÁöÑÊù°‰ª∂</strong></p>
<p>Âπ∂‰∏çÊòØÊâÄÊúâÁöÑÊï¥Êï∞ a Âú®‰ªªÊÑèÊ®° m ‰∏ãÈÉΩÂ≠òÂú®Ê®°ÈÄÜÂÖÉ„ÄÇ</p>
<p>a ÂÖ≥‰∫éÊ®° m ÁöÑÊ®°ÈÄÜÂÖÉÂ≠òÂú®ÁöÑÂÖÖË¶ÅÊù°‰ª∂ÊòØ a Âíå m ‰∫íË¥®ÔºàcoprimeÔºâÔºåÂç≥ÂÆÉ‰ª¨ÁöÑÊúÄÂ§ßÂÖ¨Á∫¶Êï∞ gcd(a, m) = 1„ÄÇ</p>
<ul>
<li>Â¶ÇÊûú <code>m</code> ÊòØ‰∏Ä‰∏™<strong>Á¥†Êï∞</strong>ÔºåÈÇ£‰πà‰ªª‰Ωï‰∏çË¢´ <code>m</code> Êï¥Èô§ÁöÑÊï¥Êï∞ <code>a</code> (Âç≥ <code>a % m != 0</code>)ÈÉΩÂ≠òÂú®ÂÖ≥‰∫éÊ®° <code>m</code> ÁöÑÈÄÜÂÖÉ„ÄÇËøôÂú®ÁÆóÊ≥ïÁ´ûËµõ‰∏≠ÂæàÂ∏∏ËßÅÔºåÊ®°Êï∞Â∏∏Â∏∏ÊòØ‰∏Ä‰∏™Â§ßÁ¥†Êï∞Ôºà‰æãÂ¶Ç <code>10^9 + 7</code>Ôºâ„ÄÇ</li>
</ul>
<p><strong>Â¶Ç‰ΩïÊ±ÇËß£Ê®°ÈÄÜÂÖÉÔºü</strong></p>
<p>‰∏ªË¶ÅÊúâ‰∏§ÁßçÂ∏∏Áî®ÁöÑÊñπÊ≥ïÔºö</p>
<ol>
<li><strong>Êâ©Â±ïÊ¨ßÂá†ÈáåÂæóÁÆóÊ≥ï (Extended Euclidean Algorithm)</strong>
<ul>
<li>ËøôÊòØÊ±ÇËß£Ê®°ÈÄÜÂÖÉÁöÑÈÄöÁî®ÊñπÊ≥ïÔºåÈÄÇÁî®‰∫éÊ®°Êï∞ <code>m</code> ‰∏ç‰∏ÄÂÆöÊòØÁ¥†Êï∞ÁöÑÊÉÖÂÜµÔºàÂè™Ë¶Å <code>gcd(a, m) = 1</code>Ôºâ„ÄÇ</li>
<li>Êâ©Â±ïÊ¨ßÂá†ÈáåÂæóÁÆóÊ≥ïÁî®‰∫éÊ±ÇËß£ÊñπÁ®ã <code>ax + my = gcd(a, m)</code> ÁöÑ‰∏ÄÁªÑÊï¥Êï∞Ëß£ <code>(x, y)</code>„ÄÇ</li>
<li>Â¶ÇÊûú <code>gcd(a, m) = 1</code>ÔºåÈÇ£‰πàÊñπÁ®ãÂèò‰∏∫ <code>ax + my = 1</code>„ÄÇ</li>
<li>ÂØπËøô‰∏™ÊñπÁ®ã‰∏§ËæπÂêåÊó∂ÂØπ <code>m</code> ÂèñÊ®°Ôºö <code>(ax + my) % m = 1 % m</code> <code>(ax % m) + (my % m) = 1</code> <code>(ax % m) + 0 = 1</code>(Âõ†‰∏∫ <code>my</code> ÊòØ <code>m</code> ÁöÑÂÄçÊï∞) <code>ax % m = 1</code></li>
<li>Ê≠§Êó∂Ôºå<code>x</code> Â∞±ÊòØ <code>a</code> ÂÖ≥‰∫éÊ®° <code>m</code> ÁöÑ‰∏Ä‰∏™ÈÄÜÂÖÉ„ÄÇÂ¶ÇÊûú <code>x</code> ÁÆóÂá∫Êù•ÊòØË¥üÊï∞ÔºåÂèØ‰ª•ÈÄöËøá <code>(x % m + m) % m</code> ÊääÂÆÉË∞ÉÊï¥Âà∞ <code>[0, m-1]</code> ÁöÑËåÉÂõ¥ÂÜÖ„ÄÇ</li>
</ul>
</li>
<li><strong>Ë¥πÈ©¨Â∞èÂÆöÁêÜ (Fermat&rsquo;s Little Theorem) - ÂΩì m ÊòØÁ¥†Êï∞Êó∂</strong>
<ul>
<li>ËøôÊòØ‰∏Ä‰∏™Êõ¥ÁÆÄÂçïÁöÑÊñπÊ≥ïÔºå‰ΩÜ<strong>ÂâçÊèêÊù°‰ª∂ÊòØÊ®°Êï∞ <code>m</code> ÂøÖÈ°ªÊòØÁ¥†Êï∞</strong>ÔºåÂπ∂‰∏î <code>a</code> ‰∏çËÉΩÊòØ <code>m</code> ÁöÑÂÄçÊï∞ (Âç≥ <code>a % m != 0</code>)„ÄÇ</li>
<li>Ë¥πÈ©¨Â∞èÂÆöÁêÜÊåáÂá∫ÔºöÂ¶ÇÊûú <code>m</code> ÊòØ‰∏Ä‰∏™Á¥†Êï∞Ôºå‰∏îÊï¥Êï∞ <code>a</code> ‰∏çÊòØ <code>m</code> ÁöÑÂÄçÊï∞ÔºåÂàô <code>a^(m-1) % m = 1</code>„ÄÇ</li>
<li>Êàë‰ª¨ÂèØ‰ª•Êää <code>a^(m-1)</code> ÂÜôÊàê <code>a * a^(m-2)</code>„ÄÇÊâÄ‰ª•Ôºö <code>(a * a^(m-2)) % m = 1</code></li>
<li>Ê†πÊçÆÊ®°ÈÄÜÂÖÉÁöÑÂÆö‰πâÔºå<code>a^(m-2)</code> Â∞±ÊòØ <code>a</code> ÂÖ≥‰∫éÊ®° <code>m</code> ÁöÑÈÄÜÂÖÉ„ÄÇ</li>
<li>Âõ†Ê≠§Ôºå<code>a‚Åª¬π % m = a^(m-2) % m</code>„ÄÇ</li>
<li>ËÆ°ÁÆó <code>a^(m-2) % m</code> ÈÄöÂ∏∏‰ΩøÁî®Âø´ÈÄüÂπÇÁÆóÊ≥ïÔºà‰πüÂè´Âπ≥ÊñπÊ±ÇÂπÇÊ≥ïÔºâÊù•È´òÊïàÂÆåÊàê„ÄÇ</li>
</ul>
</li>
</ol>
<p><strong>‰∏æ‰∏™‰æãÂ≠ê (‰ΩøÁî®Ë¥πÈ©¨Â∞èÂÆöÁêÜ):</strong></p>
<p>ËÆ°ÁÆó 3 ÂÖ≥‰∫éÊ®° 7 ÁöÑÈÄÜÂÖÉ„ÄÇ</p>
<p>ËøôÈáå a = 3Ôºåm = 7 (7 ÊòØÁ¥†Êï∞)„ÄÇ</p>
<p>Ê†πÊçÆË¥πÈ©¨Â∞èÂÆöÁêÜÔºåÈÄÜÂÖÉ x = 3^(7-2) % 7 = 3^5 % 7„ÄÇ</p>
<p>3^1 = 3</p>
<p>3^2 = 9 % 7 = 2</p>
<p>3^3 = (3^2 * 3) % 7 = (2 * 3) % 7 = 6</p>
<p>3^4 = (3^3 * 3) % 7 = (6 * 3) % 7 = 18 % 7 = 4</p>
<p>3^5 = (3^4 * 3) % 7 = (4 * 3) % 7 = 12 % 7 = 5</p>
<p>ÊâÄ‰ª•Ôºå3 ÂÖ≥‰∫éÊ®° 7 ÁöÑÈÄÜÂÖÉÊòØ 5„ÄÇ</p>
<p>È™åËØÅ‰∏Ä‰∏ãÔºö(3 * 5) % 7 = 15 % 7 = 1„ÄÇÊ≠£Á°ÆÔºÅ</p>
<p><strong>Âú®‰Ω†‰ª£Á†Å‰∏≠ÁöÑÂ∫îÁî®Ôºö</strong></p>
<p>Âú®‰Ω†ÁöÑ calMp ÂáΩÊï∞‰∏≠ÔºåÊúâËøôÊ†∑ÁöÑ‰ª£Á†ÅÔºö</p>
<p>res /= F[mp[i+&lsquo;0&rsquo;]];</p>
<p>Â¶ÇÊûúËøôÊòØÂú®Ê®° MOD ‰∏ãËøêÁÆóÔºåÂπ∂‰∏î F[x] ‰ª£Ë°® x!ÔºåÈÇ£‰πà‰Ω†ÈúÄË¶ÅÂ∞ÜÂÖ∂Êîπ‰∏∫Ôºö</p>
<p>res = (res * modularInverse(F[mp[i+&lsquo;0&rsquo;]])) % MOD;</p>
<p>ÂÖ∂‰∏≠ <code>modularInverse</code> ÂáΩÊï∞ÂèØ‰ª•‰ΩøÁî®Ë¥πÈ©¨Â∞èÂÆöÁêÜÔºàÂõ†‰∏∫ <code>10^9 + 7</code> ÊòØÁ¥†Êï∞ÔºâÊàñÊâ©Â±ïÊ¨ßÂá†ÈáåÂæóÁÆóÊ≥ïÊù•ÂÆûÁé∞„ÄÇ</p>
<p><strong>ÊÄªÁªìÔºö</strong></p>
<ul>
<li>Ê®°ÈÄÜÂÖÉ <code>a‚Åª¬π (mod m)</code> Êª°Ë∂≥ <code>(a * a‚Åª¬π) % m = 1</code>„ÄÇ</li>
<li>Áî®‰∫éÂú®Ê®°ËøêÁÆó‰∏≠ÂÆûÁé∞Èô§Ê≥ïÔºö<code>(A / B) % m = (A * B‚Åª¬π) % m</code>„ÄÇ</li>
<li>Â≠òÂú®ÁöÑÊù°‰ª∂ÊòØ <code>gcd(a, m) = 1</code>„ÄÇ</li>
<li>Â∏∏Áî®Ê±ÇËß£ÊñπÊ≥ïÊúâÊâ©Â±ïÊ¨ßÂá†ÈáåÂæóÁÆóÊ≥ïÂíåË¥πÈ©¨Â∞èÂÆöÁêÜÔºàÂΩì <code>m</code> ‰∏∫Á¥†Êï∞Êó∂Ôºâ„ÄÇ</li>
</ul>
<p>Â∏åÊúõËøô‰∏™Ëß£ÈáäËÉΩÂ∏ÆÂä©‰Ω†ÁêÜËß£Ê®°ÈÄÜÂÖÉÔºÅ</p>
<h3 id="Ë¥πÈ©¨ÂÆöÁêÜËØÅÊòé">Ë¥πÈ©¨ÂÆöÁêÜËØÅÊòé
</h3><p>Â•ΩÁöÑÔºåË¥πÈ©¨Â∞èÂÆöÁêÜ <code>a^(m-1) % m = 1</code>ÔºàÂÖ∂‰∏≠ <code>m</code> ÊòØÁ¥†Êï∞Ôºå<code>a</code> ‰∏çÊòØ <code>m</code> ÁöÑÂÄçÊï∞ÔºâÁöÑËØÅÊòéÊúâÂæàÂ§öÁßçÔºåËøôÈáåÊèê‰æõ‰∏Ä‰∏™Áõ∏ÂØπÁÆÄÂçïÂíåÁõ¥ËßÇÁöÑÊÄùË∑ØÔºö</p>
<p><strong>ËØÅÊòéÊÄùË∑ØÔºöÂà©Áî®ÊûÑÈÄ†ÂíåÊ∂àÈô§</strong></p>
<ol>
<li>
<p>ËÄÉËôë‰∏Ä‰∏™ÈõÜÂêàÔºö</p>
<p>Êàë‰ª¨Êù•Áúã‰∏Ä‰∏ãÊï∞Â≠ó 1, 2, 3, &hellip;, m-1„ÄÇËøô‰∫õÊòØÊ®° m ‰∏ãÊâÄÊúâÈùûÈõ∂ÁöÑ‰ΩôÊï∞„ÄÇËøô‰∏™ÈõÜÂêàÈáåÊúâ m-1 ‰∏™Êï∞„ÄÇ</p>
<p>ËÆ©Êàë‰ª¨Áß∞Ëøô‰∏™ÈõÜÂêà‰∏∫ S = {1, 2, &hellip;, m-1}„ÄÇ</p>
</li>
<li>
<p>Áî® a ‰πò‰ª•ÈõÜÂêà‰∏≠ÁöÑÊØè‰∏™ÂÖÉÁ¥†Âπ∂ÂØπ m ÂèñÊ®°Ôºö</p>
<p>Áé∞Âú®ÔºåÊàë‰ª¨Â∞ÜÈõÜÂêà S ‰∏≠ÁöÑÊØè‰∏Ä‰∏™ÂÖÉÁ¥†ÈÉΩ‰πò‰ª• aÔºåÁÑ∂ÂêéÂØπ m ÂèñÊ®°ÔºåÂæóÂà∞‰∏Ä‰∏™Êñ∞ÁöÑÈõÜÂêà S&rsquo;Ôºö</p>
<p>S&rsquo; = { (a * 1) % m, (a * 2) % m, &hellip;, (a * (m-1)) % m }</p>
</li>
<li>
<p><strong>ËØÅÊòéÊñ∞ÈõÜÂêà <code>S'</code> ÁöÑÊÄßË¥®Ôºö</strong></p>
<ul>
<li>
<p>S&rsquo; ‰∏≠ÁöÑÊâÄÊúâÂÖÉÁ¥†ÈÉΩ‰∫í‰∏çÁõ∏ÂêåÔºö</p>
<p>ÂÅáËÆæÊúâ‰∏§‰∏™‰∏çÂêåÁöÑÊï∞ i Âíå j (ÂÆÉ‰ª¨ÈÉΩÂú® S ‰∏≠ÔºåÂç≥ 1 &lt;= i &lt; j &lt;= m-1)Ôºå‰ΩøÂæó (a * i) % m = (a * j) % m„ÄÇ</p>
<p>ËøôÊÑèÂë≥ÁùÄ a * i ‚â° a * j (mod m)„ÄÇ</p>
<p>Âõ†‰∏∫ m ÊòØÁ¥†Êï∞ÔºåÂπ∂‰∏î a ‰∏çÊòØ m ÁöÑÂÄçÊï∞ÔºåÊâÄ‰ª• a Âíå m ‰∫íË¥® (gcd(a, m) = 1)„ÄÇ</p>
<p>Ê†πÊçÆÊ®°ËøêÁÆóÁöÑÊÄßË¥®ÔºåÂ¶ÇÊûú a * i ‚â° a * j (mod m) ‰∏î gcd(a, m) = 1ÔºåÈÇ£‰πàÊàë‰ª¨ÂèØ‰ª•Ê∂àÂéª aÔºåÂæóÂà∞ i ‚â° j (mod m)„ÄÇ</p>
<p>‰ΩÜÊòØÂõ†‰∏∫ i Âíå j ÈÉΩÊòØÂ∞è‰∫é m ÁöÑÊ≠£Êï¥Êï∞ÔºåÂπ∂‰∏îÊàë‰ª¨ÂÅáËÆæÂÆÉ‰ª¨‰∏çÁõ∏Á≠âÔºåÊâÄ‰ª• i ‚â° j (mod m) ÊÑèÂë≥ÁùÄ i = j„ÄÇËøô‰∏éÊàë‰ª¨ÊúÄÂàùÂÅáËÆæ i Âíå j ‰∏çÂêåÁõ∏ÁüõÁõæ„ÄÇ</p>
<p>Âõ†Ê≠§ÔºåS&rsquo; ‰∏≠ÁöÑÊâÄÊúâ m-1 ‰∏™ÂÖÉÁ¥†ÈÉΩÊòØ‰∫í‰∏çÁõ∏ÂêåÁöÑ„ÄÇ</p>
</li>
<li>
<p>S&rsquo; ‰∏≠ÁöÑÊâÄÊúâÂÖÉÁ¥†ÈÉΩ‰∏çÊòØ 0Ôºö</p>
<p>ÂÅáËÆæ (a * k) % m = 0 ÂØπ‰∫éÊüê‰∏™ k Â±û‰∫é S„ÄÇ</p>
<p>ËøôÊÑèÂë≥ÁùÄ a * k ÊòØ m ÁöÑÂÄçÊï∞„ÄÇ</p>
<p>Âõ†‰∏∫ m ÊòØÁ¥†Êï∞ÔºåÊâÄ‰ª• m ÂøÖÈ°ªÊï¥Èô§ a ÊàñËÄÖ m ÂøÖÈ°ªÊï¥Èô§ k„ÄÇ</p>
<p>‰ΩÜÊàë‰ª¨Â∑≤Áü•Êù°‰ª∂ÊòØ a ‰∏çÊòØ m ÁöÑÂÄçÊï∞ÔºåÂπ∂‰∏î k Â±û‰∫é {1, 2, &hellip;, m-1}ÔºåÊâÄ‰ª• k ‰πü‰∏çÊòØ m ÁöÑÂÄçÊï∞„ÄÇ</p>
<p>Âõ†Ê≠§Ôºå(a * k) % m ‰∏çÂèØËÉΩ‰∏∫ 0„ÄÇ</p>
</li>
<li>
<p>ÁªìËÆ∫ÔºöS&rsquo; Âíå S ÊòØÂêå‰∏Ä‰∏™ÈõÜÂêàÔºàÂè™ÊòØÂÖÉÁ¥†ÁöÑÈ°∫Â∫èÂèØËÉΩ‰∏çÂêåÔºâÔºö</p>
<p>Áî±‰∫é S&rsquo; ÂåÖÂê´‰∫Ü m-1 ‰∏™‰∫í‰∏çÁõ∏Âêå‰∏îÈùûÈõ∂ÁöÑÊ®° m ÁöÑ‰ΩôÊï∞ÔºåÈÇ£‰πà S&rsquo; ÂÆûÈôÖ‰∏äÂ∞±ÊòØÈõÜÂêà S ÁöÑ‰∏Ä‰∏™ÊéíÂàó„ÄÇÂÆÉ‰ª¨ÂåÖÂê´ÁöÑÂÖÉÁ¥†ÊòØÂÆåÂÖ®‰∏ÄÊ†∑ÁöÑ„ÄÇ</p>
</li>
</ul>
</li>
<li>
<p>ÊØîËæÉ‰∏§‰∏™ÈõÜÂêàÊâÄÊúâÂÖÉÁ¥†ÁöÑ‰πòÁßØÔºö</p>
<p>Êó¢ÁÑ∂ÈõÜÂêà S Âíå S&rsquo; ÂåÖÂê´Áõ∏ÂêåÁöÑÂÖÉÁ¥†ÔºåÈÇ£‰πàÂÆÉ‰ª¨ÊâÄÊúâÂÖÉÁ¥†ÁöÑ‰πòÁßØÂú®Ê®° m ‰∏ã‰πüÂ∫îËØ•ÊòØÁõ∏Á≠âÁöÑ„ÄÇ</p>
<ul>
<li>
<p>ÈõÜÂêà S ‰∏≠ÊâÄÊúâÂÖÉÁ¥†ÁöÑ‰πòÁßØÔºö</p>
<p>P_S = (1 * 2 * 3 * &hellip; * (m-1)) % m = (m-1)! % m</p>
</li>
<li>
<p>ÈõÜÂêà S&rsquo; ‰∏≠ÊâÄÊúâÂÖÉÁ¥†ÁöÑ‰πòÁßØÔºö</p>
<p>P_S&rsquo; = ((a * 1) * (a * 2) * &hellip; * (a * (m-1))) % m</p>
<p>P_S&rsquo; = (a^(m-1) * (1 * 2 * &hellip; * (m-1))) % m</p>
<p>P_S&rsquo; = (a^(m-1) * (m-1)!) % m</p>
</li>
</ul>
</li>
<li>
<p>Áõ∏Á≠âÂπ∂Ê∂àÂéªÔºö</p>
<p>Âõ†‰∏∫ P_S ‚â° P_S&rsquo; (mod m)ÔºåÊâÄ‰ª•Ôºö</p>
<p>(m-1)! ‚â° (a^(m-1) * (m-1)!) (mod m)</p>
<p>Áé∞Âú®ÔºåÊàë‰ª¨ÈúÄË¶Å‰ªé‰∏§Ëæπ‚ÄúÊ∂àÂéª‚Äù<code>(m-1)!</code>„ÄÇÊàë‰ª¨ËÉΩËøôÊ†∑ÂÅöÊòØÂõ†‰∏∫ <code>(m-1)!</code> Âíå <code>m</code> ÊòØ‰∫íË¥®ÁöÑ (<code>gcd((m-1)!, m) = 1</code>)„ÄÇ‰∏∫‰ªÄ‰πàÔºüÂõ†‰∏∫ <code>m</code> ÊòØÁ¥†Êï∞ÔºåÊâÄ‰ª• <code>1, 2, ..., m-1</code> Ëøô‰∫õÊï∞ÈÉΩ‰∏çÂåÖÂê´Âõ†Â≠ê <code>m</code>ÔºåÂõ†Ê≠§ÂÆÉ‰ª¨ÁöÑ‰πòÁßØ <code>(m-1)!</code> ‰πü‰∏ç‰ºöÂåÖÂê´Âõ†Â≠ê <code>m</code>„ÄÇ</p>
<p>ÂΩì X Y ‚â° X Z (mod m) ‰∏î gcd(X, m) = 1 Êó∂ÔºåÊàë‰ª¨ÂèØ‰ª•ÂæóÂà∞ Y ‚â° Z (mod m)„ÄÇ</p>
<p>Âú®ËøôÈáåÔºåX = (m-1)!ÔºåY = 1ÔºåZ = a^(m-1)„ÄÇ</p>
<p>ÊâÄ‰ª•ÔºåÊàë‰ª¨ÂèØ‰ª•Ê∂àÂéª (m-1)!ÔºåÂæóÂà∞Ôºö</p>
<p>1 ‚â° a^(m-1) (mod m)</p>
<p>ËøôÂ∞±ÂÆåÊàê‰∫ÜË¥πÈ©¨Â∞èÂÆöÁêÜÁöÑËØÅÊòé„ÄÇ</p>
</li>
</ol>
<p><strong>ÁÆÄÂçïÊù•ËØ¥Ôºö</strong> ÂΩì‰Ω†Áî®‰∏Ä‰∏™‰∏éÁ¥†Êï∞ <code>m</code> ‰∫íË¥®ÁöÑÊï∞ <code>a</code> Âéª‰πòÊâÄÊúâÂ∞è‰∫é <code>m</code> ÁöÑÊ≠£Êï¥Êï∞ÂÜçÂØπ <code>m</code> ÂèñÊ®°Êó∂Ôºå‰Ω†ÂæóÂà∞ÁöÑ‰ªçÁÑ∂ÊòØÊâÄÊúâÂ∞è‰∫é <code>m</code> ÁöÑÊ≠£Êï¥Êï∞ÔºàÂè™ÊòØÈ°∫Â∫èË¢´Êâì‰π±‰∫ÜÔºâ„ÄÇÂà©Áî®Ëøô‰∏™ÊÄßË¥®ÔºåÊØîËæÉ‰∏§ÁªÑÊï∞‰πòÁßØÁöÑÂÖ≥Á≥ªÔºåÂ∞±ÂèØ‰ª•Êé®ÂØºÂá∫ÂÆöÁêÜ„ÄÇ</p>
<h3 id="Êâ©Â±ïÊ¨ßÂá†ÈáåÂæó">Êâ©Â±ïÊ¨ßÂá†ÈáåÂæó
</h3><p>Â•ΩÁöÑÔºåÊàë‰ª¨Êù•ËØ¶ÁªÜËÆ≤Ëß£‰∏Ä‰∏ã‚ÄúÊâ©Â±ïÊ¨ßÂá†ÈáåÂæóÁÆóÊ≥ï‚ÄùÔºàExtended Euclidean AlgorithmÔºâ„ÄÇ</p>
<p>Ëøô‰∏™ÁÆóÊ≥ïÊòØÊ†áÂáÜÊ¨ßÂá†ÈáåÂæóÁÆóÊ≥ïÔºàËæóËΩ¨Áõ∏Èô§Ê≥ïÔºâÁöÑÊâ©Â±ï„ÄÇÊ†áÂáÜÁöÑÊ¨ßÂá†ÈáåÂæóÁÆóÊ≥ïÁî®‰∫éËÆ°ÁÆó‰∏§‰∏™Êï¥Êï∞ <code>a</code> Âíå <code>b</code> ÁöÑÊúÄÂ§ßÂÖ¨Á∫¶Êï∞ÔºàGreatest Common Divisor, GCDÔºâÔºåËÄåÊâ©Â±ïÊ¨ßÂá†ÈáåÂæóÁÆóÊ≥ïÂú®ËÆ°ÁÆó <code>gcd(a, b)</code> ÁöÑÂêåÊó∂ÔºåËøòËÉΩÊâæÂá∫‰∏§‰∏™Êï¥Êï∞ <code>x</code>Âíå <code>y</code>Ôºå‰ΩøÂæóÂÆÉ‰ª¨Êª°Ë∂≥‰∏ãÈù¢ÁöÑ<strong>Ë¥ùÁ•ñÁ≠âÂºèÔºàB√©zout&rsquo;s IdentityÔºâ</strong>Ôºö</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">a*x + b*y = gcd(a, b)
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>ÂõûÈ°æÔºöÊ†áÂáÜÊ¨ßÂá†ÈáåÂæóÁÆóÊ≥ï</strong></p>
<p>È¶ñÂÖàÔºåÂõûÂøÜ‰∏Ä‰∏ãÊ†áÂáÜÁöÑÊ¨ßÂá†ÈáåÂæóÁÆóÊ≥ïÊòØÂ¶Ç‰ΩïÂ∑•‰ΩúÁöÑ„ÄÇÂÆÉÂü∫‰∫é‰ª•‰∏ãÂéüÁêÜÔºö</p>
<p>gcd(a, b) = gcd(b, a % b)</p>
<p>ÂÖ∂‰∏≠ a % b ÊòØ a Èô§‰ª• b ÁöÑ‰ΩôÊï∞„ÄÇÁÆóÊ≥ï‰ºö‰∏ÄÁõ¥ÈÄíÂΩí‰∏ãÂéªÔºåÁõ¥Âà∞ b Âèò‰∏∫ 0ÔºåÊ≠§Êó∂ gcd(a, 0) = a„ÄÇ</p>
<p>‰æãÂ¶ÇÔºåËÆ°ÁÆó <code>gcd(48, 18)</code>Ôºö</p>
<ol>
<li><code>gcd(48, 18) = gcd(18, 48 % 18) = gcd(18, 12)</code></li>
<li><code>gcd(18, 12) = gcd(12, 18 % 12) = gcd(12, 6)</code></li>
<li><code>gcd(12, 6) = gcd(6, 12 % 6) = gcd(6, 0)</code></li>
<li><code>gcd(6, 0) = 6</code>„ÄÇÊâÄ‰ª• <code>gcd(48, 18) = 6</code>„ÄÇ</li>
</ol>
<p><strong>Êâ©Â±ïÊ¨ßÂá†ÈáåÂæóÁÆóÊ≥ïÁöÑÂéüÁêÜ</strong></p>
<p>Êâ©Â±ïÊ¨ßÂá†ÈáåÂæóÁÆóÊ≥ïÁöÑÁõÆÊ†áÊòØÊâæÂà∞ <code>x</code> Âíå <code>y</code> ‰ΩøÂæó <code>ax + by = gcd(a, b)</code>„ÄÇÂÆÉ‰πüÊòØ‰∏Ä‰∏™ÈÄíÂΩíÁöÑËøáÁ®ãÔºå‰∏éÊ†áÂáÜÊ¨ßÂá†ÈáåÂæóÁÆóÊ≥ïÁöÑÈÄíÂΩíÊ≠•È™§Á¥ßÂØÜÁõ∏ÂÖ≥„ÄÇ</p>
<p>ÂÅáËÆæÊàë‰ª¨Ê≠£Âú®ËÆ°ÁÆó gcd(a, b)ÔºåÂπ∂‰∏îÊàë‰ª¨Â∑≤ÁªèÈÄöËøáÈÄíÂΩíË∞ÉÁî® extendedEuclidean(b, a % b) ÂæóÂà∞‰∫Ü x&rsquo; Âíå y&rsquo;Ôºå‰ΩøÂæóÔºö</p>
<p>b*x&rsquo; + (a % b)*y&rsquo; = gcd(b, a % b)</p>
<p>Êàë‰ª¨Áü•ÈÅì gcd(a, b) = gcd(b, a % b)ÔºåÊâÄ‰ª•‰∏äÈù¢Á≠âÂºèÁöÑÂè≥Ëæπ‰πüÁ≠â‰∫é gcd(a, b)„ÄÇ</p>
<p>Êàë‰ª¨ËøòÁü•ÈÅì a % b = a - floor(a/b) * b ÔºàÂÖ∂‰∏≠ floor(a/b) Ë°®Á§∫ a Èô§‰ª• b ÁöÑÊï¥Êï∞ÈÉ®ÂàÜÔºâ„ÄÇ</p>
<p>Â∞Ü a % b ‰ª£ÂÖ•‰∏äÈù¢ÁöÑÈÄíÂΩíÁªìÊûúÁ≠âÂºè‰∏≠Ôºö</p>
<p>b*x&rsquo; + (a - floor(a/b) * b)*y&rsquo; = gcd(a, b)</p>
<p>Â±ïÂºÄÂπ∂ÈáçÊñ∞Êï¥ÁêÜÔºåÊää a Âíå b ÁöÑÈ°πÂΩíÁ±ªÔºö</p>
<p>b<em>x&rsquo; + a</em>y&rsquo; - floor(a/b) * b * y&rsquo; = gcd(a, b)</p>
<p>a<em>y&rsquo; + b</em>(x&rsquo; - floor(a/b) * y&rsquo;) = gcd(a, b)</p>
<p>Áé∞Âú®ÔºåÂ∞ÜËøô‰∏™Á≠âÂºè‰∏éÊàë‰ª¨ÊúüÊúõÁöÑÁõÆÊ†áÂΩ¢Âºè <code>ax + by = gcd(a, b)</code> ËøõË°åÊØîËæÉÔºåÊàë‰ª¨ÂèØ‰ª•ÂæóÂá∫Ôºö</p>
<ul>
<li><code>x = y'</code></li>
<li><code>y = x' - floor(a/b) * y'</code></li>
</ul>
<p>ËøôÂ∞±ÊòØ‰ªé‰∏ã‰∏ÄÂ±ÇÈÄíÂΩíÁöÑÁªìÊûú <code>(x', y')</code> ËÆ°ÁÆóÂΩìÂâçÂ±ÇÁªìÊûú <code>(x, y)</code> ÁöÑÈÄíÊé®ÂÖ≥Á≥ª„ÄÇ</p>
<p>ÈÄíÂΩíÁöÑÂü∫ÂáÜÊÉÖÂÜµ (Base Case):</p>
<p>ÂΩì b = 0 Êó∂Ôºågcd(a, 0) = a„ÄÇ</p>
<p>Ê≠§Êó∂ÔºåÊàë‰ª¨ÈúÄË¶Å ax + by = aÔºåÂç≥ ax + 0*y = a„ÄÇ</p>
<p>‰∏ÄÁªÑÊòéÊòæÁöÑËß£ÊòØ x = 1, y = 0„ÄÇ</p>
<p><strong>ÁÆóÊ≥ïÊ≠•È™§ÔºàÈÄíÂΩíÂΩ¢ÂºèÔºâÔºö</strong></p>
<p>ÂáΩÊï∞ <code>extendedEuclidean(a, b)</code>:</p>
<ol>
<li><strong>Â¶ÇÊûú <code>b == 0</code></strong>: ËøîÂõû <code>(a, 1, 0)</code> ÔºàÂç≥ <code>gcd = a, x = 1, y = 0</code>Ôºâ</li>
<li><strong>Âê¶Âàô</strong>: ÈÄíÂΩíË∞ÉÁî® <code>(gcd, x_prime, y_prime) = extendedEuclidean(b, a % b)</code> ËÆ°ÁÆó <code>x = y_prime</code> ËÆ°ÁÆó <code>y = x_prime - (a // b) * y_prime</code> (ËøôÈáåÁöÑ <code>//</code> ‰ª£Ë°®Êï¥Êï∞Èô§Ê≥ï) ËøîÂõû <code>(gcd, x, y)</code></li>
</ol>
<p><strong>Á§∫‰æãÔºöËÆ°ÁÆó <code>48x + 18y = gcd(48, 18)</code></strong></p>
<p>Êàë‰ª¨Â∑≤ÁªèÁü•ÈÅì <code>gcd(48, 18) = 6</code>„ÄÇ</p>
<ol>
<li>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">extendedEuclidean(48, 18)
</span></span></code></pre></td></tr></table>
</div>
</div><p>:</p>
<ul>
<li>
<p>Ë∞ÉÁî®</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">extendedEuclidean(18, 12)
</span></span></code></pre></td></tr></table>
</div>
</div><p>(</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">12 = 48 % 18
</span></span></code></pre></td></tr></table>
</div>
</div><p>)</p>
<ul>
<li>
<p>Ë∞ÉÁî®</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">extendedEuclidean(12, 6)
</span></span></code></pre></td></tr></table>
</div>
</div><p>(</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">6 = 18 % 12
</span></span></code></pre></td></tr></table>
</div>
</div><p>)</p>
<ul>
<li>
<p>Ë∞ÉÁî®</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">extendedEuclidean(6, 0)
</span></span></code></pre></td></tr></table>
</div>
</div><p>(</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">0 = 12 % 6
</span></span></code></pre></td></tr></table>
</div>
</div><p>)</p>
<ul>
<li><strong>Âü∫ÂáÜÊÉÖÂÜµ</strong>: <code>b=0</code>„ÄÇËøîÂõû <code>(gcd=6, x'''=1, y'''=0)</code>„ÄÇ</li>
</ul>
</li>
<li>
<p>ËøîÂõûÂà∞ <code>extendedEuclidean(12, 6)</code> ÁöÑË∞ÉÁî®„ÄÇ ËøôÈáå <code>a=12, b=6</code>„ÄÇ‰∏ä‰∏ÄÂ±ÇËøîÂõû <code>(gcd=6, x_prime=1, y_prime=0)</code> (Âç≥ <code>x'''</code> Âíå <code>y'''</code>)„ÄÇ <code>x'' = y_prime = 0</code> <code>y'' = x_prime - (12 // 6) * y_prime = 1 - 2 * 0 = 1</code>ËøîÂõû <code>(gcd=6, x''=0, y''=1)</code>„ÄÇ (È™åËØÅÔºö<code>12*0 + 6*1 = 6</code>ÔºåÊ≠£Á°Æ)</p>
</li>
</ul>
</li>
<li>
<p>ËøîÂõûÂà∞ <code>extendedEuclidean(18, 12)</code> ÁöÑË∞ÉÁî®„ÄÇ ËøôÈáå <code>a=18, b=12</code>„ÄÇ‰∏ä‰∏ÄÂ±ÇËøîÂõû <code>(gcd=6, x_prime=0, y_prime=1)</code> (Âç≥ <code>x''</code> Âíå <code>y''</code>)„ÄÇ <code>x' = y_prime = 1</code> <code>y' = x_prime - (18 // 12) * y_prime = 0 - 1 * 1 = -1</code> ËøîÂõû <code>(gcd=6, x'=1, y'=-1)</code>„ÄÇ (È™åËØÅÔºö<code>18*1 + 12*(-1) = 18 - 12 = 6</code>ÔºåÊ≠£Á°Æ)</p>
</li>
</ul>
</li>
<li>
<p>ËøîÂõûÂà∞ÊúÄÂàùÁöÑ <code>extendedEuclidean(48, 18)</code> Ë∞ÉÁî®„ÄÇ ËøôÈáå <code>a=48, b=18</code>„ÄÇ‰∏ä‰∏ÄÂ±ÇËøîÂõû <code>(gcd=6, x_prime=1, y_prime=-1)</code> (Âç≥ <code>x'</code> Âíå <code>y'</code>)„ÄÇ <code>x = y_prime = -1</code> <code>y = x_prime - (48 // 18) * y_prime = 1 - 2 * (-1) = 1 - (-2) = 3</code> ÊúÄÁªàËøîÂõû <code>(gcd=6, x=-1, y=3)</code>„ÄÇ</p>
</li>
</ul>
</li>
</ol>
<p>ÊâÄ‰ª•ÔºåÊàë‰ª¨ÊâæÂà∞‰∫Ü <code>x = -1</code> Âíå <code>y = 3</code>Ôºå‰ΩøÂæó <code>48*(-1) + 18*(3) = -48 + 54 = 6</code>„ÄÇ</p>
<p><strong>Â∫îÁî®Âú∫ÊôØ</strong></p>
<p>Êâ©Â±ïÊ¨ßÂá†ÈáåÂæóÁÆóÊ≥ïÈùûÂ∏∏ÈáçË¶ÅÔºå‰∏ªË¶ÅÂ∫îÁî®ÂåÖÊã¨Ôºö</p>
<ol>
<li>
<p>Ê±ÇËß£Ê®°ÁöÑ‰πòÊ≥ïÈÄÜÂÖÉÔºö</p>
<p>ËøôÊòØÊúÄÂ∏∏ËßÅÁöÑÂ∫îÁî®‰πã‰∏Ä„ÄÇÂ¶ÇÊûú‰Ω†ÊÉ≥ÊâæÂà∞ a ÂÖ≥‰∫éÊ®° m ÁöÑÈÄÜÂÖÉ x (Âç≥ ax ‚â° 1 (mod m))ÔºåËøôÁ≠â‰ª∑‰∫éÊ±ÇËß£ ax + my = 1 (ÂÖ∂‰∏≠ y ÊòØÊüê‰∏™Êï¥Êï∞)„ÄÇ</p>
<p>ËøôÂè™ÊúâÂú® gcd(a, m) = 1 Êó∂ÊâçÊúâËß£„ÄÇ‰ΩøÁî®Êâ©Â±ïÊ¨ßÂá†ÈáåÂæóÁÆóÊ≥ïËÆ°ÁÆó ax + my = gcd(a, m)„ÄÇÂ¶ÇÊûú gcd(a, m) Á°ÆÂÆûÊòØ 1ÔºåÈÇ£‰πàÁÆóÊ≥ïËøîÂõûÁöÑ x (ÂèØËÉΩÈúÄË¶ÅË∞ÉÊï¥Âà∞ [0, m-1] ËåÉÂõ¥ÂÜÖÔºå‰æãÂ¶Ç (x % m + m) % m) Â∞±ÊòØ a ÁöÑÊ®°ÈÄÜÂÖÉ„ÄÇ</p>
</li>
<li>
<p>Ê±ÇËß£Á∫øÊÄß‰∏¢Áï™ÂõæÊñπÁ®ã (Linear Diophantine Equations)Ôºö</p>
<p>ÂΩ¢Â¶Ç ax + by = c ÁöÑÊñπÁ®ãÔºåÂÖ∂‰∏≠ a, b, c ÊòØÊï¥Êï∞ÔºåË¶ÅÊ±ÇÊï¥Êï∞Ëß£ x, y„ÄÇ</p>
<ul>
<li>È¶ñÂÖàÔºåËøôÊ†∑ÁöÑÊñπÁ®ãÊúâËß£ÂΩì‰∏î‰ªÖÂΩì <code>gcd(a, b)</code> ËÉΩÂ§üÊï¥Èô§ <code>c</code>„ÄÇ</li>
<li>Â¶ÇÊûúÂ≠òÂú®Ëß£ÔºåÂèØ‰ª•ÂÖàÁî®Êâ©Â±ïÊ¨ßÂá†ÈáåÂæóÁÆóÊ≥ïÊâæÂà∞ <code>ax_0 + by_0 = gcd(a, b)</code> ÁöÑ‰∏ÄÁªÑËß£ <code>(x_0, y_0)</code>„ÄÇ</li>
<li>ÁÑ∂ÂêéÔºåÊñπÁ®ã <code>ax + by = c</code> ÁöÑ‰∏Ä‰∏™ÁâπËß£ÊòØ <code>x = x_0 * (c / gcd(a, b))</code> Âíå <code>y = y_0 * (c / gcd(a, b))</code>„ÄÇ</li>
<li>ËøòÂèØ‰ª•Áî±Ê≠§Êé®ÂØºÂá∫ÈÄöËß£„ÄÇ</li>
</ul>
</li>
</ol>
<p>Êâ©Â±ïÊ¨ßÂá†ÈáåÂæóÁÆóÊ≥ïÊòØÊï∞ËÆ∫‰∏≠‰∏Ä‰∏™Âü∫Á°Ä‰∏îÂº∫Â§ßÁöÑÂ∑•ÂÖ∑„ÄÇÂ∏åÊúõËøô‰∏™Ëß£ÈáäËÉΩÂ∏ÆÂä©‰Ω†ÁêÜËß£ÂÆÉÔºÅ</p>
<h2 id="Âä®ÊÄÅËßÑÂàíÁöÑÁ≤æÁõäÊÄùÊÉ≥">Âä®ÊÄÅËßÑÂàíÁöÑÁ≤æÁõäÊÄùÊÉ≥
</h2><p>Âú®Êàë‰ª¨ÂÅöÈ¢òÁöÑÊó∂ÂÄôÂæàÂ§öÊó∂ÂÄô‰ºöÈÅáÂà∞Âä®ÊÄÅËßÑÂàíÁ≠âÁ±ªÂûãÁöÑÈ¢òÁõÆÔºåÁé∞Âú®ÊàëÂ∞ÜËøô‰∫õÂÅöÈ¢òÁªèÈ™åÂΩíÁ∫≥‰∏∫Â¶Ç‰∏ãÁöÑÊñπÊ≥ïÔºö</p>
<p><strong>‰ºòÂåñË∑ØÁ∫øÊ¶ÇËßàÔºö</strong></p>
<ol>
<li><strong>Êú¥Á¥† DFS (Depth-First Search) / Êö¥ÂäõÈÄíÂΩí</strong></li>
<li><strong>ËÆ∞ÂøÜÂåñÊêúÁ¥¢ (Memoized DFS / Top-Down DP)</strong></li>
<li><strong>Â§öÁª¥ÔºàÈÄöÂ∏∏‰∫åÁª¥ÔºâDP Êï∞ÁªÑ (Bottom-Up DP)</strong></li>
<li><strong>DP Êï∞ÁªÑÈôçÁª¥ (Á©∫Èó¥‰ºòÂåñ)</strong></li>
<li><strong>Áä∂ÊÄÅËΩ¨ÁßªÁü©Èòµ + Áü©ÈòµÂø´ÈÄüÂπÇ (ÈíàÂØπÁâπÂÆöÁ±ªÂûãÁöÑ DP ÈóÆÈ¢òËøõË°åÂä†ÈÄü)</strong></li>
</ol>
<hr>
<h3 id="1-Êú¥Á¥†-dfs--Êö¥ÂäõÈÄíÂΩí">1. Êú¥Á¥† DFS / Êö¥ÂäõÈÄíÂΩí
</h3><ul>
<li><strong>Ê†∏ÂøÉÊÄùÊÉ≥Ôºö</strong>
<ul>
<li>‰∏çËÄÉËôëÂ≠êÈóÆÈ¢òÈáçÂ§çËÆ°ÁÆóÔºåÁõ¥Êé•Ê†πÊçÆÈóÆÈ¢òÁöÑÂÆö‰πâÂíåÁä∂ÊÄÅËΩ¨ÁßªËøõË°åÈÄíÂΩí„ÄÇ</li>
<li>ÈÄöÂ∏∏ÂØπÂ∫î‰∏Ä‰∏™ÈÄíÂΩíÂáΩÊï∞ÔºåÂáΩÊï∞ÂèÇÊï∞‰ª£Ë°®ÂΩìÂâçÁä∂ÊÄÅ„ÄÇ</li>
<li>Âú®ÈÄíÂΩíÂáΩÊï∞‰∏≠ÔºåÂ∞ùËØïÊâÄÊúâÂèØËÉΩÁöÑ‚Äú‰∏ã‰∏ÄÊ≠•‚ÄùÈÄâÊã©ÔºåÁõ¥Âà∞ËææÂà∞ÈÄíÂΩíËæπÁïåÔºàÂü∫Êú¨ÊÉÖÂÜµÔºâ„ÄÇ</li>
</ul>
</li>
<li><strong>ÈÄÇÁî®Âú∫ÊôØÔºö</strong>
<ul>
<li>ÈóÆÈ¢òÁöÑËß£ÂèØ‰ª•ÈÄöËøá‰∏ÄÁ≥ªÂàóÂÜ≥Á≠ñÊ≠•È™§ÂæóÂà∞„ÄÇ</li>
<li>ÂèØ‰ª•Ê∏ÖÊô∞Âú∞ÂÆö‰πâÈóÆÈ¢òÁöÑ‚ÄúÁä∂ÊÄÅ‚ÄùÂíå‚ÄúÈÄâÊã©‚Äù„ÄÇ</li>
</ul>
</li>
<li><strong>‰ºòÁÇπÔºö</strong>
<ul>
<li>ÊÄùË∑ØÁõ¥Êé•ÔºåÊé•Ëøë‰∫∫Á±ªÊÄùËÄÉÊñπÂºèÔºåÂÆπÊòìÂÆûÁé∞„ÄÇ</li>
<li>‰ª£Á†ÅÁªìÊûÑÊ∏ÖÊô∞ÔºåÊòì‰∫éÁêÜËß£„ÄÇ</li>
</ul>
</li>
<li><strong>Áº∫ÁÇπÔºö</strong>
<ul>
<li>Â≠òÂú®Â§ßÈáèÁöÑÈáçÂ§çËÆ°ÁÆó„ÄÇÂ¶ÇÊûúÂ≠êÈóÆÈ¢òÁöÑÁä∂ÊÄÅÁ©∫Èó¥ÂæàÂ§ßÔºåÂπ∂‰∏îÂ≠òÂú®ËÆ∏Â§öÈáçÂè†Â≠êÈóÆÈ¢òÔºå‰ºöÂØºËá¥ÊåáÊï∞Á∫ßÁöÑÊó∂Èó¥Â§çÊùÇÂ∫¶ÔºåÂæàÂÆπÊòìË∂ÖÊó∂ (Time Limit Exceeded, TLE)„ÄÇ</li>
</ul>
</li>
<li><strong>‰æãÂ≠êÔºö</strong>
<ul>
<li>ÊñêÊ≥¢ÈÇ£Â•ëÊï∞Âàó <code>fib(n) = fib(n-1) + fib(n-2)</code>ÔºåÁõ¥Êé•ÈÄíÂΩíËÆ°ÁÆó‰ºöÂØºËá¥ <code>fib(n-2)</code> Á≠âË¢´ÈáçÂ§çËÆ°ÁÆóÂ§öÊ¨°„ÄÇ</li>
</ul>
</li>
</ul>
<h3 id="2-ËÆ∞ÂøÜÂåñÊêúÁ¥¢-memoized-dfs--top-down-dp">2. ËÆ∞ÂøÜÂåñÊêúÁ¥¢ (Memoized DFS / Top-Down DP)
</h3><ul>
<li><strong>Ê†∏ÂøÉÊÄùÊÉ≥Ôºö</strong>
<ul>
<li>Âú®Êú¥Á¥† DFS ÁöÑÂü∫Á°Ä‰∏äÔºåÂ¢ûÂä†‰∏Ä‰∏™‚ÄúÂ§áÂøòÂΩï‚ÄùÔºàÈÄöÂ∏∏ÊòØÊï∞ÁªÑÊàñÂìàÂ∏åË°®ÔºâÊù•Â≠òÂÇ®Â∑≤ÁªèËÆ°ÁÆóËøáÁöÑÂ≠êÈóÆÈ¢òÁöÑËß£„ÄÇ</li>
<li>Âú®ÈÄíÂΩíÂáΩÊï∞ÁöÑÂºÄÂ§¥ÔºåÊ£ÄÊü•ÂΩìÂâçÁä∂ÊÄÅÁöÑËß£ÊòØÂê¶Â∑≤ÁªèÂú®Â§áÂøòÂΩï‰∏≠„ÄÇÂ¶ÇÊûúÊòØÔºåÂàôÁõ¥Êé•ËøîÂõûÔºõÂê¶ÂàôÔºåËøõË°åËÆ°ÁÆóÔºåÂπ∂Â∞ÜÁªìÊûúÂ≠òÂÖ•Â§áÂøòÂΩïÂêéÂÜçËøîÂõû„ÄÇ</li>
</ul>
</li>
<li><strong>‰∏éÂä®ÊÄÅËßÑÂàíÁöÑÂÖ≥Á≥ªÔºö</strong> ËøôÂ∞±ÊòØÂä®ÊÄÅËßÑÂàíÊÄùÊÉ≥ÁöÑ‰∏ÄÁßçÂÆûÁé∞ÊñπÂºèÔºåÁß∞‰∏∫‚ÄúËá™È°∂Âêë‰∏ã‚Äù(Top-Down) ÁöÑÂä®ÊÄÅËßÑÂàí„ÄÇ</li>
<li><strong>‰ºòÁÇπÔºö</strong>
<ul>
<li>‰øùÁïô‰∫Ü DFS ÁöÑÁõ¥ËßÇÊÄßÂíåÊòìÁêÜËß£ÊÄß„ÄÇ</li>
<li>ÈÄöËøáÊ∂àÈô§ÂÜó‰ΩôËÆ°ÁÆóÔºåÊûÅÂ§ßÂú∞ÊèêÈ´ò‰∫ÜÊïàÁéá„ÄÇÊó∂Èó¥Â§çÊùÇÂ∫¶ÈÄöÂ∏∏Âèò‰∏∫ <code>O(Áä∂ÊÄÅÊï∞ * Áä∂ÊÄÅËΩ¨ÁßªÁöÑÂπ≥ÂùáÂ§çÊùÇÂ∫¶)</code>„ÄÇ</li>
<li>ÂØπ‰∫éÊüê‰∫õÁä∂ÊÄÅÁ©∫Èó¥Á®ÄÁñèÁöÑÈóÆÈ¢òÔºåÂèØËÉΩÊØî Bottom-Up DP Êõ¥È´òÊïàÔºåÂõ†‰∏∫ÂÆÉÂè™ËÆ°ÁÆóÂÆûÈôÖÈúÄË¶ÅÁöÑÁä∂ÊÄÅ„ÄÇ</li>
</ul>
</li>
<li><strong>Áº∫ÁÇπÔºö</strong>
<ul>
<li>ÈÄíÂΩíÊú¨Ë∫´ÊúâÂáΩÊï∞Ë∞ÉÁî®ÂºÄÈîÄÂíåÊ†àÁ©∫Èó¥ÂºÄÈîÄÔºåÂØπ‰∫éÈÄíÂΩíÊ∑±Â∫¶ËøáÊ∑±ÁöÑÈóÆÈ¢òÂèØËÉΩÂØºËá¥Ê†àÊ∫¢Âá∫ (Stack Overflow)„ÄÇ</li>
</ul>
</li>
<li><strong>ÂÆûÁé∞Ë¶ÅÁÇπÔºö</strong>
<ul>
<li>ÂÆö‰πâÂ§áÂøòÂΩï <code>memo</code>ÔºåÂπ∂ÂàùÂßãÂåñ‰∏∫‰∏Ä‰∏™ÁâπÊÆäÂÄºÔºà‰æãÂ¶Ç <code>-1</code>ÔºåË°®Á§∫Êú™ËÆ°ÁÆóËøáÔºâ„ÄÇ</li>
<li><code>memo</code> ÁöÑÁª¥Â∫¶ÂíåÂ§ßÂ∞èÈÄöÂ∏∏‰∏éÈÄíÂΩíÂáΩÊï∞‰∏≠‰ª£Ë°®Áä∂ÊÄÅÁöÑÂèÇÊï∞ÂØπÂ∫î„ÄÇ</li>
</ul>
</li>
<li><strong>‰æãÂ≠êÔºö</strong>
<ul>
<li>ÊñêÊ≥¢ÈÇ£Â•ëÊï∞ÂàóÔºö<code>memo[n]</code> Â≠òÂÇ® <code>fib(n)</code> ÁöÑÁªìÊûú„ÄÇ</li>
<li>ËÉåÂåÖÈóÆÈ¢òÔºö<code>memo[i][capacity]</code> Â≠òÂÇ®ËÄÉËôëÂâç <code>i</code> ‰∏™Áâ©ÂìÅÔºåÂΩìÂâçËÉåÂåÖÂÆπÈáè‰∏∫ <code>capacity</code> Êó∂ÁöÑÊúÄ‰ºòËß£„ÄÇ</li>
</ul>
</li>
</ul>
<h3 id="3-Â§öÁª¥ÈÄöÂ∏∏‰∫åÁª¥dp-Êï∞ÁªÑ-bottom-up-dp">3. Â§öÁª¥ÔºàÈÄöÂ∏∏‰∫åÁª¥ÔºâDP Êï∞ÁªÑ (Bottom-Up DP)
</h3><ul>
<li><strong>Ê†∏ÂøÉÊÄùÊÉ≥Ôºö</strong>
<ul>
<li>‰∏éËÆ∞ÂøÜÂåñÊêúÁ¥¢Áõ∏ÂèçÔºåBottom-Up DP ‰ªéÊúÄÂ∞èÁöÑÂ≠êÈóÆÈ¢òÂºÄÂßãÔºåËø≠‰ª£Âú∞ËÆ°ÁÆóÂá∫Êõ¥Â§ßËßÑÊ®°Â≠êÈóÆÈ¢òÁöÑËß£ÔºåÁõ¥Âà∞Ëß£ÂÜ≥Êï¥‰∏™ÈóÆÈ¢ò„ÄÇ</li>
<li>ÈÄöÂ∏∏‰ΩøÁî®‰∏Ä‰∏™ÊàñÂ§ö‰∏™Êï∞ÁªÑÔºàDP Ë°®ÔºâÊù•Â≠òÂÇ®Â≠êÈóÆÈ¢òÁöÑËß£„ÄÇ</li>
<li><code>dp[state]</code> Ë°®Á§∫Áä∂ÊÄÅ <code>state</code> ‰∏ãÁöÑËß£„ÄÇ</li>
<li>ÈÄöËøáÁä∂ÊÄÅËΩ¨ÁßªÊñπÁ®ã <code>dp[state] = f(dp[prev_state1], dp[prev_state2], ...)</code> ‰ªéÂ∑≤Áü•ÁöÑÂ≠êÈóÆÈ¢òËß£Êé®ÂØºÂá∫ÂΩìÂâçÈóÆÈ¢òÁöÑËß£„ÄÇ</li>
</ul>
</li>
<li><strong>‰∏éÂä®ÊÄÅËßÑÂàíÁöÑÂÖ≥Á≥ªÔºö</strong> ËøôÊòØÂä®ÊÄÅËßÑÂàíÊÄùÊÉ≥ÁöÑÂè¶‰∏ÄÁßçÂÆûÁé∞ÊñπÂºèÔºåÁß∞‰∏∫‚ÄúËá™Â∫ïÂêë‰∏ä‚Äù(Bottom-Up) ÁöÑÂä®ÊÄÅËßÑÂàí„ÄÇ</li>
<li><strong>‰ºòÁÇπÔºö</strong>
<ul>
<li>ÈÄöÂ∏∏‰ΩøÁî®Âæ™ÁéØÂÆûÁé∞ÔºåÈÅøÂÖç‰∫ÜÈÄíÂΩíÂºÄÈîÄÔºåÁ©∫Èó¥ÂíåÊó∂Èó¥‰∏äÁöÑÂ∏∏Êï∞Âõ†Â≠êÂèØËÉΩÊõ¥Â∞è„ÄÇ</li>
<li>ÂØπ‰∫éÊâÄÊúâÁä∂ÊÄÅÈÉΩÈúÄË¶ÅËÆ°ÁÆóÁöÑÈóÆÈ¢òÔºåÊÄùË∑ØÊõ¥Ê∏ÖÊô∞„ÄÇ</li>
<li>ÂèØ‰ª•Êñπ‰æøÂú∞ËøõË°åÂêéÁª≠ÁöÑÁ©∫Èó¥‰ºòÂåñ„ÄÇ</li>
</ul>
</li>
<li><strong>Áº∫ÁÇπÔºö</strong>
<ul>
<li>ÈúÄË¶ÅÊòéÁ°ÆÂÆö‰πâÁä∂ÊÄÅÁöÑËÆ°ÁÆóÈ°∫Â∫èÔºàÊãìÊâëÂ∫èÔºâÔºåÊúâÊó∂‰∏çÂ¶ÇËÆ∞ÂøÜÂåñÊêúÁ¥¢Áõ¥ËßÇ„ÄÇ</li>
<li>Â¶ÇÊûúÁä∂ÊÄÅÁ©∫Èó¥Á®ÄÁñèÔºåÂèØËÉΩ‰ºöËÆ°ÁÆó‰∏Ä‰∫õÊó†Áî®ÁöÑÁä∂ÊÄÅ„ÄÇ</li>
</ul>
</li>
<li><strong>ÂÆûÁé∞Ê≠•È™§Ôºö</strong>
<ol>
<li><strong>ÂÆö‰πâÁä∂ÊÄÅÔºö</strong> ÊòéÁ°Æ <code>dp</code> Êï∞ÁªÑÁöÑÂê´‰πâÔºåÂç≥ <code>dp[i]</code> Êàñ <code>dp[i][j]</code> Á≠â‰ª£Ë°®‰ªÄ‰πà„ÄÇ</li>
<li><strong>Á°ÆÂÆöÁä∂ÊÄÅËΩ¨ÁßªÊñπÁ®ãÔºö</strong> ÊâæÂà∞ <code>dp[state]</code> Â¶Ç‰ΩïÁî±‰πãÂâçÁöÑÁä∂ÊÄÅ <code>dp[prev_state]</code> Êé®ÂØºÂá∫Êù•„ÄÇ</li>
<li><strong>ÂàùÂßãÂåñÔºö</strong> Á°ÆÂÆö DP Êï∞ÁªÑÁöÑÂàùÂßãÂÄºÔºàÂü∫Êú¨ÊÉÖÂÜµÔºâ„ÄÇ</li>
<li><strong>Á°ÆÂÆöÈÅçÂéÜÈ°∫Â∫èÔºö</strong> ‰øùËØÅÂú®ËÆ°ÁÆó <code>dp[state]</code> Êó∂ÔºåÂÖ∂‰æùËµñÁöÑ <code>dp[prev_state]</code> ÈÉΩÂ∑≤ÁªèË¢´ËÆ°ÁÆóËøá„ÄÇ</li>
</ol>
</li>
<li><strong>‰æãÂ≠êÔºö</strong>
<ul>
<li>ÊñêÊ≥¢ÈÇ£Â•ëÊï∞ÂàóÔºö<code>dp[i] = dp[i-1] + dp[i-2]</code>„ÄÇ</li>
<li>0/1 ËÉåÂåÖÈóÆÈ¢òÔºö<code>dp[i][j]</code> Ë°®Á§∫ËÄÉËôëÂâç <code>i</code> ‰∏™Áâ©ÂìÅÔºåËÉåÂåÖÂÆπÈáè‰∏∫ <code>j</code> Êó∂ÁöÑÊúÄÂ§ß‰ª∑ÂÄº„ÄÇ
<code>dp[i][j] = max(dp[i-1][j], dp[i-1][j-weight[i]] + value[i])</code></li>
</ul>
</li>
</ul>
<h3 id="4-dp-Êï∞ÁªÑÈôçÁª¥-Á©∫Èó¥‰ºòÂåñ">4. DP Êï∞ÁªÑÈôçÁª¥ (Á©∫Èó¥‰ºòÂåñ)
</h3><ul>
<li><strong>Ê†∏ÂøÉÊÄùÊÉ≥Ôºö</strong>
<ul>
<li>ËßÇÂØüÁä∂ÊÄÅËΩ¨ÁßªÊñπÁ®ãÔºåÂ¶ÇÊûúËÆ°ÁÆóÂΩìÂâçÁä∂ÊÄÅ <code>dp[i][...]</code> Âè™ÈúÄË¶Å <code>dp[i-1][...]</code> (ÊàñÂ∞ëÊï∞Âá†‰∏™ÂâçÂ∫èÁä∂ÊÄÅ) ÁöÑ‰ø°ÊÅØÔºåÈÇ£‰πà DP Êï∞ÁªÑÁöÑÁª¥Â∫¶Â∞±ÂèØ‰ª•Ë¢´‰ºòÂåñ„ÄÇ</li>
<li>ËøôÁßç‰ºòÂåñÈÄöÂ∏∏Ë¢´Áß∞‰∏∫‚ÄúÊªöÂä®Êï∞ÁªÑ‚ÄùÊàñÁõ¥Êé•Âú®ÂéüÊúâÁª¥Â∫¶‰∏äËøõË°åÂéüÂú∞Êõ¥Êñ∞„ÄÇ</li>
</ul>
</li>
<li><strong>ÈÄÇÁî®Âú∫ÊôØÔºö</strong>
<ul>
<li>ÂΩìÂâçÁä∂ÊÄÅÁöÑËÆ°ÁÆóÂè™‰æùËµñ‰∫éÂâç‰∏Ä‰∏™ÔºàÊàñÂõ∫ÂÆöÂá†‰∏™ÔºâÁä∂ÊÄÅ„ÄÇ</li>
<li>ÂΩì DP Êï∞ÁªÑÁöÑÊüê‰∏ÄÁª¥Â∫¶ÁâπÂà´Â§ßÔºåÂØºËá¥ÂÜÖÂ≠ò‰∏çË∂≥Êó∂„ÄÇ</li>
</ul>
</li>
<li><strong>Â¶Ç‰ΩïÂÆûÁé∞Ôºö</strong>
<ul>
<li><strong>‰∫åÁª¥Èôç‰∏ÄÁª¥Ôºö</strong> Â¶ÇÊûú <code>dp[i][j]</code> Âè™‰æùËµñ‰∫é <code>dp[i-1][...]</code>ÔºåÂèØ‰ª•Â∞Ü <code>dp[N][M]</code> ‰ºòÂåñ‰∏∫ <code>dp[M]</code>„ÄÇÊõ¥Êñ∞ <code>dp[j]</code> Êó∂ÈúÄÊ≥®ÊÑèÈÅçÂéÜ <code>j</code> ÁöÑÈ°∫Â∫è„ÄÇ</li>
<li><strong>‰ΩøÁî®Â∞ëÈáèÂèòÈáèÔºö</strong> Â¶ÇÊñêÊ≥¢ÈÇ£Â•ëÊï∞Âàó <code>dp[i] = dp[i-1] + dp[i-2]</code>ÔºåÂè™ÈúÄ‰∏§‰∏™ÂèòÈáè„ÄÇ</li>
</ul>
</li>
<li><strong>‰ºòÁÇπÔºö</strong>
<ul>
<li>ÊòæËëóÈôç‰ΩéÁ©∫Èó¥Â§çÊùÇÂ∫¶Ôºå‰æãÂ¶Ç‰ªé <code>O(N*M)</code> ÈôçÂà∞ <code>O(M)</code> Êàñ <code>O(N)</code>„ÄÇ</li>
</ul>
</li>
<li><strong>Áº∫ÁÇπÔºö</strong>
<ul>
<li>ÂèØËÉΩ‰∏¢Â§±ÈÉ®ÂàÜÁä∂ÊÄÅ‰ø°ÊÅØÔºåÂΩ±ÂìçË∑ØÂæÑÂõûÊ∫Ø„ÄÇ</li>
<li>‰ª£Á†ÅÁõ¥ËßÇÊÄßÂèØËÉΩ‰∏ãÈôç„ÄÇ</li>
</ul>
</li>
<li><strong>‰æãÂ≠êÔºö</strong>
<ul>
<li>0/1 ËÉåÂåÖÈóÆÈ¢òÁ©∫Èó¥‰ºòÂåñÔºö<code>dp[j] = max(dp[j], dp[j-weight[i]] + value[i])</code>Ôºå<code>j</code> ÈúÄ‰ªéÂ§ßÂà∞Â∞èÈÅçÂéÜ„ÄÇ</li>
</ul>
</li>
</ul>
<h3 id="5-Áä∂ÊÄÅËΩ¨ÁßªÁü©Èòµ--Áü©ÈòµÂø´ÈÄüÂπÇ">5. Áä∂ÊÄÅËΩ¨ÁßªÁü©Èòµ + Áü©ÈòµÂø´ÈÄüÂπÇ
</h3><ul>
<li>
<p><strong>Ê†∏ÂøÉÊÄùÊÉ≥Ôºö</strong></p>
<ul>
<li>ÂΩì DP ÁöÑÁä∂ÊÄÅËΩ¨ÁßªÊòØÁ∫øÊÄßÁöÑÔºåÂπ∂‰∏îÁä∂ÊÄÅÁöÑÁª¥Â∫¶ËæÉÂ∞è‰∏îÂõ∫ÂÆöÊó∂ÔºåÂèØ‰ª•Â∞ÜÁä∂ÊÄÅËΩ¨ÁßªË°®Á§∫‰∏∫Ôºö<code>State(k+1) = TransitionMatrix * State(k)</code>„ÄÇ</li>
<li>Âàô <code>State(N) = (TransitionMatrix ^ N) * State(0)</code>„ÄÇ</li>
<li><code>TransitionMatrix ^ N</code> ‰ΩøÁî®Áü©ÈòµÂø´ÈÄüÂπÇÂú® <code>O(D^3 * logN)</code> Êó∂Èó¥ÂÜÖËÆ°ÁÆóÔºà<code>D</code> ÊòØÁä∂ÊÄÅÂêëÈáèÁª¥Â∫¶Ôºâ„ÄÇ</li>
</ul>
</li>
<li>
<p><strong>ÈÄÇÁî®Âú∫ÊôØÔºö</strong></p>
<ul>
<li>Á∫øÊÄßÈÄíÊé®ÂÖ≥Á≥ªÔºåÂ¶ÇÊñêÊ≥¢ÈÇ£Â•ëÊï∞ÂàóÂèäÂÖ∂ÂèòÁßç„ÄÇ</li>
<li>ÈóÆÈ¢òÈúÄËÆ°ÁÆóÁ¨¨ <code>N</code> ‰∏™Áä∂ÊÄÅÔºå‰∏î <code>N</code> ÈùûÂ∏∏Â§ß (Â¶Ç <code>10^9</code>, <code>10^{18}</code>), ËÄåÁä∂ÊÄÅÁª¥Â∫¶‰∏çÂ§ß„ÄÇ</li>
<li>Ë∑ØÂæÑËÆ°Êï∞ÈóÆÈ¢òÔºåÊ≠•Êï∞ <code>N</code> Â∑®Â§ßÔºå‰ΩÜÂõæËäÇÁÇπÊï∞ÔºàÁä∂ÊÄÅÊï∞ÔºâËæÉÂ∞è„ÄÇ</li>
</ul>
</li>
<li>
<p><strong>Â¶Ç‰ΩïÊûÑÂª∫ËΩ¨ÁßªÁü©ÈòµÔºö</strong></p>
<ol>
<li>
<p><strong>ÂÆö‰πâÁä∂ÊÄÅÂêëÈáèÔºö</strong> Â¶Ç <code>[fib(k), fib(k-1)]^T</code>„ÄÇ</p>
</li>
<li>
<p><strong>ÊûÑÈÄ†ËΩ¨ÁßªÁü©Èòµ MÔºö</strong> ‰ΩøÂæó <code>M * State(k-1) = State(k)</code>„ÄÇ
‰æãÂ¶ÇÔºåÊñêÊ≥¢ÈÇ£Â•ëÊï∞ÂàóÁöÑËΩ¨ÁßªÁü©Èòµ <code>M</code>:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[ fib(k)   ] = [ 1  1 ] * [ fib(k-1) ]
</span></span><span class="line"><span class="cl">[ fib(k-1) ]   [ 1  0 ]   [ fib(k-2) ]
</span></span><span class="line"><span class="cl">M = [[1, 1], [1, 0]]
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ol>
</li>
<li>
<p><strong>Áü©ÈòµÂø´ÈÄüÂπÇÔºö</strong></p>
<ul>
<li>Á±ª‰ºº‰∫éÊï¥Êï∞Âø´ÈÄüÂπÇÔºåÈÄöËøáÂàÜÊ≤ªËÆ°ÁÆó <code>M^N</code>„ÄÇ</li>
</ul>
</li>
<li>
<p><strong>‰ºòÁÇπÔºö</strong></p>
<ul>
<li>ÂΩì <code>N</code> Â∑®Â§ßÊó∂ÔºåÂ§çÊùÇÂ∫¶‰ªé <code>O(N*D^k)</code> ÈôçËá≥ <code>O(D^3 * logN)</code>„ÄÇ</li>
</ul>
</li>
<li>
<p><strong>Áº∫ÁÇπÔºö</strong></p>
<ul>
<li>Âè™ÈÄÇÁî®‰∫éÁâπÂÆöÁ±ªÂûãÁöÑÁ∫øÊÄßÈÄíÊé® DP„ÄÇ</li>
<li>Áü©Èòµ‰πòÊ≥ïÂ∏∏Êï∞Â§ßÔºå<code>N</code> ‰∏çÂ§üÂ§ßÊàñ <code>D</code> ÂæàÂ§ßÊó∂ÂèØËÉΩ‰∏ç‰ºò„ÄÇ</li>
</ul>
</li>
<li>
<p><strong>‰æãÂ≠êÔºö</strong></p>
<ul>
<li>ËÆ°ÁÆóÊñêÊ≥¢ÈÇ£Â•ëÊï∞ÂàóÁ¨¨ <code>N</code> È°πÊ®° <code>P</code> ÁöÑÂÄº„ÄÇ</li>
<li>ÊúâÂêëÂõæ‰∏≠‰ªéËäÇÁÇπ A Âà∞ËäÇÁÇπ B ÊÅ∞Â•ΩËµ∞ <code>K</code> Ê≠•ÁöÑË∑ØÂæÑÊï∞Èáè„ÄÇ</li>
</ul>
</li>
</ul>
<h2 id="dpÂèòÁßç">DPÂèòÁßç
</h2><h3 id="Áä∂ÊÄÅÈõÜdp">Áä∂ÊÄÅÈõÜDP
</h3><p>È¢òÁõÆÊù•Ê∫ê‰∫éÔºöÊ∂ÇËâ≤ÈóÆÈ¢ò„ÄÇ</p>
<p>Áä∂ÊÄÅdpÊåáÁöÑÊòØÂú®dpÊï∞ÁªÑ‰∏≠Â≠òÂÇ®ÁöÑÂπ∂‰∏çÊòØÂçï‰∏™ÁöÑÁªìÊûúÊï∞Â≠óÔºåËÄåÊòØÂâç‰∏Ä‰∏™dpÁöÑÊâÄÊúâÁä∂ÊÄÅ„ÄÇ</p>
<p>‰∏ÄËà¨Êù•ËØ¥dpÊñπÊ≥ï‰∏≠Ê±ÇËß£ÂΩìÂâçdpÁöÑÊñπÊ≥ïÊòØ‰æùËµñ‰∫éÂΩìÂâçÁöÑÁéØÂ¢ÉÂíåÂéÜÂè≤ÁöÑdpÊï∞ÁªÑÂÄºÔºåËÄåËøôÁßçÊñπÊ≥ï‰ªñÈúÄË¶ÅÁöÑÊù°‰ª∂ÊòØÂΩìÂâçÁöÑdpÂè™ÊòØ‰æùËµñ‰∫éÂéÜÂè≤ÁöÑdpÊï∞ÂÄºÔºå‰ΩÜÊòØÂØπ‰∫éÈÇ£‰∫õÂú®Ê±ÇËß£ÂΩìÂâçÁöÑdpÊó∂ÂÄôÔºåÈúÄË¶Å‰æùËµñ‰∫éÂéÜÂè≤dpÁöÑÂÖ∑‰ΩìÁä∂ÊÄÅÔºåÂØπ‰∫éÊØè‰∏ÄÁßç‰∏çÂêåÁä∂ÊÄÅÁöÑÂéÜÂè≤dpÈÉΩ‰ºöÊúâ‰∏çÂêåÁöÑÔºà‚úñÔ∏èÊàñ‚ûïÔºâÁöÑÊñπÂºè„ÄÇ</p>
<p>Áä∂ÊÄÅdp‰∏≠Â≠òÂÇ®ÁöÑÊòØÂΩìÂâçdpÁöÑÊâÄÊúâÁä∂ÊÄÅÔºåËÄåËøôÁßçÁä∂ÊÄÅÂèØËÉΩÂõ†‰∏∫Áä∂ÊÄÅÊï∞ÈáèËøáÂ§öËÄåÈúÄË¶ÅÂ∞Ü‰∏ÄÁßçÁä∂ÊÄÅÂéãÁº©Âà∞‰∏Ä‰∏™int„ÄÇ</p>
<p>Âú®Ê±ÇËß£ÂΩìÂâçdpÁä∂ÊÄÅÁöÑÊó∂ÂÄôÔºåÂØπ‰∫éÂ§öÁª¥dpÔºåÂèØËÉΩ‰ºö‰∫ßÁîüÁä∂ÊÄÅ‰∏ç‰∏ÄËá¥ÁöÑÊÉÖÂÜµÔºà‰æãÂ¶ÇÂØπ‰∫é‰∫åÁª¥dpÔºådp[i] [j]ÈúÄË¶Å‰æùËµñ‰∫é‰∏ä‰∏Ä‰∏™i-1Âíåj-1ÁöÑÁä∂ÊÄÅÔºåÂè™‰∏çËøáËøô‰∏§Áßçi-1ÁöÑÁä∂ÊÄÅÂíåj-1ÁöÑÁä∂ÊÄÅ‰πüÊòØÁõ∏‰∫íÂÖ≥ËÅî‰æùËµñÁöÑÔºåÊâÄ‰ª•ÂØπ‰∫éËøôÁßçÊÉÖÂÜµÈúÄË¶ÅËøõË°ådpÈôçÁª¥Ôºå‰πüÂ∞±ÊòØËØ¥ÂØπ‰∫édp„Äêi„ÄëË°®Á§∫Ë°åiÂè™‰æùËµñ‰∫éi-1Ë°å„ÄÇ</p>
<p>Áä∂ÊÄÅdp‰∏ÄËà¨ÊòØÂè™‰æùËµñ‰∫é‰∏ä‰∏Ä‰∏™Áä∂ÊÄÅÔºåËÄå‰∏ç‰æùËµñ‰∫éÂéÜÂè≤Áä∂ÊÄÅ„ÄÇÂØπ‰∫éÈÇ£‰∫õÁä∂ÊÄÅ‰æùËµñËΩ¨Êç¢Êó∂ÔºåÊòØËøõË°åÁ∫øÊÄßÊ±ÇËß£ÁöÑÔºåÂèØ‰ª•‰ΩøÁî®Áü©ÈòµÂø´ÈÄüÂπÇÁöÑÊñπÊ≥ïÊ±ÇËß£„ÄÇ</p>
<h3 id="Áä∂ÊÄÅÊú∫ÊåØËç°dp">Áä∂ÊÄÅÊú∫ÔºàÊåØËç°ÔºâDP
</h3><blockquote>
<p>[!NOTE]</p>
<p>Â§öÁßçÁä∂ÊÄÅÂíåÊÉÖÂÜµ</p></blockquote>
<p>Áä∂ÊÄÅÊú∫Âä®ÊÄÅËßÑÂàíÁöÑÊ†∏ÂøÉÂú®‰∫éÂ∞ÜÂ§çÊùÇÈóÆÈ¢òÂàÜËß£‰∏∫‰∏ÄÁ≥ªÂàóÂü∫‰∫é<strong>ÊúâÈôê‰∏îÊòéÁ°ÆÂÆö‰πâÁöÑÁä∂ÊÄÅ</strong>ÁöÑÂ≠êÈóÆÈ¢ò„ÄÇÂÖ∂Ëß£È¢òÊÄùË∑ØÂèØ‰ª•Ê¶ÇÊã¨‰∏∫ÔºöÈ¶ñÂÖàÔºå‰Ω†ÈúÄË¶ÅÂú®ÈóÆÈ¢ò‰∏≠ÊäΩÂèñÂá∫Ëã•Âπ≤‰∏™<strong>ÂÖ≥ÈîÆÁöÑ„ÄÅÁõ∏‰∫íÊéíÊñ•ÁöÑ‚ÄúÊ®°Âºè‚ÄùÊàñ‚ÄúÈò∂ÊÆµ‚Äù</strong>ÔºåÂπ∂Â∞ÜÂÆÉ‰ª¨ÂÆö‰πâ‰∏∫‰Ω†ÁöÑ‚ÄúÁä∂ÊÄÅ‚ÄùÔºåËøô‰∫õÁä∂ÊÄÅÂøÖÈ°ªËÉΩÂ§üÂÆåÊï¥ÊèèËø∞Âú®Â§ÑÁêÜÂΩìÂâçËæìÂÖ•Êó∂ÊâÄÂ§ÑÁöÑÊÉÖÂ¢ÉÊàñÂ∑≤ÁßØÁ¥ØÁöÑ‰ø°ÊÅØ„ÄÇÊé•ÁùÄÔºåÈíàÂØπÂ∫èÂàó‰∏≠ÁöÑÊØè‰∏Ä‰∏™ÂÖÉÁ¥†Ôºå‰Ω†ÈúÄË¶ÅËØÜÂà´Âá∫ÊâÄÊúâ<strong>ÂêàÊ≥ïÁöÑ‚ÄúÂä®‰Ωú‚ÄùÊàñ‚ÄúÈÄâÊã©‚Äù</strong>ÔºåËøô‰∫õÈÄâÊã©Â∞ÜÂÜ≥ÂÆöÁ≥ªÁªü‰ªéÂΩìÂâçÁä∂ÊÄÅÂ¶Ç‰Ωï<strong>ËΩ¨Áßª</strong>Âà∞‰∏ã‰∏Ä‰∏™Áä∂ÊÄÅÔºàÊàñ‰øùÊåÅÂΩìÂâçÁä∂ÊÄÅÔºâ„ÄÇÁÑ∂ÂêéÔºåÈÄöËøá<strong>ÊûÑÂª∫Áä∂ÊÄÅËΩ¨ÁßªÊñπÁ®ã</strong>ÔºåÊòéÁ°ÆÊØè‰∏™Áä∂ÊÄÅÁöÑÂÄºÂ¶Ç‰Ωï‰ªéÂâç‰∏Ä‰∏™ÊàñÂ§ö‰∏™Áä∂ÊÄÅ‰ª•ÂèäÂΩìÂâçÂÖÉÁ¥†ÁöÑÂÄºÊé®ÂØºËÄåÊù•ÔºåÈÄöÂ∏∏ËøôÊ∂âÂèäÂà∞Âú®Â§öÁßçËΩ¨ÁßªË∑ØÂæÑ‰∏≠ÈÄâÂèñ<strong>ÊúÄ‰ºòÂÄº</strong>„ÄÇÂú®ÈÄíÊé®ËÆ°ÁÆó‰πãÂâçÔºåÂä°ÂøÖ<strong>ËÆæÂÆöÂ•ΩÂàùÂßãÁä∂ÊÄÅ</strong>ÁöÑËæπÁïåÊù°‰ª∂Ôºå‰∏∫Êï¥‰∏™DPËøáÁ®ãÊèê‰æõ‰∏Ä‰∏™Ê≠£Á°ÆÁöÑËµ∑ÁÇπ„ÄÇÊúÄÂêéÔºåÊ†πÊçÆÈóÆÈ¢òÁöÑÂÖ∑‰ΩìÁõÆÊ†áÔºå‰ªéÊâÄÊúâËÆ°ÁÆóÂá∫ÁöÑÊúÄÁªàÁä∂ÊÄÅ‰∏≠ÊåëÈÄâÂá∫Á¨¶ÂêàË¶ÅÊ±ÇÁöÑÈÇ£‰∏™‰Ωú‰∏∫ÊúÄÁªàÁ≠îÊ°à„ÄÇËøôÁßçÊñπÊ≥ïÁâπÂà´ÈÄÇÁî®‰∫éÈÇ£‰∫õÂ∫èÂàóÂ§ÑÁêÜÈóÆÈ¢òÔºåÂç≥ÂΩì‰Ω†ÂØπÂ∫èÂàó‰∏≠ÁöÑÊØè‰∏™ÂÖÉÁ¥†ÂÅöÂá∫ÂÜ≥Á≠ñÊó∂ÔºåËØ•ÂÜ≥Á≠ñ‰∏ç‰ªÖÂèñÂÜ≥‰∫éÂÖÉÁ¥†Êú¨Ë∫´ÔºåËøò‰ºöÂèóÂà∞Ê≠§ÂâçÁ¥ØÁßØÁöÑÊüêÁßç‚ÄúÊÉÖÂÜµ‚ÄùÊàñ‚ÄúÂ±ûÊÄß‚ÄùÁöÑÂΩ±ÂìçÔºåÂπ∂‰∏îËøô‰∫õ‚ÄúÊÉÖÂÜµ‚ÄùÊàñ‚ÄúÂ±ûÊÄß‚ÄùÊòØÊúâÈôê‰∏îÂèØË¢´Ê∏ÖÊô∞ÂàÜÁ±ªÁöÑÂú∫ÊôØÔºåÊó®Âú®Ê±ÇÂèñÊüêÁßçÊúÄ‰ºòÂÄºÔºàÂ¶ÇÊúÄÂ§ß/ÊúÄÂ∞èÂíå„ÄÅÊúÄÈïø/ÊúÄÁü≠Â∫èÂàóÁ≠âÔºâ„ÄÇ</p>
<p>ÂØπ‰∫éÁä∂ÊÄÅÊú∫DPÊúâÂèØËÉΩ‰∏ãÈù¢ÁöÑÁä∂ÊÄÅËΩ¨ÁßªÊñπÊ≥ïÔºö</p>
<ol>
<li>Â•áÂÅ∂DPÁõ∏‰∫íËΩ¨Êç¢Ôºö<a class="link" href="https://leetcode.cn/problems/find-the-maximum-sum-of-node-values/description/"  target="_blank" rel="noopener"
    >ÊúÄÂ§ßËäÇÁÇπ‰ª∑ÂÄº‰πãÂíå</a></li>
<li>‰∏äÂçá‰∏ãÈôçÂ∫èÂàóÁöÑDPÁõ∏‰∫íËΩ¨Êç¢Ôºö<a class="link" href="https://leetcode.cn/problems/wiggle-subsequence/description/"  target="_blank" rel="noopener"
    >ÊëÜÂä®Â∫èÂàó</a></li>
</ol>
<p>ÊÄªÁªìÁöÑDPÂΩ¢ÂºèÔºö<code>vector&lt;vector&lt;int&gt;&gt; dp(n,vector&lt;int&gt;(state_num,0))</code></p>
<h3 id="Â≠óÁ¨¶ÈõÜÂä®ÊÄÅËßÑÂàí-character-set-dp-ÊñπÊ≥ï‰∏éÊÄùË∑ØÊÄªÁªì">Â≠óÁ¨¶ÈõÜÂä®ÊÄÅËßÑÂàí (Character Set DP) ÊñπÊ≥ï‰∏éÊÄùË∑ØÊÄªÁªì
</h3><blockquote>
<p>[!NOTE]</p>
<p>‰∏ÄËà¨Âá∫Áé∞ÁöÑÈ¢ÑÂëäÔºöÂú®string‰∏≠Âè™‰ºöÂá∫Áé∞Â∞èÂÜôÂ≠óÊØç</p>
<p>Ê∂âÂèäÁöÑÈ¢òÁõÆÔºö<a class="link" href="https://leetcode.cn/problems/decremental-string-concatenation/description/"  target="_blank" rel="noopener"
    >Â≠óÁ¨¶‰∏≤ËøûÊé•Âà†ÂáèÂ≠óÊØç</a></p>
<p>ÁâπÂæÅÔºödp„ÄêÂ≠óÁ¨¶ÈõÜ„Äë„ÄêÂ∫èÂàó„Äë</p></blockquote>
<p>Â≠óÁ¨¶ÈõÜDPÁöÑÊ†∏ÂøÉÂú®‰∫éÔºåÂΩìÂ§ÑÁêÜÂ∫èÂàóÈóÆÈ¢òÊó∂ÔºåËã•ÊØè‰∏ÄÊ≠•ÂÜ≥Á≠ñÁöÑ‰ºòÂåñÁõÆÊ†á‰ªÖ‰æùËµñ‰∫é<strong>ÂΩìÂâçÂΩ¢ÊàêÁöÑ‰∏≠Èó¥ÁªìÊûúÁöÑÊüê‰∫õÂÖ≥ÈîÆÂ±ûÊÄßÔºà‰æãÂ¶ÇÂ≠óÁ¨¶‰∏≤ÁöÑÈ¶ñÂ∞æÂ≠óÁ¨¶ÔºâÔºå‰∏îËøô‰∫õÂ±ûÊÄßÁöÑÊï∞ÈáèÊúâÈôê‰∏îÂèØÊûö‰∏æ</strong>ÔºåÊàë‰ª¨‰æøÂèØÂ∞ÜÂÖ∂‰Ωú‰∏∫DPÁä∂ÊÄÅÁöÑÁª¥Â∫¶Ôºå‰ªéËÄåÈ´òÊïàÂú∞Ëß£ÂÜ≥ÈóÆÈ¢ò„ÄÇ</p>
<hr>
<h4 id="1-Ê†∏ÂøÉÊÄùÊÉ≥">1. Ê†∏ÂøÉÊÄùÊÉ≥
</h4><p>ËøôÁßçÊñπÊ≥ïÂà©Áî®‰∫ÜËøôÊ†∑‰∏Ä‰∏™ËßÇÂØüÔºöÂú®Êüê‰∫õÂ∫èÂàóËøûÊé•ÊàñÊûÑÂª∫ÈóÆÈ¢ò‰∏≠ÔºåËôΩÁÑ∂‰∏≠Èó¥ÁªìÊûúÂèØËÉΩÂæàÈïøÔºå‰ΩÜ<strong>ÂÜ≥ÂÆöÊú™Êù•ËøûÊé•ÊñπÂºèÂíåÊàêÊú¨ÁöÑÂÖ≥ÈîÆ‰ø°ÊÅØ‰ªÖ‰ªÖÊòØÂÖ∂Â§¥ÈÉ®ÂíåÂ∞æÈÉ®ÁöÑÂ≠óÁ¨¶</strong>ÔºàÊàñÂÖ∂ÂÆÉÂ∞ëÈáè„ÄÅÊúâÈôêÁöÑÂ±ûÊÄßÔºâ„ÄÇÈÄöËøáÂ∞ÜËøô‰∫õÂÖ≥ÈîÆÂ≠óÁ¨¶ÁºñÁ†ÅÂà∞DPÁä∂ÊÄÅ‰∏≠ÔºåÊàë‰ª¨ÈÅøÂÖç‰∫ÜÂ≠òÂÇ®Âíå‰º†ÈÄíÊï¥‰∏™Â≠óÁ¨¶‰∏≤ÔºåÊûÅÂ§ßÂú∞Èôç‰Ωé‰∫ÜÁä∂ÊÄÅÁ©∫Èó¥Â§çÊùÇÂ∫¶„ÄÇ</p>
<hr>
<h4 id="2-ÈÄöÁî®ÊñπÊ≥ïÊ≠•È™§">2. ÈÄöÁî®ÊñπÊ≥ïÊ≠•È™§
</h4><ol>
<li>
<p><strong>ÂÆö‰πâDPÁä∂ÊÄÅÔºö</strong></p>
<ul>
<li>Á°ÆÂÆöDPÊï∞ÁªÑÁöÑÁª¥Â∫¶ÔºåÂÖ∂‰∏≠‰∏ÄÁª¥ÈÄöÂ∏∏Ë°®Á§∫<strong>ÂΩìÂâçÂ§ÑÁêÜÂà∞ÁöÑÂ∫èÂàóÂÖÉÁ¥†Á¥¢Âºï</strong>Ôºà‰æãÂ¶Ç <code>dp[i]</code> Ë°®Á§∫Â§ÑÁêÜÂà∞ <code>words[i]</code>Ôºâ„ÄÇ</li>
<li>Â∞ÜÂΩ±ÂìçÂêéÁª≠ÂÜ≥Á≠ñÁöÑ<strong>ÂÖ≥ÈîÆÂ±ûÊÄß‰Ωú‰∏∫DPÁä∂ÊÄÅÁöÑÈ¢ùÂ§ñÁª¥Â∫¶</strong>„ÄÇÂú®Êú¨È¢ò‰∏≠ÔºåÂ∞±ÊòØÂΩìÂâçÂ≠óÁ¨¶‰∏≤ÁöÑ<strong>È¶ñÂ≠óÁ¨¶</strong>Âíå<strong>Â∞æÂ≠óÁ¨¶</strong>„ÄÇÁî±‰∫éÂ≠óÁ¨¶ÈõÜÊúâÈôêÔºàÂ¶Ç26‰∏™Â∞èÂÜôÂ≠óÊØçÔºâÔºåËøô‰∏§‰∏™Â≠óÁ¨¶ÂèØ‰ª•Êò†Â∞Ñ‰∏∫0-25ÁöÑÊï¥Êï∞Á¥¢ÂºïÔºå‰ªéËÄåÂΩ¢Êàê <code>dp[i][first_char_idx][last_char_idx]</code> ËøôÊ†∑ÁöÑÁä∂ÊÄÅÂÆö‰πâ„ÄÇÊ≠§Áä∂ÊÄÅË°®Á§∫Â§ÑÁêÜÂÆåÂâç <code>i</code> ‰∏™ÂÖÉÁ¥†Ôºå‰∏îÊúÄÁªàÂΩ¢ÊàêÁöÑÂ≠óÁ¨¶‰∏≤‰ª• <code>first_char_idx</code> ÂºÄÂ§¥„ÄÅ‰ª• <code>last_char_idx</code> ÁªìÂ∞æÊó∂ÁöÑÊúÄ‰ºòÂÄºÔºà‰æãÂ¶ÇÊúÄÂ∞èÊÄªÈïøÂ∫¶Ôºâ„ÄÇ</li>
</ul>
</li>
<li>
<p><strong>ÂàùÂßãÂåñDPÁä∂ÊÄÅÔºö</strong></p>
<ul>
<li>ÂØπ‰∫éÊ±ÇÊúÄÂ∞èÂÄºÁöÑDPÈóÆÈ¢òÔºåÈÄöÂ∏∏Â∞Ü‰∏çÂèØËææÁöÑÁä∂ÊÄÅÂàùÂßãÂåñ‰∏∫Êó†Á©∑Â§ß„ÄÇ</li>
<li>ËÆæÂÆöÂàùÂßãÂÖÉÁ¥†Ôºà‰æãÂ¶Ç <code>words[0]</code>ÔºâÂØπÂ∫îÁöÑÁä∂ÊÄÅÂÄº„ÄÇÂÆÉÁöÑÈ¶ñÂ∞æÂ≠óÁ¨¶ÊòØÁ°ÆÂÆöÁöÑÔºåÊ≠§Êó∂ÁöÑÊÄªÈïøÂ∫¶Â∞±ÊòØÂÖ∂Ëá™Ë∫´ÈïøÂ∫¶„ÄÇ</li>
</ul>
</li>
<li>
<p><strong>Êé®ÂØºÁä∂ÊÄÅËΩ¨ÁßªÊñπÁ®ãÔºö</strong></p>
<ul>
<li>ÈÅçÂéÜËæìÂÖ•Â∫èÂàó‰∏≠ÁöÑÊØè‰∏™ÂÖÉÁ¥†„ÄÇÂØπ‰∫éÂΩìÂâçÂÖÉÁ¥† <code>current_word</code>Ôºå‰Ω†ÈúÄË¶ÅËÄÉËôëÂÆÉ‰∏é‰πãÂâçÊâÄÊúâÂèØËÉΩÁöÑ‰∏≠Èó¥ÁªìÊûúÂ¶Ç‰ΩïËøûÊé•„ÄÇ</li>
<li><strong>ÂàÜÊûêÊâÄÊúâÂèØËÉΩÁöÑËøûÊé•ÊñπÂºèÂèäÂÖ∂ÂØπÈïøÂ∫¶ÁöÑÂΩ±Âìç</strong>„ÄÇ‰æãÂ¶ÇÔºåÂ∞Ü <code>current_word</code> ËøûÊé•Âà∞‰πãÂâçÂ≠óÁ¨¶‰∏≤ÁöÑ<strong>ÂâçÈù¢</strong>Êàñ<strong>ÂêéÈù¢</strong>„ÄÇ</li>
<li>Ê†πÊçÆËøûÊé•ËßÑÂàôÔºàÂ¶ÇÊú¨È¢ò‰∏≠È¶ñÂ∞æÂ≠óÁ¨¶Áõ∏ÂêåÊó∂ÈïøÂ∫¶Âáè1ÔºâÔºåËÆ°ÁÆóÊñ∞ÁöÑÊÄªÈïøÂ∫¶ÔºåÂπ∂Êõ¥Êñ∞Áõ∏Â∫îÁöÑÊñ∞Áä∂ÊÄÅ <code>dp[i][new_first_char_idx][new_last_char_idx]</code> ÁöÑÊúÄ‰ºòÂÄº„ÄÇËøô‰∏™ËøáÁ®ã‰ºöÊ∂âÂèä‰ªé <code>dp[i-1][prev_first][prev_last]</code> ËΩ¨ÁßªÂà∞Êñ∞ÁöÑ <code>dp[i][new_first][new_last]</code>„ÄÇ</li>
</ul>
</li>
<li>
<p><strong>Á°ÆÂÆöÊúÄÁªàÁªìÊûúÔºö</strong></p>
<ul>
<li>Âú®Â§ÑÁêÜÂÆåÊâÄÊúâÂ∫èÂàóÂÖÉÁ¥†ÂêéÔºåÊúÄÁªàÁ≠îÊ°àÂç≥‰∏∫ÊâÄÊúâ <code>dp[n-1][first_char_idx][last_char_idx]</code> ÔºàÈÅçÂéÜÊâÄÊúâÂèØËÉΩÁöÑÈ¶ñÂ∞æÂ≠óÁ¨¶ÁªÑÂêàÔºâ‰∏≠ÁöÑÊúÄ‰ºòÂÄºÔºà‰æãÂ¶ÇÊúÄÂ∞èÂÄºÔºâ„ÄÇ</li>
</ul>
</li>
</ol>
<hr>
<h4 id="3-ÈÄÇÁî®Âú∫ÊôØ">3. ÈÄÇÁî®Âú∫ÊôØ
</h4><p>Â≠óÁ¨¶ÈõÜDPÁâπÂà´ÈÄÇÁî®‰∫é‰ª•‰∏ãÈóÆÈ¢òÁ±ªÂûãÔºö</p>
<ul>
<li><strong>Â∫èÂàóÂ§ÑÁêÜÈóÆÈ¢òÔºö</strong> ÂΩìÈóÆÈ¢òÊ∂âÂèäÂØπÂ∫èÂàóÔºàÂ¶ÇÂ≠óÁ¨¶‰∏≤Êï∞ÁªÑ„ÄÅÂ≠óÁ¨¶Â∫èÂàóÔºâËøõË°åÊìç‰ΩúÔºå‰∏îÊØèÊ¨°Êìç‰Ωú‰ºöÂΩ¢Êàê‰∏Ä‰∏™Êñ∞ÁöÑ‰∏≠Èó¥ÁªìÊûú„ÄÇ</li>
<li><strong>ÂÖ≥ÈîÆÂ±ûÊÄßÊúâÈôêÔºö</strong> Âè™Êúâ‰∏≠Èó¥ÁªìÊûúÁöÑÂ∞ëÊï∞Âá†‰∏™ÂÖ≥ÈîÆÂ±ûÊÄßÔºàÂ¶ÇÂ≠óÁ¨¶‰∏≤ÁöÑÈ¶ñÂ∞æÂ≠óÁ¨¶„ÄÅÂ≠óÁ¨¶ËÆ°Êï∞„ÄÅÂõ∫ÂÆöÈïøÂ∫¶Â≠ê‰∏≤ÁöÑÂìàÂ∏åÂÄºÁ≠âÔºâÂØπÂêéÁª≠ÂÜ≥Á≠ñËá≥ÂÖ≥ÈáçË¶ÅÔºåÂπ∂‰∏îËøô‰∫õÂ±ûÊÄßÁöÑÊï∞ÈáèÊòØ<strong>ÊúâÈôê‰∏îÂèØÊûö‰∏æ</strong>ÁöÑÂ∏∏Êï∞„ÄÇ</li>
<li><strong>ÊúÄ‰ºòÊÄßÈóÆÈ¢òÔºö</strong> ÁõÆÊ†áÊòØÊ±ÇÂèñÊüê‰∏™ÂÄºÔºàÂ¶ÇÊúÄÂ∞è/ÊúÄÂ§ßÈïøÂ∫¶„ÄÅÊàêÊú¨„ÄÅË∑ØÂæÑÁ≠âÔºâÁöÑÊúÄ‰ºòËß£„ÄÇ</li>
<li><strong>ÈáçÂè†Â≠êÈóÆÈ¢ò‰∏éÊúÄ‰ºòÂ≠êÁªìÊûÑÔºö</strong> Â§ßÈóÆÈ¢òÁöÑËß£ÂÜ≥‰æùËµñ‰∫éÂ∞èÈóÆÈ¢òÁöÑÊúÄ‰ºòËß£Ôºå‰∏îÂ≠òÂú®ÈáçÂ§çËÆ°ÁÆóÁöÑÂ≠êÈóÆÈ¢ò„ÄÇ</li>
</ul>
<p>ÈÄöËøáËøôÁßçÊñπÂºèÔºåÂ≠óÁ¨¶ÈõÜDPÊúâÊïàÂú∞Â∞ÜÁúã‰ººÂ§çÊùÇÁöÑÂ≠óÁ¨¶‰∏≤Êìç‰ΩúÈóÆÈ¢òËΩ¨Âåñ‰∏∫‰∏Ä‰∏™Áä∂ÊÄÅÁ©∫Èó¥ÂèØÊéßÁöÑÂä®ÊÄÅËßÑÂàíÈóÆÈ¢òÔºå‰ªéËÄåÂÆûÁé∞È´òÊïàÊ±ÇËß£„ÄÇ</p>
<h3 id="Ê†ëÂΩ¢Âä®ÊÄÅËßÑÂàí-tree-dp-ÊñπÊ≥ï‰∏éÊÄùË∑ØÊÄªÁªì">Ê†ëÂΩ¢Âä®ÊÄÅËßÑÂàí (Tree DP) ÊñπÊ≥ï‰∏éÊÄùË∑ØÊÄªÁªì
</h3><p>Ê†ëÂΩ¢Âä®ÊÄÅËßÑÂàíÔºàTree DPÔºâÊòØ‰∏ÄÁßçÂº∫Â§ßÁöÑDPËåÉÂºèÔºå‰∏ìÈó®Áî®‰∫éËß£ÂÜ≥<strong>Ê†ëÁªìÊûÑ‰∏äÁöÑ‰ºòÂåñÈóÆÈ¢ò</strong>„ÄÇÂÆÉÁöÑÊ†∏ÂøÉÂú®‰∫éÂ∑ßÂ¶ôÂà©Áî®Ê†ëÁöÑ<strong>ÈÄíÂΩíÁªìÊûÑÂíåÂ≠êÊ†ëÁöÑÁã¨Á´ãÊÄß</strong>ÔºåÈÄöËøáËá™Â∫ïÂêë‰∏äÊàñËá™È°∂Âêë‰∏ãÁöÑÊñπÂºèÔºåËÆ°ÁÆóÊØè‰∏™ËäÇÁÇπÂ≠êÊ†ëÁöÑDPÂÄºÔºåÂπ∂Â∞ÜÂÖ∂ÂêàÂπ∂‰ª•Ëß£ÂÜ≥Êõ¥Â§ßÂ≠êÊ†ë‰πÉËá≥Êï¥‰∏™Ê†ëÁöÑÈóÆÈ¢ò„ÄÇ</p>
<blockquote>
<p>[!NOTE]</p>
<p>ÁâπÂæÅÔºö‰ΩøÁî®dfsËÆ°ÁÆó‰ªéÊ†πÈÅçÂéÜ+dp„ÄêËäÇÁÇπ„Äë„ÄêÁä∂ÊÄÅ„Äë</p></blockquote>
<hr>
<h4 id="1-Ê†∏ÂøÉÊÄùÊÉ≥-1">1. Ê†∏ÂøÉÊÄùÊÉ≥
</h4><p>Tree DP ÁöÑÊú¨Ë¥®ÊòØ<strong>Â∞ÜÊ†ëÂàÜËß£‰∏∫Â≠êÊ†ëÔºåÂπ∂ÂÆö‰πâÁä∂ÊÄÅÊù•Ê¶ÇÊã¨ÊØè‰∏™Â≠êÊ†ëÁöÑÊúÄ‰ºò‰ø°ÊÅØ</strong>„ÄÇÂú®ËÆ°ÁÆóÁà∂ËäÇÁÇπÁöÑÁä∂ÊÄÅÊó∂ÔºåÊàë‰ª¨‰æùËµñ‰∫éÂÖ∂ÊâÄÊúâÂ≠êËäÇÁÇπÂ∑≤ËÆ°ÁÆóÂá∫ÁöÑÊúÄ‰ºòÁä∂ÊÄÅÔºåÂπ∂ÈÄöËøáÁâπÂÆöËßÑÂàôËøõË°åÂêàÂπ∂ÊàñËΩ¨Êç¢„ÄÇËøôÁßçÊñπÊ≥ïÁ°Æ‰øù‰∫ÜÂú®ËÆ°ÁÆó‰ªª‰ΩïËäÇÁÇπÊó∂ÔºåÂÖ∂ÊâÄÊúâ‰æùËµñÁöÑÂ≠êÈóÆÈ¢òÈÉΩÂ∑≤Ëß£ÂÜ≥Ôºå‰ªéËÄåÈÅµÂæ™‰∫ÜÂä®ÊÄÅËßÑÂàíÁöÑ<strong>ÊúÄ‰ºòÂ≠êÁªìÊûÑÂíåÊó†ÂêéÊïàÊÄß</strong>ÂéüÂàô„ÄÇ</p>
<hr>
<h4 id="2-ÈÄöÁî®ÊñπÊ≥ïÊ≠•È™§-1">2. ÈÄöÁî®ÊñπÊ≥ïÊ≠•È™§
</h4><ol>
<li>
<p><strong>Ê†ëÁöÑËΩ¨Âåñ‰∏éÊ†πÁöÑÈÄâÊã©ÔºàDFS ÈÅçÂéÜÔºâÔºö</strong></p>
<ul>
<li>Â∞ΩÁÆ°ËæìÂÖ•ÈÄöÂ∏∏ÊòØÊó†ÂêëÊ†ëÔºå‰ΩÜ‰∏∫‰∫ÜÊûÑÂª∫DPÁöÑËÆ°ÁÆóÈ°∫Â∫èÔºåÊàë‰ª¨ÈÄöÂ∏∏‰ºö<strong>ÈÄâÊã©‰∏Ä‰∏™‰ªªÊÑèËäÇÁÇπ‰Ωú‰∏∫Ê†π</strong>Ôºà‰æãÂ¶ÇËäÇÁÇπ 0Ôºâ„ÄÇ</li>
<li>Êé•ÁùÄËøõË°å‰∏ÄÊ¨°<strong>Ê∑±Â∫¶‰ºòÂÖàÊêúÁ¥¢ (DFS)</strong> ÈÅçÂéÜÔºåÂª∫Á´ãÊòéÁ°ÆÁöÑÁà∂Â≠êÂÖ≥Á≥ª„ÄÇËøô‰∏™DFSËøáÁ®ãÈÄöÂ∏∏ÊòØ<strong>ÂêéÂ∫èÈÅçÂéÜÔºàpost-order traversalÔºâ</strong>ÔºåÂç≥ÂÖàÈÄíÂΩíÂ§ÑÁêÜÊâÄÊúâÂ≠êËäÇÁÇπÔºåÂÜçÂ§ÑÁêÜÂΩìÂâçËäÇÁÇπ„ÄÇËøôÁßçËá™Â∫ïÂêë‰∏äÁöÑËÆ°ÁÆóÈ°∫Â∫èÊòØTree DPÊúÄÂ∏∏ËßÅÁöÑÊ®°ÂºèÔºåÁ°Æ‰øù‰∫ÜÂú®ËÆ°ÁÆóÁà∂ËäÇÁÇπÊó∂ÔºåÂÖ∂ÊâÄÊúâÂ≠êËäÇÁÇπÁöÑDPÂÄºÈÉΩÂ∑≤ÂáÜÂ§áÂ∞±Áª™„ÄÇ</li>
</ul>
</li>
<li>
<p><strong>ÂÆö‰πâDPÁä∂ÊÄÅÔºö</strong></p>
<ul>
<li>ËøôÊòØTree DPÊúÄÂÖ≥ÈîÆÁöÑ‰∏ÄÊ≠•„ÄÇ‰Ω†ÈúÄË¶Å‰∏∫Ê†ë‰∏≠ÁöÑÊØè‰∏™ËäÇÁÇπ <code>u</code> ÂÆö‰πâ‰∏Ä‰∏™ÊàñÂ§ö‰∏™DPÁä∂ÊÄÅ <code>dp[u][...]</code>„ÄÇËøô‰∫õÁä∂ÊÄÅÂøÖÈ°ªËÉΩÂ§üÔºö
<ul>
<li><strong>ÂÖÖÂàÜÊ¶ÇÊã¨‰ª• <code>u</code> ‰∏∫Ê†πÁöÑÂ≠êÊ†ëÁöÑÊúÄ‰ºò‰ø°ÊÅØ</strong>ÔºåÊàñËÄÖ‰∏é <code>u</code> Áõ∏ÂÖ≥ÁöÑÂ±ÄÈÉ®ÂÖ≥ÈîÆÂ±ûÊÄß„ÄÇ</li>
<li><strong>‰∏∫ <code>u</code> ÁöÑÁà∂ËäÇÁÇπÊàñÂÖÑÂºüËäÇÁÇπÁöÑËÆ°ÁÆóÊèê‰æõË∂≥Â§üÁöÑ‰ø°ÊÅØ</strong>„ÄÇ</li>
</ul>
</li>
<li>Áä∂ÊÄÅÁöÑÁª¥Â∫¶ÈÄöÂ∏∏‰∏éÈóÆÈ¢òÁöÑÂÜ≥Á≠ñÊàñÈúÄË¶ÅË∑üË∏™ÁöÑÂ±ûÊÄßÁõ∏ÂÖ≥„ÄÇ‰æãÂ¶ÇÔºåÂú®Êú¨È¢ò‰∏≠Ôºå<code>f[x][0]</code> Âíå <code>f[x][1]</code> Â∞±ÂàÜÂà´Ë°®Á§∫ËäÇÁÇπ <code>x</code> Ë¢´Êìç‰ΩúÂÅ∂Êï∞Ê¨°ÂíåÂ•áÊï∞Ê¨°Êó∂ÔºåÂÖ∂Â≠êÊ†ëÔºà‰∏çÂåÖÂê´ <code>x</code> Êú¨Ë∫´ÔºåÂõ†‰∏∫ÂÆÉÂ∞ÜÂú®ÊúÄÂêé‰∏éÁà∂ËäÇÁÇπÂêàÂπ∂Êó∂Â§ÑÁêÜÔºâÁöÑÊúÄÂ§ß‰ª∑ÂÄºÂíå„ÄÇ</li>
</ul>
</li>
<li>
<p><strong>Êé®ÂØºÁä∂ÊÄÅËΩ¨ÁßªÊñπÁ®ãÔºö</strong></p>
<ul>
<li>ÂØπ‰∫éÊØè‰∏™ËäÇÁÇπ <code>u</code>ÔºåÂÖ∂DPÂÄºÈÄöÂ∏∏ÈÄöËøá<strong>ËÅöÂêàÂÖ∂ÊâÄÊúâÂ≠êËäÇÁÇπ <code>v</code> ÁöÑDPÂÄº</strong>ÔºåÂπ∂ÁªìÂêà <code>u</code> Ëá™Ë∫´ÁöÑ‰ª∑ÂÄºÂíåÂΩìÂâçÂÜ≥Á≠ñÊù•ËÆ°ÁÆó„ÄÇ</li>
<li><strong>ÂÜ≥Á≠ñÁÇπ</strong>ÈÄöÂ∏∏ÂèëÁîüÂú®ËäÇÁÇπ‰∏éÂ≠êËäÇÁÇπ‰πãÈó¥ÁöÑ<strong>Ëæπ‰∏ä</strong>ÔºåÊàñËÄÖ<strong>ËäÇÁÇπËá™Ë∫´ÁöÑÊìç‰Ωú</strong>„ÄÇ</li>
<li>ËΩ¨ÁßªÊñπÁ®ãÊèèËø∞‰∫ÜÂ¶Ç‰Ωï‰ªéÂ≠êËäÇÁÇπÁöÑÁä∂ÊÄÅÊé®ÂØºÂá∫Áà∂ËäÇÁÇπÁöÑÁä∂ÊÄÅ„ÄÇËøôÂèØËÉΩÊ∂âÂèäÂØπÂ≠êËäÇÁÇπÁä∂ÊÄÅÁöÑÊ±ÇÂíå„ÄÅÂèñÊúÄÂ§ß/ÊúÄÂ∞èÂÄºÔºåÊàñËÄÖÊ†πÊçÆÁâπÂÆöÊìç‰ΩúÂØπÂ≠êËäÇÁÇπÁä∂ÊÄÅËøõË°åÂèòÊç¢„ÄÇ</li>
<li><strong>‰ª•Êú¨È¢ò‰∏∫‰æãÔºö</strong> Âú®Â§ÑÁêÜËäÇÁÇπ <code>x</code> ÁöÑÂ≠êËäÇÁÇπ <code>y</code> Êó∂Ôºå‰ºöËÄÉËôë‰∏§ÁßçÊÉÖÂÜµÔºö‰∏çÊìç‰ΩúËæπ <code>[x, y]</code> ÂíåÊìç‰ΩúËæπ <code>[x, y]</code>„ÄÇËøô‰∏§ÁßçÊÉÖÂÜµÂØºËá¥ <code>y</code> ÁöÑÊúÄÁªàÁä∂ÊÄÅÔºàË¢´Êìç‰ΩúÂ•áÊï∞Ê¨°ËøòÊòØÂÅ∂Êï∞Ê¨°Ôºâ‰ª•Âèä <code>x</code> ÁöÑÁä∂ÊÄÅÔºàË¢´Êìç‰ΩúÂ•áÊï∞Ê¨°ËøòÊòØÂÅ∂Êï∞Ê¨°ÔºâÂèëÁîüÂèòÂåñÔºåÂπ∂Ê†πÊçÆËøô‰∫õÂèòÂåñÊù•Á¥ØÂä†‰ª∑ÂÄºÔºåÊúÄÁªàÂèñÊúÄÂ§ßÂÄºÊù•Êõ¥Êñ∞ <code>f[x][0]</code> Âíå <code>f[x][1]</code>„ÄÇ</li>
</ul>
</li>
<li>
<p><strong>Á°ÆÂÆöÂàùÂßãÁä∂ÊÄÅ‰∏éÊúÄÁªàÁ≠îÊ°àÔºö</strong></p>
<ul>
<li><strong>Âè∂Â≠êËäÇÁÇπÔºö</strong> ‰Ωú‰∏∫DPÈÄíÊé®ÁöÑÁªàÁÇπÔºåÂè∂Â≠êËäÇÁÇπÁöÑDPÂÄºÈÄöÂ∏∏ÂèØ‰ª•Áõ¥Êé•Ê†πÊçÆÂÆÉ‰ª¨ÁöÑËá™Ë∫´Â±ûÊÄßÔºà‰∏çËÄÉËôëÂ≠êÊ†ëÔºâÊù•ÂàùÂßãÂåñ„ÄÇ</li>
<li><strong>ÊúÄÁªàÁ≠îÊ°àÔºö</strong> ÁªèËøáÊï¥‰∏™DFSËøáÁ®ãÔºåÊ†πËäÇÁÇπÁöÑÁâπÂÆöDPÁä∂ÊÄÅÔºà‰æãÂ¶Ç <code>dp[root][0]</code> ÊàñÊâÄÊúâÊ†πÁä∂ÊÄÅ‰∏≠ÁöÑÊúÄ‰ºòÂÄºÔºåÂèñÂÜ≥‰∫éÈóÆÈ¢òË¶ÅÊ±ÇÔºâÂç≥‰∏∫Êï¥‰∏™Ê†ëÁöÑÊúÄÁªàËß£„ÄÇ</li>
</ul>
</li>
</ol>
<hr>
<h4 id="3-ÈÄÇÁî®Âú∫ÊôØ-1">3. ÈÄÇÁî®Âú∫ÊôØ
</h4><p>Tree DP ÈÄÇÁî®‰∫é‰ª•‰∏ãÁ±ªÂûãÁöÑ‰ºòÂåñÈóÆÈ¢òÔºö</p>
<ul>
<li><strong>Ê†ë‰∏äÁöÑÊúÄÂ§ß/ÊúÄÂ∞èÂåñÈóÆÈ¢òÔºö</strong> ÁõÆÊ†áÊòØÂú®ÁªôÂÆöÊ†ëÁªìÊûÑ‰∏äÂØªÊâæÊüêÁßçÂ±ûÊÄßÁöÑÊúÄÂ§ßÊàñÊúÄÂ∞èÂÄºÔºàÂ¶ÇÊúÄÂ§ß‰ª∑ÂÄºÂíå„ÄÅÊúÄÂ∞è‰ª£‰ª∑Ë∑ØÂæÑ„ÄÅÊúÄÂ∞ëÂà†Èô§ËæπÁ≠âÔºâ„ÄÇ</li>
<li><strong>ÂÜ≥Á≠ñ‰∏éÂ≠êÊ†ëÁä∂ÊÄÅÁõ∏ÂÖ≥Ôºö</strong> ÂΩìÂØπ‰∏Ä‰∏™ËäÇÁÇπÂÅöÂá∫ÁöÑÂÜ≥Á≠ñ‰ºöÂΩ±ÂìçÂÖ∂Êï¥‰∏™Â≠êÊ†ëÁöÑÂ±ûÊÄßÔºåÂπ∂‰∏îËøôÁßçÂΩ±ÂìçÂèØ‰ª•Ë¢´Â≠êÊ†ëÁöÑDPÁä∂ÊÄÅÁ≤æÁ°ÆÊ¶ÇÊã¨Êó∂„ÄÇ</li>
<li><strong>Â±ÄÈÉ®ÂÜ≥Á≠ñÂΩ±ÂìçÂÖ®Â±ÄÊúÄ‰ºòÔºö</strong> Êï¥‰ΩìÈóÆÈ¢òÁöÑÊúÄ‰ºòËß£ÂèØ‰ª•ÈÄöËøáÂêàÂπ∂Â±ÄÈÉ®Â≠êÊ†ëÁöÑÊúÄ‰ºòËß£Êù•Ëé∑ÂæóÔºàÊª°Ë∂≥ÊúÄ‰ºòÂ≠êÁªìÊûÑÔºâ„ÄÇ</li>
<li><strong>‰ø°ÊÅØËÅöÂêàÔºö</strong> Êüê‰∏™ËäÇÁÇπÁöÑDPÂÄºÈúÄË¶ÅÁªºÂêàÂÖ∂ÊâÄÊúâÂ≠êËäÇÁÇπÁöÑDP‰ø°ÊÅØÊù•ËÆ°ÁÆó„ÄÇ</li>
<li><strong>Êó†ÂêéÊïàÊÄßÔºö</strong> ‰∏ÄÊó¶Êüê‰∏™ËäÇÁÇπÁöÑDPÂÄºË¢´ËÆ°ÁÆóÂá∫Êù•ÔºåÂÆÉÂ∞±Êàê‰∏∫‰∫Ü‰∏Ä‰∏™Âõ∫ÂÆöÁöÑ‰ø°ÊÅØÂùóÔºå‰∏ç‰ºöÂÜçË¢´ÂêéÁª≠ÁöÑÂ≠êÈóÆÈ¢òËÆ°ÁÆóÊâÄ‰øÆÊîπÔºåÂÖ∂ÂØπÂÖ∂‰ªñÈÉ®ÂàÜÁöÑÂΩ±Â∞Ñ‰πüÂÆåÂÖ®‰ΩìÁé∞Âú®ÂÖ∂DPÁä∂ÊÄÅ‰∏≠„ÄÇ</li>
</ul>
<p>ÈÄöËøáÁ≤æÁ°ÆÂÆö‰πâÁä∂ÊÄÅ„ÄÅÂ∑ßÂ¶ôËÆæËÆ°ËΩ¨ÁßªÊñπÁ®ãÂíåÂà©Áî®DFSÁöÑÈÄíÂΩíÁªìÊûÑÔºåTree DP ËÉΩÂ§üÈ´òÊïàÂú∞Ëß£ÂÜ≥ÂêÑÁßçÂ§çÊùÇÁöÑÊ†ë‰∏ä‰ºòÂåñÈóÆÈ¢ò„ÄÇ</p>
<h2 id="Âå∫Èó¥ËûçÂêà">Âå∫Èó¥ËûçÂêà
</h2><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="n">map</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">mp</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">cnt</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">add</span><span class="p">(</span><span class="kt">int</span> <span class="n">left</span><span class="p">,</span> <span class="kt">int</span> <span class="n">right</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">auto</span> <span class="n">it</span><span class="o">=</span><span class="n">mp</span><span class="p">.</span><span class="n">upper_bound</span><span class="p">(</span><span class="n">right</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span><span class="p">(</span><span class="n">it</span><span class="o">!=</span><span class="n">mp</span><span class="p">.</span><span class="n">begin</span><span class="p">()){</span>
</span></span><span class="line"><span class="cl">        <span class="n">it</span><span class="o">--</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">while</span><span class="p">(</span><span class="n">it</span><span class="o">!=</span><span class="n">mp</span><span class="p">.</span><span class="n">end</span><span class="p">()</span><span class="o">&amp;&amp;</span><span class="n">it</span><span class="o">-&gt;</span><span class="n">first</span><span class="o">&lt;=</span><span class="n">right</span><span class="o">&amp;&amp;</span><span class="n">it</span><span class="o">-&gt;</span><span class="n">second</span><span class="o">&gt;=</span><span class="n">left</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">        <span class="n">left</span><span class="o">=</span><span class="n">min</span><span class="p">(</span><span class="n">it</span><span class="o">-&gt;</span><span class="n">first</span><span class="p">,</span><span class="n">left</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="n">right</span><span class="o">=</span><span class="n">max</span><span class="p">(</span><span class="n">it</span><span class="o">-&gt;</span><span class="n">second</span><span class="p">,</span><span class="n">right</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">cnt</span><span class="o">-=</span><span class="n">it</span><span class="o">-&gt;</span><span class="n">second</span><span class="o">-</span><span class="n">it</span><span class="o">-&gt;</span><span class="n">first</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">mp</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="n">it</span><span class="o">-&gt;</span><span class="n">first</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">it</span><span class="o">=</span><span class="n">mp</span><span class="p">.</span><span class="n">upper_bound</span><span class="p">(</span><span class="n">right</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span><span class="p">(</span><span class="n">it</span><span class="o">!=</span><span class="n">mp</span><span class="p">.</span><span class="n">begin</span><span class="p">())</span><span class="n">it</span><span class="o">--</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">cnt</span><span class="o">+=</span><span class="n">right</span><span class="o">-</span><span class="n">left</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">mp</span><span class="p">[</span><span class="n">left</span><span class="p">]</span><span class="o">=</span><span class="n">right</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">count</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">cnt</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="Êü•ÂàÜÊï∞ÁªÑÊÄßË¥®">Êü•ÂàÜÊï∞ÁªÑÊÄßË¥®
</h2><blockquote>
<p>[!NOTE]</p>
<p>ÔºàÂØπ‰∫éÂ≠êÊï∞ÁªÑÊï∞ÁªÑÁöÑËøûÁª≠Âä†ÂáèÂèØ‰ª•ËΩ¨Êç¢ÊàêÂØπ‰∫é‰∏§‰∏™ÂÖÉÁ¥†ÁöÑÂä†ÂáèÔºâ</p></blockquote>
<p><img src="/huyang/p/leetcode%E7%AE%97%E6%B3%95%E6%80%9D%E8%80%83/image-20250520110627670.png"
	width="1368"
	height="668"
	srcset="/huyang/p/leetcode%E7%AE%97%E6%B3%95%E6%80%9D%E8%80%83/image-20250520110627670_hu_59fb5bfd73d49519.png 480w, /huyang/p/leetcode%E7%AE%97%E6%B3%95%E6%80%9D%E8%80%83/image-20250520110627670_hu_a6f0608d2c848ff8.png 1024w"
	loading="lazy"
	
		alt="image-20250520110627670"
	
	
		class="gallery-image" 
		data-flex-grow="204"
		data-flex-basis="491px"
	
></p>
<p><img src="/huyang/p/leetcode%E7%AE%97%E6%B3%95%E6%80%9D%E8%80%83/image-20250520110653471.png"
	width="1382"
	height="996"
	srcset="/huyang/p/leetcode%E7%AE%97%E6%B3%95%E6%80%9D%E8%80%83/image-20250520110653471_hu_50fddfed8cb9b1d5.png 480w, /huyang/p/leetcode%E7%AE%97%E6%B3%95%E6%80%9D%E8%80%83/image-20250520110653471_hu_60febc2b7a7eb1af.png 1024w"
	loading="lazy"
	
		alt="image-20250520110653471"
	
	
		class="gallery-image" 
		data-flex-grow="138"
		data-flex-basis="333px"
	
></p>
<p>ÈÄÇÁî®‰∫éÁöÑÈ¢òÁõÆÔºö3355.</p>
<h2 id="‰ªéÁéØÊüìËâ≤Âà∞ÈÄíÊé®ÊÄùÊÉ≥">‰ªéÁéØÊüìËâ≤Âà∞ÈÄíÊé®ÊÄùÊÉ≥
</h2><p>‰∏ãÈù¢ÁöÑÂÜÖÂÆπÂèñ‰πã‰∫éÂéüË¥¥Ôºöhttps://zhuanlan.zhihu.com/p/469651849?share_code=1kwOskN7LMwwq&amp;utm_psn=1908119624903534021</p>
<p>Áî®mÁßçÈ¢úËâ≤ÁªônËæπÂΩ¢ÁöÑnÊù°ËæπÊüìËâ≤ÔºåË¶ÅÊ±ÇÈÇªËæπ‰∏çÂêåËâ≤ÔºåÊ±ÇÊñπÊ≥ïÊï∞„ÄÇÔºàm,n‚â•3Ôºâ</p>
<p><img src="/huyang/p/leetcode%E7%AE%97%E6%B3%95%E6%80%9D%E8%80%83/v2-86c5c782afd6a1c32962795e8719fb63_1440w.jpg"
	width="504"
	height="422"
	srcset="/huyang/p/leetcode%E7%AE%97%E6%B3%95%E6%80%9D%E8%80%83/v2-86c5c782afd6a1c32962795e8719fb63_1440w_hu_2d7786579c6ebf10.jpg 480w, /huyang/p/leetcode%E7%AE%97%E6%B3%95%E6%80%9D%E8%80%83/v2-86c5c782afd6a1c32962795e8719fb63_1440w_hu_a5089d7acd443bc3.jpg 1024w"
	loading="lazy"
	
		alt="img"
	
	
		class="gallery-image" 
		data-flex-grow="119"
		data-flex-basis="286px"
	
></p>
<p><img src="/huyang/p/leetcode%E7%AE%97%E6%B3%95%E6%80%9D%E8%80%83/image-20250520112247847.png"
	width="1360"
	height="1516"
	srcset="/huyang/p/leetcode%E7%AE%97%E6%B3%95%E6%80%9D%E8%80%83/image-20250520112247847_hu_31ab0d240babef7d.png 480w, /huyang/p/leetcode%E7%AE%97%E6%B3%95%E6%80%9D%E8%80%83/image-20250520112247847_hu_bbc2e8dba4f5e280.png 1024w"
	loading="lazy"
	
		alt="image-20250520112247847"
	
	
		class="gallery-image" 
		data-flex-grow="89"
		data-flex-basis="215px"
	
></p>
<p><img src="/huyang/p/leetcode%E7%AE%97%E6%B3%95%E6%80%9D%E8%80%83/image-20250520112315443.png"
	width="1350"
	height="358"
	srcset="/huyang/p/leetcode%E7%AE%97%E6%B3%95%E6%80%9D%E8%80%83/image-20250520112315443_hu_3d83a714daf9eb26.png 480w, /huyang/p/leetcode%E7%AE%97%E6%B3%95%E6%80%9D%E8%80%83/image-20250520112315443_hu_bc51b1b1058e07ec.png 1024w"
	loading="lazy"
	
		alt="image-20250520112315443"
	
	
		class="gallery-image" 
		data-flex-grow="377"
		data-flex-basis="905px"
	
></p>
<p>ÂØπ‰∫é‰∏äÈù¢ÁöÑÂºèÂ≠êÔºåÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®‰πòÊ≥ïÁöÑÂø´ÈÄüÂπÇÊñπÊ≥ïÊù•ÂÅö„ÄÇ</p>
<blockquote>
<p>[!NOTE]</p>
<p>ÊÄùËÄÉ‰∏äÈù¢ÁöÑËøáÁ®ãÊòØ‰∏ÄÁßç‰ªÄ‰πàÊ†∑Â≠êÁöÑËøáÁ®ãÔºö</p>
<p>‰ªéA1Âà∞AnÁöÑÊ±ÇËß£ËøáÁ®ã‰∏≠Êàë‰ª¨ÂèëÁé∞ÂÖ∂‰∏≠ÈôêÂà∂ÊúÄÂ§öÁöÑ‰ΩçÁΩÆÊòØÊúÄÂêé‰∏Ä‰∏™‰ΩçÁΩÆÔºå‰πüÂ∞±ÊòØËØ¥Êàë‰ª¨Âú®Ê±ÇËß£Èô§‰∫ÜAn‰ΩçÁΩÆ‰ª•Â§ñÔºåÂØπ‰∫éÂÖ∂‰ªñÁöÑ‰ΩçÁΩÆÊÄªÂÖ±ÁöÑÂèØËÉΩÊÉÖÂÜµÈÉΩÊòØm-1‰∏≠ÊñπÂºè„ÄÇËÄåÂØπ‰∫éÊúÄÂêé‰∏Ä‰∏™AnÁöÑÂà§ÂÆöÊñπÊ≥ïÔºåÊàë‰ª¨ÈúÄË¶ÅÂàÜÊÉÖÂÜµËÆ®ËÆ∫AnÂâçÂêé‰ΩçÁΩÆÊòØÂê¶‰∏∫Âêå‰∏Ä‰∏™È¢úËâ≤„ÄÇÂØπ‰∫éËøôÁßçÊÉÖÂÜµÊàë‰ª¨ËÉΩÂ§üÂÖ•ÊâãÁöÑÂú∞ÊñπÊòØÔºö</p>
<ul>
<li>‰ªéÂêéÂæÄÂâçÊé®ÂØºÔºöÂàÜÊÉÖÂÜµËÆ®ËÆ∫ÂÅáÂ¶ÇAn-1ÊòØÂíåA1ÂêåËâ≤ÁöÑÊÉÖÂÜµÔºåÂÅáÂ¶ÇAn-1ÂíåA1‰∏çÂêåËâ≤ÁöÑÊÉÖÂÜµÔºå‰ΩÜÊòØÂæàÂø´Êàë‰ª¨ÂèëÁé∞Êàë‰ª¨Âú®ÂàÜÊÉÖÂÜµËÆ®ËÆ∫An-1ÁöÑÈ¢úËâ≤ÁöÑÊó∂ÂÄôÂ∞±‰ºöÁâµÊâØÂà∞An-2ÁöÑÊÉÖÂÜµÔºåËøôÊ†∑ÂàÜÊÉÖÂÜµËÆ®ËÆ∫Â∞±‰ºöÈô∑ÂÖ•Âæ™ÁéØ‰∏≠„ÄÇ</li>
<li>‰ªéÂâçÂæÄÂêéÊé®Âà∞Ôºö‰ªén=1ÂºÄÂßãÂÖàËØï‰∏ÄËØïn=2Ôºå3Ôºå4.„ÄÇ„ÄÇÁöÑÊÉÖÂÜµÔºåÂ∞ùËØïÂú®ÂÖ∂‰∏≠ÂèëÁé∞ËßÑÂæã„ÄÇ</li>
</ul>
<p>‰ΩÜÊòØÊàë‰ª¨ÂèëÁé∞Âú®‰∏äÈù¢ÊñπÊ≥ï‰∏≠ÊèêÂà∞ÊÄùË∑ØÂπ∂‰∏çÊòØËøô‰∏§ÁßçÊñπÊ≥ïÔºåÊâÄ‰ª•ËøôÈáåÂ∞±ÊúâÁ¨¨‰∏âÁßçÊÄùË∑ØÔºö</p>
<p>ÊúÄÁÆÄÂçïÂåñÔºåÁúãÁúãÂú®ÂèñÊ∂à‰∫ÜÊúÄÂêé‰∏Ä‰∏™ÈôêÂà∂ÁöÑÊÉÖÂÜµ‰∏ãÔºà‰πüÂ∞±ÊòØÂ∞ÜÊüìËâ≤ÈóÆÈ¢ò‰ªéÁéØÂèòÊàêÁõ¥Á∫øÔºâ‰ºöÊúâ‰ªÄ‰πàÁªìÊûúÔºåÁÑ∂ÂêéÊàë‰ª¨Âë¢Â∞±ÂèØ‰ª•ÂèëÁé∞ÂàÜ‰∏∫‰∏§ÁßçÁªìÊûúÔºö</p>
<ol>
<li>AnÂíåA1ÂêåËâ≤ÔºåÂØπ‰∫éËøôÁßçÊÉÖÂÜµÊàë‰ª¨ÂèØ‰ª•Áõ¥Êé•Â∞ÜAnÂíåA1È¶ñ‰ΩçÁõ∏ËøûÔºåÂõ†‰∏∫Ëøô‰∏§‰∏™ÂêåËâ≤ÔºåÊâÄ‰ª•Êàë‰ª¨ÂèØ‰ª•Â∞Ü‰ªñÁúã‰ΩúÊòØÂ∞ÜÂ∞ÜA1ÂíåAnËûçÂêàËµ∑Êù•ÔºåËøôÊ†∑Â≠êÁöÑÁªìÊûúÂíåËûçÂêàÂâçÂêéÊ≤°Êúâ‰ªª‰ΩïÂèòÂåñÔºå‰ΩÜÊòØÊàë‰ª¨ÊÉäÂ•áÂú∞ÂèëÁé∞Ê≠§Êó∂A1Âà∞An-1ÁöÑÂèØËÉΩÊÄßÊï∞ÈáèÂ∞±ÊòØSn-1ÔºåÂõ†‰∏∫A1‰∏ÄÂÆöÂíåAn-1È¢úËâ≤‰∏çÂêå„ÄÇ</li>
<li>ÂÅáÂ¶ÇAnÂíåA1‰∏çÂêåËâ≤ÔºåÈÇ£‰πàÊòæÁÑ∂ÂèØËÉΩÊÄßÁöÑÊï∞ÈáèÂ∞±ÊòØSn„ÄÇ</li>
</ol>
<p>Áªº‰∏äÂ∞±ËÉΩÂ§üÂèëÁé∞ÈÄíÊé®ÂÖ≥Á≥ª„ÄÇ</p>
<p>‰ΩÜÊòØÊàë‰ª¨Áé∞Âú®Êù•Áúã‰∏ÄÁúã‰ªéÂêéÂæÄÂâçÊ±ÇËß£ÊÄùË∑ØÁöÑÂèØËÉΩÊÄßÔºåÂõ†‰∏∫ËøôÁßçÂ∞ÜA1ÂíåAnÂêåËâ≤ËûçÂêàÁöÑtrickÊúâÁÇπÂõ∞Èöæ„ÄÇ</p>
<p>ËÆæÁΩÆk‰∏∫È¢úËâ≤ÁöÑÊï∞ÈáèÔºö</p>
<p>Êàë‰ª¨‰∏çÂ¶®Â∞ÜAn-1ÂíåA1È¢úËâ≤Áõ∏ÂêåÁöÑÂèØËÉΩÊÄßÊï∞ÈáèËÆæÁΩÆ‰∏∫Bn-1ÔºåÈ¢úËâ≤Áõ∏ÂêåÁöÑÂèØËÉΩÊÄßËÆæÁΩÆ‰∏∫Cn-1ÔºåÈÇ£‰πàÊòæÁÑ∂Sn=Bn-1*(k-1)+Cn-1*(k-2).</p>
<p>Bn=Cn-1,Cn=Cn-1*(k-2)+Bn-1*(k-1),Áî±Ê≠§‰πüÂèØ‰ª•Ê±ÇÂá∫Êù•ÈÄíÊé®ÂÖ¨Âºè„ÄÇ</p>
<p>‰∏ãÈù¢ÊòØGPTÁöÑÂõûÁ≠îÔºö</p>
<h1 id="ÁéØÊüìËâ≤ÈóÆÈ¢òÁöÑÈÄíÊé®ÂÖ≥Á≥ªËØÅÊòéÊÄùË∑Ø">ÁéØÊüìËâ≤ÈóÆÈ¢òÁöÑÈÄíÊé®ÂÖ≥Á≥ªËØÅÊòéÊÄùË∑Ø
</h1><h2 id="1-ÈóÆÈ¢òÂÆö‰πâ‰∏éÁ¨¶Âè∑Á∫¶ÂÆö">1. ÈóÆÈ¢òÂÆö‰πâ‰∏éÁ¨¶Âè∑Á∫¶ÂÆö
</h2><p>Êàë‰ª¨Ë¶ÅËÆ°ÁÆóÁî® $k$ ÁßçÈ¢úËâ≤Áªô‰∏Ä‰∏™Áî± $n$ ‰∏™ÂùóÁªÑÊàêÁöÑÁéØ ($A_1, A_2, \ldots, A_n$) ËøõË°åÊüìËâ≤ÔºåË¶ÅÊ±ÇÁõ∏ÈÇªÁöÑÂùóÈ¢úËâ≤‰∏çÂêåÁöÑÊñπÊ°àÊï∞„ÄÇËÆæÊúÄÁªàÁöÑÊñπÊ°àÊï∞‰∏∫ $S_n$„ÄÇ</p>
<h2 id="2-ËæÖÂä©Áä∂ÊÄÅÂÆö‰πâ-Ë∑ØÂæÑÊüìËâ≤">2. ËæÖÂä©Áä∂ÊÄÅÂÆö‰πâ (Ë∑ØÂæÑÊüìËâ≤)
</h2><p>‰∏∫‰∫Ü‰ªéÂêéÂæÄÂâçÔºàÊàñËÄÖËØ¥ÔºåÈÄöËøáÊûÑÂª∫ÁöÑÊñπÂºèÔºâÊé®ÂØºÔºåÊàë‰ª¨ÂÆö‰πâ‰ª•‰∏ã‰∏§ÁßçÁä∂ÊÄÅÔºåÁî®‰∫éÊèèËø∞ÂØπ‰∏Ä‰∏™<strong>Á∫øÊÄßË∑ØÂæÑ</strong> $A_1, A_2, \ldots, A_i$ ËøõË°åÊüìËâ≤Ôºå‰∏îÊª°Ë∂≥Áõ∏ÈÇªÂÖÉÁ¥†È¢úËâ≤‰∏çÂêåÁöÑÊñπÊ°àÊï∞Ôºö</p>
<ul>
<li>$B_i$: Ë∑ØÂæÑ $A_1, \ldots, A_i$ ÁöÑÊüìËâ≤ÊñπÊ°àÊï∞ÔºåÂÖ∂‰∏≠È¶ñÂÖÉÁ¥† $A_1$ ÂíåÂ∞æÂÖÉÁ¥† $A_i$ ÁöÑÈ¢úËâ≤<strong>Áõ∏Âêå</strong>„ÄÇ</li>
<li>$C_i$: Ë∑ØÂæÑ $A_1, \ldots, A_i$ ÁöÑÊüìËâ≤ÊñπÊ°àÊï∞ÔºåÂÖ∂‰∏≠È¶ñÂÖÉÁ¥† $A_1$ ÂíåÂ∞æÂÖÉÁ¥† $A_i$ ÁöÑÈ¢úËâ≤<strong>‰∏çÂêå</strong>„ÄÇ</li>
</ul>
<h2 id="3-ÈÄíÊé®ÂÖ≥Á≥ªÁöÑÂª∫Á´ã">3. ÈÄíÊé®ÂÖ≥Á≥ªÁöÑÂª∫Á´ã
</h2><h3 id="31-b_i-ÁöÑÈÄíÊé®ÂÖ≥Á≥ª">3.1. $B_i$ ÁöÑÈÄíÊé®ÂÖ≥Á≥ª
</h3><p>Ë¶Å‰ΩøË∑ØÂæÑ $A_1, \ldots, A_i$ ÁöÑÈ¶ñÂ∞æÈ¢úËâ≤Áõ∏Âêå ($A_i$ ‰∏é $A_1$ ÂêåËâ≤)Ôºå‰∏î $A_i$ ‰∏é $A_{i-1}$ È¢úËâ≤‰∏çÂêåÔºö</p>
<ul>
<li>$A_i$ ÁöÑÈ¢úËâ≤ÂøÖÈ°ª‰∏é $A_1$ ÁöÑÈ¢úËâ≤‰∏ÄËá¥ (1 ÁßçÈÄâÊã©)„ÄÇ</li>
<li>$A_{i-1}$ ÁöÑÈ¢úËâ≤ÂøÖÈ°ª‰∏é $A_i$ ÁöÑÈ¢úËâ≤‰∏çÂêåÔºå‰πüÂ∞±ÊòØËØ¥ $A_{i-1}$ ÁöÑÈ¢úËâ≤ÂøÖÈ°ª‰∏é $A_1$ ÁöÑÈ¢úËâ≤‰∏çÂêå„ÄÇ</li>
<li>Âõ†Ê≠§ÔºåÂØπË∑ØÂæÑ $A_1, \ldots, A_{i-1}$ ËøõË°åÊüìËâ≤ÔºåË¶ÅÊ±Ç $A_{i-1}$ ‰∏é $A_1$ È¢úËâ≤‰∏çÂêåÔºåËøôÊ†∑ÁöÑÊñπÊ°àÊï∞ÊòØ $C_{i-1}$„ÄÇ</li>
</ul>
<p>ÊâÄ‰ª•Ôºå
</p>
$$ B_i = C_{i-1} $$<h3 id="32-c_i-ÁöÑÈÄíÊé®ÂÖ≥Á≥ª">3.2. $C_i$ ÁöÑÈÄíÊé®ÂÖ≥Á≥ª
</h3><p>Ë¶Å‰ΩøË∑ØÂæÑ $A_1, \ldots, A_i$ ÁöÑÈ¶ñÂ∞æÈ¢úËâ≤‰∏çÂêå ($A_i$ ‰∏é $A_1$ ‰∏çÂêåËâ≤)Ôºå‰∏î $A_i$ ‰∏é $A_{i-1}$ È¢úËâ≤‰∏çÂêåÔºö</p>
<ul>
<li>
<p><strong>ÊÉÖÂÜµ‰∏Ä</strong>: Ë∑ØÂæÑ $A_1, \ldots, A_{i-1}$ ‰∏≠Ôºå$A_{i-1}$ ‰∏é $A_1$ ÁöÑÈ¢úËâ≤<strong>Áõ∏Âêå</strong>„ÄÇ</p>
<ul>
<li>ËøôÁßçÊüìËâ≤ÊñπÊ°àÊúâ $B_{i-1}$ Áßç„ÄÇ</li>
<li>Ê≠§Êó∂Ôºå$A_i$ ÁöÑÈ¢úËâ≤Âè™ÈúÄ‰∏é $A_{i-1}$ (‰πüÂ∞±ÊòØ $A_1$) ‰∏çÂêåÂç≥ÂèØ„ÄÇÊúâ $k-1$ ÁßçÈÄâÊã©„ÄÇ</li>
<li>Ëøô‰∫õÈÄâÊã©ÈÉΩÂ∞Ü‰ΩøÂæó $A_i$ ‰∏é $A_1$ ‰∏çÂêåËâ≤„ÄÇ</li>
<li>Ë¥°ÁåÆ: $B_{i-1} \times (k-1)$„ÄÇ</li>
</ul>
</li>
<li>
<p><strong>ÊÉÖÂÜµ‰∫å</strong>: Ë∑ØÂæÑ $A_1, \ldots, A_{i-1}$ ‰∏≠Ôºå$A_{i-1}$ ‰∏é $A_1$ ÁöÑÈ¢úËâ≤<strong>‰∏çÂêå</strong>„ÄÇ</p>
<ul>
<li>ËøôÁßçÊüìËâ≤ÊñπÊ°àÊúâ $C_{i-1}$ Áßç„ÄÇ</li>
<li>Ê≠§Êó∂Ôºå$A_i$ ÁöÑÈ¢úËâ≤Êó¢Ë¶Å‰∏é $A_{i-1}$ ‰∏çÂêåÔºå‰πüË¶Å‰∏é $A_1$ ‰∏çÂêå„ÄÇÁî±‰∫é $A_{i-1}$ Âíå $A_1$ ÁöÑÈ¢úËâ≤Â∑≤Áªè‰∏çÂêåÔºåÊâÄ‰ª• $A_i$ Êúâ $k-2$ ÁßçÈÄâÊã©„ÄÇ</li>
<li>Ë¥°ÁåÆ: $C_{i-1} \times (k-2)$„ÄÇ</li>
</ul>
</li>
</ul>
<p>ÊâÄ‰ª•Ôºå
</p>
$$ C_i = (k-1)B_{i-1} + (k-2)C_{i-1} $$<h2 id="4-ÁéØÊüìËâ≤ÊñπÊ°àÊï∞-s_n-ÁöÑË°®ËææÂºè">4. ÁéØÊüìËâ≤ÊñπÊ°àÊï∞ $S_n$ ÁöÑË°®ËææÂºè
</h2><p>Áé∞Âú®ËÄÉËôëÂØπÁéØ $A_1, \ldots, A_n$ ËøõË°åÊüìËâ≤„ÄÇÊàë‰ª¨ÂèØ‰ª•ÂÖàÂØπË∑ØÂæÑ $A_1, \ldots, A_{n-1}$ ËøõË°åÊüìËâ≤ÔºåÁÑ∂ÂêéÁ°ÆÂÆö $A_n$ ÁöÑÈ¢úËâ≤„ÄÇ$A_n$ ÂøÖÈ°ª‰∏é $A_{n-1}$ Âíå $A_1$ ÁöÑÈ¢úËâ≤ÈÉΩ‰∏çÂêå„ÄÇ</p>
<ul>
<li>
<p><strong>Â¶ÇÊûú $A_{n-1}$ ‰∏é $A_1$ ÂêåËâ≤</strong> (ÊñπÊ°àÊï∞‰∏∫ $B_{n-1}$):</p>
<ul>
<li>$A_n$ Âè™ÈúÄ‰∏é $A_{n-1}$ (‰πüÂ∞±ÊòØ $A_1$) ‰∏çÂêåËâ≤Âç≥ÂèØ„ÄÇÊúâ $k-1$ ÁßçÈÄâÊã©„ÄÇ</li>
<li>Ë¥°ÁåÆ: $B_{n-1} \times (k-1)$„ÄÇ</li>
</ul>
</li>
<li>
<p><strong>Â¶ÇÊûú $A_{n-1}$ ‰∏é $A_1$ ‰∏çÂêåËâ≤</strong> (ÊñπÊ°àÊï∞‰∏∫ $C_{n-1}$):</p>
<ul>
<li>$A_n$ ÂøÖÈ°ª‰∏é $A_{n-1}$ ‰∏çÂêåËâ≤Ôºå‰∏î‰∏é $A_1$ ‰∏çÂêåËâ≤„ÄÇÁî±‰∫é $A_{n-1}$ Âíå $A_1$ ÁöÑÈ¢úËâ≤Â∑≤‰∏çÂêåÔºå $A_n$ Êúâ $k-2$ ÁßçÈÄâÊã©„ÄÇ</li>
<li>Ë¥°ÁåÆ: $C_{n-1} \times (k-2)$„ÄÇ</li>
</ul>
</li>
</ul>
<p>Âõ†Ê≠§ÔºåÁéØÊüìËâ≤ÁöÑÊÄªÊñπÊ°àÊï∞ $S_n$ ‰∏∫Ôºö
</p>
$$ S_n = (k-1)B_{n-1} + (k-2)C_{n-1} $$<h2 id="5-s_n-‰∏é-c_n-ÁöÑÂÖ≥Á≥ª">5. $S_n$ ‰∏é $C_n$ ÁöÑÂÖ≥Á≥ª
</h2><p>ÊØîËæÉ $S_n$ ÁöÑË°®ËææÂºèÂíå $C_i$ ÁöÑÈÄíÊé®ÂÖ¨ÂºèÔºåÊàë‰ª¨ÂèëÁé∞Ôºö
</p>
$$ S_n = (k-1)B_{n-1} + (k-2)C_{n-1} $$<p>
</p>
$$ C_n = (k-1)B_{n-1} + (k-2)C_{n-1} $$<p>
Áî±Ê≠§ÂèØËßÅÔºå$S_n = C_n$„ÄÇ
ËøôÁ¨¶ÂêàÁõ¥ËßâÔºöÂØπ‰∏Ä‰∏™ $n$ ÂùóÁöÑÁéØËøõË°åÊüìËâ≤ÔºåÁ≠â‰ª∑‰∫éÂØπ‰∏Ä‰∏™ $n$ ÂùóÁöÑË∑ØÂæÑËøõË°åÊüìËâ≤ÔºåÂπ∂Ë¶ÅÊ±ÇË∑ØÂæÑÁöÑÈ¶ñÂ∞æ‰∏§ÂùóÈ¢úËâ≤‰∏çÂêå„ÄÇ</p>
<h2 id="6-ÊúÄÁªàÈÄíÊé®ÂÖ¨Âºè">6. ÊúÄÁªàÈÄíÊé®ÂÖ¨Âºè
</h2><p>Â∞Ü $B_{i-1} = C_{i-2}$ ‰ª£ÂÖ• $C_i$ (Êàñ $S_i$) ÁöÑË°®ËææÂºè‰∏≠Ôºö
</p>
$$ C_i = (k-2)C_{i-1} + (k-1)B_{i-1} $$<p>
</p>
$$ C_i = (k-2)C_{i-1} + (k-1)C_{i-2} $$<p>
ÊâÄ‰ª•ÔºåÁéØÊüìËâ≤ÊñπÊ°àÊï∞ $S_n (=C_n)$ ÁöÑÈÄíÊé®ÂÖ¨Âºè‰∏∫Ôºö
</p>
$$ S_n = (k-2)S_{n-1} + (k-1)S_{n-2} \quad (\text{ÂØπ‰∫é } n \ge 3) $$<h2 id="7-ÂàùÂßãÊù°‰ª∂">7. ÂàùÂßãÊù°‰ª∂
</h2><ul>
<li>
<p><strong>$S_1 (=C_1)$</strong>:</p>
<ul>
<li>ÂØπ‰∫é $C_1$ (Ë∑ØÂæÑ $A_1$ÔºåË¶ÅÊ±Ç $A_1 \ne A_1$)Ôºö$C_1 = 0$„ÄÇ</li>
<li>ÂØπ‰∫é $S_1$ (Âçï‰∏™ÂùóÁöÑÁéØ)ÔºöÊ≤°ÊúâÁõ∏ÈÇªÂùóÔºåÂèØ‰ª•Êüì‰ªªÊÑè $k$ ÁßçÈ¢úËâ≤„ÄÇ$S_1 = k$„ÄÇ</li>
<li><em>Ê≥®ÊÑè</em>: ËøôÈáåÁöÑ $S_n$ Âíå $C_n$ ÁöÑÂÖ≥Á≥ªÂú® $n=1$ Êó∂ÈúÄË¶ÅÂ∞èÂøÉ„ÄÇÈÄöÂ∏∏ÔºåÈÄíÊé®ÂÖ¨Âºè‰ªé $n \ge 3$ ÂºÄÂßãÔºå $S_1, S_2$ ÂçïÁã¨ËÆ°ÁÆó„ÄÇÂ¶ÇÊûú‰∏•Ê†º‰ΩøÁî® $S_n=C_n$ÔºåÂàô $S_1=0$ÔºåËøô‰∏éÂçï‰∏™ÂùóÁöÑÁéØÊúâ $k$ ÁßçÊüìËâ≤ÁöÑÁõ¥ËßÇÁêÜËß£‰∏çÂêå„ÄÇÁªèÂÖ∏ÁéØÊüìËâ≤ÂÖ¨Âºè $(k-1)^n + (-1)^n(k-1)$ Âú® $n=1$ Êó∂‰πüÁªôÂá∫ $0$„ÄÇÂ¶ÇÊûúÈ¢òÁõÆÂÆö‰πâ $n=1$ Êó∂‰∏∫ $k$ ÁßçÔºåÂàô $S_1=k$ ÊòØÁâπÊÆäÊÉÖÂÜµ„ÄÇ</li>
</ul>
</li>
<li>
<p><strong>$S_2 (=C_2)$</strong>:</p>
<ul>
<li>$B_1 = k$ (Ë∑ØÂæÑ $A_1$Ôºå$A_1$ ‰∏é $A_1$ ÂêåËâ≤ÔºåÊúâ $k$ ÁßçÊñπÊ°à)„ÄÇ</li>
<li>$C_2 = (k-1)B_1 + (k-2)C_1 = (k-1)k + (k-2) \cdot 0 = k(k-1)$„ÄÇ</li>
<li>$S_2 = k(k-1)$„ÄÇ (ÁéØ $A_1,A_2$: $A_1$ Êúâ $k$ ÁßçÈÄâÊã©Ôºå$A_2$ Êúâ $k-1$ ÁßçÈÄâÊã©)„ÄÇ</li>
</ul>
</li>
<li>
<p><strong>$S_3 (=C_3)$</strong>:</p>
<ul>
<li>$C_3 = (k-2)C_2 + (k-1)C_1 = (k-2)k(k-1) + (k-1) \cdot 0 = k(k-1)(k-2)$„ÄÇ</li>
<li>$S_3 = k(k-1)(k-2)$„ÄÇ</li>
</ul>
</li>
</ul>
<p>Ëøô‰∏™ÈÄíÊé®ÂÖ¨Âºè‰∏éÂ∑≤Áü•ÁöÑÁéØÊüìËâ≤ÈóÆÈ¢òÁöÑÁªìÊûúÊòØ‰∏ÄËá¥ÁöÑ„ÄÇ</p></blockquote>
<h3 id="1‰º†ÁêÉÈóÆÈ¢ò">Ôºà1Ôºâ‰º†ÁêÉÈóÆÈ¢ò
</h3><p><em><strong>Q.</strong> m‰∏™‰∫∫ËøõË°åÁØÆÁêÉ‰º†ÁêÉÊ∏∏ÊàèÔºåËßÑÂàô‰∏∫ÊØè‰∏™‰∫∫Êé•ÁêÉÂêéÂÜç‰º†ÁªôÂà´‰∫∫„ÄÇËßÑÂÆöÁî±Áî≤Á¨¨‰∏ÄÊ¨°‰º†ÁêÉÔºåËã•Á¨¨nÊ¨°‰º†ÁêÉÂêéÔºåÁêÉÂèàÂõûÂà∞Áî≤ÁöÑÊâã‰∏≠ÔºåÊ±ÇÊâÄÊúâÁöÑ‰º†ÁêÉÊñπÊ≥ïÊï∞„ÄÇ</em></p>
<p>Áõ∏‰ø°ËØªËÄÖÊàñÂ§öÊàñÂ∞ëÊé•Ëß¶ËøáËøôÁßçÈ¢òÔºåÁ¨îËÄÖÂ∞Ü‰ªéÈÄíÊé®ÁöÑËßíÂ∫¶ÁªôÂá∫Ê≠§Á±ªÈ¢òÁöÑÈÄöËß£„ÄÇ</p>
<p>ÂèóÊ≠§ÂâçÁöÑÂêØÂèëÔºåÊàë‰ª¨‰∏çÂ¶®ÂèçËøáÊù•ËÄÉËôë„ÄÇÊöÇ‰∏î‰∏çÁÆ°Á¨¨ Ê¨°‰º†Áªô‰∫ÜË∞ÅÔºåÊ≥®ÊÑèÂà∞Á¨¨ Ê¨°‰º†ÁêÉÂêéÊãøÂà∞ÁêÉÁöÑ‰∫∫ÊääÁêÉ‰º†ÁªôÁî≤Â∞±Ë°å‰∫ÜÔºåÂõ†Ê≠§ÊÄªÊñπÊ≥ïÊï∞‰∏∫ Ê¨°‰º†ÁêÉÁöÑÊñπÊ≥ïÊï∞Âç≥ „ÄÇ‰ΩÜÊòØÂ¶ÇÊûúÁ¨¨ Ê¨°‰º†ÁêÉÁªô‰∫ÜÁî≤ÔºåÁî±‰∫é‰ªñ‰∏çËÉΩ‰º†ÁªôËá™Â∑±ÔºåÂõ†Ê≠§ËøôÁßçÊÉÖÂÜµÊòØ‰∏çÊàêÁ´ãÁöÑÔºåÂáèÂéªÂç≥ÂèØ„ÄÇËÆæÁ¨¨ Ê¨°‰º†ÁêÉÂêéÂõûÂà∞Áî≤Êâã‰∏≠ÁöÑÊñπÊ≥ïÊï∞‰∏∫ ÔºåÊàë‰ª¨ÂæóÂà∞ÈÄíÊé®Âºè ÔºåÊï¥ÁêÜÂæó</p>
<p>ËæπÁïåÊù°‰ª∂ ÔºàÁî≤Á¨¨‰∏ÄÊ¨°Âè™ËÉΩ‰º†ÁªôÂà´‰∫∫Ôºâ„ÄÇËøô‰∏™ÈÄíÊé®ÂºèÁöÑÂ§ÑÁêÜÊñπÊ≥ïÂíåÂ§öËæπÂΩ¢ÊüìËâ≤ÁöÑÊòØ‰∏ÄÊ®°‰∏ÄÊ†∑ÁöÑÔºåÂõ†Ê≠§ËøôÈáå‰∏çÂä†ËØÅÊòéÂú∞ÁªôÂá∫ÁªìÊûú</p>
<h3 id="2">(2)
</h3><p>***Q.*<em>Êüê‰∫∫ËÆ°ÂàíÁªô8ÂùóÁâåÂ≠êÊ∂ÇËâ≤ÔºåÊØèÂùóÁâåÂ≠êÂèØÈÄâÁî®Á∫¢„ÄÅËìù‰∏≠ÁöÑ‰∏ÄÁßçÈ¢úËâ≤Âñ∑Ê∂Ç„ÄÇËã•Ë¶ÅÊ±ÇÁõ∏ÈÇª‰∏§ÂùóÁâåÂ≠ê‰∏çÈÉΩ‰∏∫Á∫¢Ëâ≤ÔºåËØïÊ±ÇÊâÄÊúâÁöÑÊüìËâ≤ÊñπÊ°àÊï∞„ÄÇ</em></p>
<p>‚ÄúÁõ∏ÈÇª‰∏çÈÉΩ‰∏∫Á∫¢Ëâ≤‚ÄùÁî®Ê≠£ÈöæÂàôÂèç‰πüÂæàÈöæÂ§ÑÁêÜÔºåÊàë‰ª¨ÂÖà‰ªéËßÑÊ®°ËæÉÂ∞èÁöÑÊÉÖÂÜµÊâæÊâæÁÅµÊÑü„ÄÇ</p>
<p>ËÆæÊúânÂùóÁâåÂ≠êÊó∂Ê∂ÇËâ≤ÊñπÊ°àÊï∞Êúâ Áßç</p>
<p>Ëã•Êúâ2ÂùóÁâåÂ≠ê:</p>
<p>1.Á¨¨‰∏ÄÂùóÊ∂ÇËìùËâ≤ÔºåÂàôÁ¨¨‰∫åÂùóÂèØ‰ª•ÊòØÁ∫¢Ëâ≤ÊàñËÄÖËìùËâ≤ÔºåÊúâ‰∏§Áßç</p>
<p>2.Á¨¨‰∏ÄÂùóÊ∂ÇÁ∫¢Ëâ≤ÔºåÂàôÁ¨¨‰∫åÂùóÂè™ËÉΩÊòØËìùËâ≤ÔºåÊúâ‰∏ÄÁßç</p>
<p>Ëã•Êúâ3ÂùóÁâåÂ≠êÔºö</p>
<p>Ëã•Á¨¨‰∏ÄÂùóÊ∂ÇËìùËâ≤</p>
<p>Á≠âÁ≠âÊàë‰ª¨ÂèëÁé∞‰∫Ü‰ªÄ‰πàÔºÅ</p>
<p>Á¨¨‰∏ÄÂùóÊ∂ÇËìùËâ≤ÁöÑÊó∂ÂÄôÔºåÁ¨¨‰∫åÂùóÂèØ‰ª•Ê∂ÇÁ∫¢Ëâ≤ÊàñËÄÖËìùËâ≤„ÄÇÊàë‰ª¨Ê≥®ÊÑèÂà∞ÔºåÂ¶ÇÊûúÊüê‰∏ÄÂùóÊ∂Ç‰∫ÜËìùËâ≤ÔºåÈÇ£‰πà‰∏ã‰∏ÄÂùóÁöÑÊ∂ÇËâ≤Ê≤°Êúâ‰ªª‰ΩïÈôêÂà∂ÔºàÁ∫¢ËìùÈÉΩÂèØ‰ª•Ê∂ÇÔºâÔºåÁõ∏ÂΩì‰∫éÂèØ‰ª•ÊâîÊéâÂâçÈù¢ÈÇ£‰∫õÂ∑≤ÁªèÊ∂ÇÂ•ΩÁöÑÁâåÂ≠êÔºå‰ªé‰∏ã‰∏ÄÂùóÈáçÊñ∞ÂºÄÂßãËßÑÂàíËøô‰∏™ÈóÆÈ¢òÔºÅ</p>
<p>Âõ†Ê≠§ÔºåÂ¶ÇÊûúÁ¨¨1ÂùóÊ∂ÇËìùËâ≤ÔºåÂàô‰πãÂêéÁöÑ ÂùóÁâåÂ≠êÊúâ ÁßçÊ∂ÇËâ≤ÊñπÊ≥ïÊï∞</p>
<p>ËøôÂ§™ËÆ©‰∫∫ÊåØÂ•ã‰∫Ü„ÄÇÂèØÈóÆÈ¢òËøòÊ≤°ÊúâÁªìÊùüÔºåÊ†πÊçÆÂàÜÁ±ªÂä†Ê≥ïÂéüÁêÜÔºåÊàë‰ª¨Âè™ÈúÄË¶ÅÂÜçÁúãÁúãÁ¨¨‰∏ÄÂùóÊ∂ÇÁ∫¢Ëâ≤ÁöÑÊÉÖÂΩ¢</p>
<p>Ëã•Á¨¨‰∏ÄÂùóÊ∂ÇÁ∫¢Ëâ≤</p>
<p>Â¶ÇÊûúÁ¨¨‰∏ÄÂùóÊ∂ÇÁ∫¢ÔºåÈÇ£‰πàÁ¨¨‰∫åÂùóÂøÖÈ°ªÊ∂ÇËìù„ÄÇÔºÅÔºÅËøôÊòØ‰∏çÊòØÂèàÂõûÂà∞‰∫ÜÁ¨¨‰∏ÄÁßçÊÉÖÂÜµÔºüËøôÁßçÊÉÖÂÜµ‰∏ãÔºåÂâ©‰∏ãÁöÑ ÂùóÊúâ ÁßçÊ∂ÇËâ≤ÊñπÊ≥ïÊï∞</p>
<p>Âõ†Ê≠§Êàë‰ª¨ÂæóÂà∞ÈÄíÊé®ÂÖ≥Á≥ª</p>
<p>ËæπÁïå „ÄÇÁî±ÈÄíÊé®ÂÖ≥Á≥ªÂæóÂà∞Á≠îÊ°à</p>
<p>ÔºàÊ≠§È¢òÊ≤°ÊúâÂøÖË¶ÅÊ±ÇÂá∫ÈÄöÈ°πÂÖ¨ÂºèÔºâ</p>
<h3 id="3ÂÖ®Èîô‰ΩçÊéíÂàóÈóÆÈ¢ò">(3)<a class="link" href="https://zhida.zhihu.com/search?content_id=192498207&amp;content_type=Article&amp;match_order=1&amp;q=%e5%85%a8%e9%94%99%e4%bd%8d%e6%8e%92%e5%88%97&amp;zd_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJ6aGlkYV9zZXJ2ZXIiLCJleHAiOjE3NDc4ODM5ODQsInEiOiLlhajplJnkvY3mjpLliJciLCJ6aGlkYV9zb3VyY2UiOiJlbnRpdHkiLCJjb250ZW50X2lkIjoxOTI0OTgyMDcsImNvbnRlbnRfdHlwZSI6IkFydGljbGUiLCJtYXRjaF9vcmRlciI6MSwiemRfdG9rZW4iOm51bGx9.2I5z29BbhABKOFn9Kqf57yny_XRf1mQ9gVbyxHjtwg0&amp;zhida_source=entity"  target="_blank" rel="noopener"
    >ÂÖ®Èîô‰ΩçÊéíÂàó</a>ÈóÆÈ¢ò
</h3><p>***Q.*<em>‰∏Ä‰∏™‰∫∫ÂÜô‰∫ÜnÂ∞Å‰∏çÂêåÁöÑ‰ø°ÂèäÁõ∏Â∫îÁöÑn‰∏™‰∏çÂêåÁöÑ‰ø°Â∞ÅÔºå‰ªñÊääËøônÂ∞Å‰ø°ÈÉΩË£ÖÈîô‰∫Ü‰ø°Â∞ÅÔºåÈóÆÊúâÂ§öÂ∞ëÁßçÊñπÊ≥ïÔºü</em></p>
<p>Êàë‰ª¨ÂÅáËÆæÊ≠£Á°ÆÂØπÂ∫îÂÖ≥Á≥ª‰∏∫Á¨¨ ‰∏™‰ø°Â∞ÅÂàÜÂà´Â∫îËØ•Ë£ÖÁ¨¨ Â∞Å‰ø°Ôºå Â∞Å‰ø°ÂÖ®ÈÉ®Èîô‰ΩçÊîæÁöÑÊñπÊ≥ïÊúâ Áßç</p>
<p>ËÄÉËôëÂÖ∂‰∏≠‰∏ÄÂ∞Å‰ø° ÔºåÊòæÁÑ∂ ‰∏çËÉΩÊîæÂà∞Á¨¨ ‰∏™‰ø°Â∞ÅÔºåÊÄªÂÖ±Êúâ ÁßçÈîô‰ΩçÊîæÊ≥ï</p>
<p>ËÆ∞ ÈîôË£ÖÂà∞Á¨¨ ‰∏™‰ΩçÁΩÆÔºåËÄÉËôëË¢´Êå§Âç†ÁöÑ ÊÄé‰πàÊîæ</p>
<p>1.Â¶ÇÊûú ÊîæÂà∞Á¨¨ ‰∏™‰ΩçÁΩÆÔºå‰πüÂ∞±ÊòØËØ¥Âíå Ë∞ÉÊç¢È°∫Â∫èÔºåÈÇ£ÂÆÉ‰ø©ÈÉΩÈîôÊîæ‰∫ÜÊª°Ë∂≥È¢òÊÑèÔºåÂè™ÈúÄË¶ÅËÄÉËôëÂâ©‰∏ã Â∞Å‰ø°ÊÄé‰πàÈîô‰ΩçÊéíÔºåÊúâ ÁßçÊñπÊ≥ï</p>
<p>2.Â¶ÇÊûú ÊîæÂà∞Á¨¨ ‰∏™‰ΩçÁΩÆ‰πãÂ§ñÁöÑ‰ΩçÁΩÆÔºåÈÇ£‰πàÂè™ÈúÄË¶ÅËÄÉËôëÂåÖÂê´ Âú®ÂÜÖÂâ©‰∏ã Â∞Å‰ø°ÊÄé‰πàÈîô‰ΩçÊéíÔºåÊúâ ÁßçÊñπÊ≥ï</p>
<p>Áî±ÂàÜÁ±ªÂä†Ê≥ïÂéüÁêÜÂíåÂàÜÊ≠•‰πòÊ≥ïÂéüÁêÜÂèØÁü•</p>
<p>P.S*.*</p>
<p><em>1.ÁªôÂá∫‰∏Ä‰∏™Êï∞Â≠¶ÂΩíÁ∫≥ÂæóÂà∞ÁöÑ‰æø‰∫éËÆ°ÁÆóÁöÑÈÄíÊé®ÂÖ¨Âºè</em></p>
<p><em>2.ÁªôÂá∫ÈÄöÈ°πÂÖ¨Âºè ÔºàËÆ°ÁÆó‰∏çÂ¶Ç‰∏äÈù¢ÁöÑÈÄíÊé®Êñπ‰æøÔºâ</em></p>
<p><em>3.ÂØπ‰∫é<strong>ÈóÆÈ¢òÁöÑÊé®Âπø</strong>ÔºåËã• Â∞Å‰ø°‰∏≠ÊÅ∞Êúâ Â∞Å‰ø°Ë£ÖÈîôÔºåÂàôÊñπÊ≥ïÊï∞ „ÄÇÂæàÁÆÄÂçïÔºåÂè™ÈúÄË¶ÅÂÖàÊäänÂ∞Å‰ø°ÂÖ®ÈÉ®Ë£ÖÂØπÔºåÁÑ∂ÂêéÈÄâÂá∫mÂ∞ÅÈúÄË¶ÅË£ÖÈîôÁöÑÔºåÂÜçÂ∞ÜmÂ∞Å‰ø°ÂÖ®Èîô‰ΩçÊéíÂàóÔºåÊ†πÊçÆ‰πòÊ≥ïÂéüÁêÜ‰æøËÉΩÂæóÂà∞‰∏äÈù¢ÁöÑÁªìÊûú„ÄÇ</em></p>
<h2 id="‰∫åÂàÜÊü•ÊâæÂú®Êª°Ë∂≥ÂçïË∞ÉÊÄßÊù°‰ª∂ÁöÑÂáΩÊï∞‰∏≠ÂØªÊâæÁâπÂÆöËæπÁïåÂÄº">‰∫åÂàÜÊü•ÊâæÂú®Êª°Ë∂≥ÂçïË∞ÉÊÄßÊù°‰ª∂ÁöÑÂáΩÊï∞‰∏≠ÂØªÊâæÁâπÂÆöËæπÁïåÂÄº
</h2><p><img src="/huyang/p/leetcode%E7%AE%97%E6%B3%95%E6%80%9D%E8%80%83/image-20250521111940337.png"
	width="1806"
	height="504"
	srcset="/huyang/p/leetcode%E7%AE%97%E6%B3%95%E6%80%9D%E8%80%83/image-20250521111940337_hu_a8abab3cb648bc5e.png 480w, /huyang/p/leetcode%E7%AE%97%E6%B3%95%E6%80%9D%E8%80%83/image-20250521111940337_hu_381308a0cd285228.png 1024w"
	loading="lazy"
	
		alt="image-20250521111940337"
	
	
		class="gallery-image" 
		data-flex-grow="358"
		data-flex-basis="860px"
	
></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">left</span> <span class="o">=</span> <span class="n">min_val</span><span class="p">,</span> <span class="n">right</span> <span class="o">=</span> <span class="n">max_val</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">result</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span> <span class="c1">// ÊàñËÄÖ‰∏Ä‰∏™‰∏çÂèØËÉΩÁöÑÂÄºÔºåÁî®‰∫éÂ≠òÂÇ®ÊúÄÁªàÁªìÊûú
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="k">while</span> <span class="p">(</span><span class="n">left</span> <span class="o">&lt;=</span> <span class="n">right</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// ÊàñËÄÖ left &lt; right, Ê†πÊçÆÂÖ∑‰ΩìËæπÁïåÂ§ÑÁêÜ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kt">int</span> <span class="n">mid</span> <span class="o">=</span> <span class="n">left</span> <span class="o">+</span> <span class="p">(</span><span class="n">right</span> <span class="o">-</span> <span class="n">left</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">check</span><span class="p">(</span><span class="n">mid</span><span class="p">))</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// mid Êª°Ë∂≥Êù°‰ª∂ÔºåÂ∞ùËØïÊõ¥Â∞èÁöÑ mid
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="n">result</span> <span class="o">=</span> <span class="n">mid</span><span class="p">;</span> <span class="c1">// ËÆ∞ÂΩïÂΩìÂâçÊª°Ë∂≥Êù°‰ª∂ÁöÑÂÄº
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="n">right</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span> <span class="c1">// ÁªßÁª≠ÂêëÂ∑¶ÊêúÁ¥¢
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// mid ‰∏çÊª°Ë∂≥Êù°‰ª∂ÔºåÈúÄË¶ÅÊõ¥Â§ßÁöÑ mid
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="n">left</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span> <span class="c1">// ÂêëÂè≥ÊêúÁ¥¢
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="k">return</span> <span class="n">result</span><span class="p">;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="Â¶Ç‰ΩïËØÜÂà´‰∏éËß£ÂÜ≥Ë¥™ÂøÉÁÆóÊ≥ïÈóÆÈ¢ò-">Â¶Ç‰ΩïËØÜÂà´‰∏éËß£ÂÜ≥Ë¥™ÂøÉÁÆóÊ≥ïÈóÆÈ¢ò üßê
</h2><h3 id="1-ËØÜÂà´Ë¥™ÂøÉÈóÆÈ¢ò"><strong>1. ËØÜÂà´Ë¥™ÂøÉÈóÆÈ¢ò</strong>
</h3><ul>
<li><strong>ÁõÆÊ†áÊòØÊúÄ‰ºòÂåñ + Êª°Ë∂≥Á∫¶ÊùüÔºö</strong> È¢òÁõÆÈÄöÂ∏∏Ë¶ÅÊ±ÇÂú®Êª°Ë∂≥ÁâπÂÆöÁ∫¶ÊùüÊù°‰ª∂ÁöÑÂâçÊèê‰∏ãÔºåÊ±ÇËß£Êüê‰∏™ÊåáÊ†áÁöÑ<strong>ÊúÄÂ∞èÂÄº</strong>Êàñ<strong>ÊúÄÂ§ßÂÄº</strong>„ÄÇ
<ul>
<li>‰Ω†ÂáÜÁ°ÆÂú∞ÊåáÂá∫‰∫Ü‚Äú‰ΩøÁî®ÊúÄÂ∞ëÁöÑqueryÊï∞ÁªÑ‚ÄùÊòØË¥™ÂøÉÁÆóÊ≥ïÁöÑ‰∏Ä‰∏™ÈáçË¶Å‰ø°Âè∑„ÄÇ</li>
</ul>
</li>
<li><strong>‰∏éÂä®ÊÄÅËßÑÂàí (DP) ÁöÑÂå∫Âà´Ôºö</strong>
<ul>
<li><strong>DP</strong>ÔºöÈÄöËøáÂ∞ÜÈóÆÈ¢òÂàÜËß£‰∏∫Â≠êÈóÆÈ¢òÔºåÂπ∂‰ªéÂ≠êÈóÆÈ¢òÁöÑÊúÄ‰ºòËß£ÈÄêÊ≠•ÊûÑÂª∫Êï¥‰ΩìÊúÄ‰ºòËß£„ÄÇDP ÈÄöÂ∏∏‰ºöÊé¢Á¥¢Â§öÁßçÂèØËÉΩÊÄßÔºåÁä∂ÊÄÅËΩ¨ÁßªÂíå‰æùËµñÂÖ≥Á≥ªÊòØÊ†∏ÂøÉ„ÄÇ</li>
<li><strong>Ë¥™ÂøÉÁÆóÊ≥ï</strong>ÔºöÂú®ÊØè‰∏ÄÊ≠•ÈÉΩÂÅöÂá∫<strong>ÂΩìÂâçÁúãËµ∑Êù•ÊúÄ‰ºò</strong>ÁöÑÈÄâÊã©ÔºåÂπ∂ÊúüÊúõÈÄöËøá‰∏ÄÁ≥ªÂàóÂ±ÄÈÉ®ÊúÄ‰ºòÈÄâÊã©ËææÂà∞ÂÖ®Â±ÄÊúÄ‰ºò„ÄÇ‰∏ÄÊó¶ÂÅöÂá∫ÈÄâÊã©ÔºåÈÄöÂ∏∏‰∏ç‰ºö‚ÄúÂèçÊÇî‚ÄùÊàñÈáçÊñ∞ËØÑ‰º∞„ÄÇÂÜ≥Á≠ñÊòØÂç≥Êó∂‰∏îÈíàÂØπÂΩìÂâçÊ≠•È™§ÁöÑ„ÄÇ</li>
</ul>
</li>
<li><strong>‚ÄúÊúÄÂ∞ë‰ª£‰ª∑/Â∑•ÂÖ∑‚ÄùÊàñ‚ÄúÊúÄÂ§ßÂç≥Êó∂Êî∂Áõä‚ÄùÔºö</strong> ÂÉè‚ÄúÁî®ÊúÄÂ∞ëÁöÑÁâ©ÂìÅ‚ÄùÔºå‚ÄúÂú®Ëøô‰∏ÄÊ≠•Ëé∑ÂæóÊúÄÂ§ß‰ª∑ÂÄº‚ÄùÔºåÊàñËÄÖ‚ÄúÁî®ÂΩìÂâçÊúÄ‰Ω≥ÈÄâÈ°πÊª°Ë∂≥ÂΩìÂâçÈúÄÊ±Ç‚ÄùËøôÁ±ªÊèèËø∞ÔºåÂ∏∏Â∏∏ÊöóÁ§∫‰∫ÜË¥™ÂøÉÁ≠ñÁï•„ÄÇ‰Ω†ÊèêÂà∞ÁöÑ‚ÄúÂú®Êª°Ë∂≥Êüê‰∏™Êù°‰ª∂‰∏ãÈù¢‰ΩøÁî®ÊúÄÂ∞ëÁöÑUtility‰ºòÂåñÈóÆÈ¢ò‚Äù‰∏éÊ≠§ÈùûÂ∏∏ÂêªÂêà„ÄÇ</li>
</ul>
<hr>
<h3 id="2-ÊûÑÂª∫Ë¥™ÂøÉÁ≠ñÁï•"><strong>2. ÊûÑÂª∫Ë¥™ÂøÉÁ≠ñÁï•</strong>
</h3><p>‰∏ÄÊó¶ÊÄÄÁñëÊòØË¥™ÂøÉÈóÆÈ¢òÔºå‰∏ã‰∏ÄÊ≠•ÁöÑÂÖ≥ÈîÆÂ∞±ÊòØÁ°ÆÂÆö‚ÄúÂ¶Ç‰ΩïË¥™ÂøÉ‚Äù„ÄÇ</p>
<ul>
<li><strong>ÊòéÁ°Æ‚ÄúË¥™ÂøÉÈÄâÊã©‚ÄùÊòØ‰ªÄ‰πàÔºö</strong> Âú®ÈóÆÈ¢òÁöÑÊØè‰∏ÄÊ≠•Ôºå‰Ω†ËÉΩÂÅöÂá∫‰ªÄ‰πàÊ†∑ÁöÑÂÜ≥Á≠ñÔºå‰ΩøÂæóÂΩìÂâçÊÉÖÂÜµÁúãËµ∑Êù•ÊòØÊúÄ‰Ω≥ÁöÑÔºüËøô‰∏™ÈÄâÊã©ÈúÄË¶ÅÂü∫‰∫éÊüêÁßçÂêØÂèëÂºèËßÑÂàôÊàñÊ†áÂáÜ„ÄÇ</li>
<li><strong>ÊéíÂ∫è‰Ωú‰∏∫È¢ÑÂ§ÑÁêÜÊ≠•È™§Ôºö</strong>
<ul>
<li>ËÆ∏Â§öË¥™ÂøÉÈóÆÈ¢òÁöÑÁ¨¨‰∏ÄÊ≠•ÊòØÂØπËæìÂÖ•ÁöÑ‚ÄúÂ∑•ÂÖ∑‚ÄùÔºà‰æãÂ¶ÇÔºåÂå∫Èó¥„ÄÅ‰ªªÂä°„ÄÅÁâ©ÂìÅÔºâÊåâÁÖßÊüê‰∏™ÁâπÂÆöÊ†áÂáÜËøõË°åÊéíÂ∫è„ÄÇÊéíÂ∫èÊúâÂä©‰∫éÁªìÊûÑÂåñÂÜ≥Á≠ñËøáÁ®ã„ÄÇ</li>
<li>Ê≠£Â¶Ç‰Ω†ÊâÄËØ¥Ôºö‚Äú‰∏ÄËà¨Êù•ËØ¥Ë¥™ÂøÉÊòØÂ∞ÜÊàë‰ª¨ÊâÄÊúâÁöÑUtilÊåâÁÖßÊüê‰∏ÄÁßçÊù°‰ª∂ÊéíÂ∫èÔºåÁÑ∂ÂêéÊ†πÊçÆËøô‰∏™ÊéíÂ∫èÂØπ‰∫éÊàë‰ª¨Ë¶ÅËß£ÂÜ≥ÁöÑStaffËøõË°åËß£ÂÜ≥„ÄÇ‚Äù</li>
<li><strong>ÈùôÊÄÅÊéíÂ∫èÔºö</strong> Â¶ÇÊûú‰∏Ä‰∏™Âõ∫ÂÆöÁöÑ„ÄÅÂÖ®Â±ÄÁöÑÊéíÂ∫èÊ†áÂáÜËÉΩÂ§üËÆ©‰Ω†È°∫Â∫èÈÅçÂéÜÂÖÉÁ¥†Âπ∂ÂÅöÂá∫ÂÜ≥Á≠ñÔºåÈÇ£‰πàÁÆÄÂçïÁöÑ <code>sort()</code> ÈÄöÂ∏∏Â∞±Ë∂≥Â§ü‰∫ÜÔºà‰æãÂ¶ÇÔºåÊåâÂå∫Èó¥Ëµ∑ÂßãÁÇπÊàñÁªìÊùüÁÇπÊéíÂ∫èÔºâ„ÄÇ</li>
</ul>
</li>
<li><strong>‰ΩøÁî®Â†ÜÔºà‰ºòÂÖàÈòüÂàóÔºâËøõË°åÂä®ÊÄÅ‰ºòÂÖàÁ∫ßÊéíÂ∫èÔºö</strong>
<ul>
<li>ÊúâÊó∂Ôºå‚ÄúÊúÄ‰Ω≥‚ÄùÈÄâÊã©Âπ∂‰∏ç‰ªÖ‰ªÖÁî±‰∏Ä‰∏™Âõ∫ÂÆöÁöÑÂÖ®Â±ÄÊéíÂ∫èÂÜ≥ÂÆö„ÄÇÂèØÁî®ÁöÑ‚ÄúÂ∑•ÂÖ∑‚ÄùÈõÜÂêàÊàñËÄÖÈÄâÊã©ÁöÑ‰ºòÂÖàÁ∫ßÂèØËÉΩ‰ºöÈöèÁùÄ‰Ω†Â§ÑÁêÜ‰∏ªÈóÆÈ¢òÔºà‚ÄúStaff‚ÄùÔºâÁöÑËøõÂ∫¶ËÄåÂä®ÊÄÅÂèòÂåñ„ÄÇ</li>
<li>‰Ω†ÂáÜÁ°ÆÂú∞ÊåáÂá∫‰∫ÜÔºö‚ÄúÂØπ‰∫éÊù°‰ª∂Â§çÊùÇÁöÑÈ¢òÁõÆÔºåÊàë‰ª¨ÈúÄË¶Å‰ΩøÁî®ÊúÄÂ§ßÂ†ÜÊàñËÄÖÊúÄÂ∞èÂ†ÜÊù•ËøõË°åÊéíÂ∫è‚Ä¶‚Ä¶ËøôÁßçÂà§Êñ≠Êù°‰ª∂‰∏çÊòØ‰∏ÄÁßçÈùôÊÄÅÊù°‰ª∂ÔºåËÄåÊòØ‰∏ÄÁßçÂä®ÊÄÅÊõ¥Êñ∞ÁöÑÊù°‰ª∂ÔºåÊàñËÄÖËØ¥ÊòØÂú®Ëø≠‰ª£Êï∞ÁªÑ‰∏≠ÔºåÂØπ‰∫éÂ†ÜËøõË°åÊõ¥Êñ∞ÁöÑ„ÄÇ‚Äù</li>
<li><strong>‰ΩïÊó∂‰ΩøÁî®Â†ÜÔºö</strong> ÂΩì‰Ω†Âú®Ëø≠‰ª£ËøáÁ®ã‰∏≠Ôºà‰æãÂ¶ÇÔºåÈÅçÂéÜ <code>nums</code> Êï∞ÁªÑÂà∞Á¥¢Âºï <code>i</code>ÔºâÔºåÈúÄË¶ÅÂú®ÊØè‰∏™Ê≠•È™§ <code>i</code> ‰ªé‰∏Ä‰∏™Âä®ÊÄÅÂèòÂåñÁöÑÂΩìÂâç<em>Ê¥ªË∑É</em>Êàñ<em>ÂèØÁî®</em>‚ÄúÂ∑•ÂÖ∑‚ÄùÈõÜÂêà‰∏≠ÔºåÊ†πÊçÆÊüê‰∏™‰ºòÂÖàÁ∫ßÈÄâÂá∫ÊúÄ‰ºòÁöÑÈÇ£‰∏™„ÄÇÂ†ÜËÉΩÂ§üÈ´òÊïàÂú∞ÁÆ°ÁêÜËøô‰∏™Ê¥ªË∑ÉÈõÜÂêàÔºåÂπ∂Âø´ÈÄüËé∑ÂèñÊúÄÈ´òÔºàÊàñÊúÄ‰ΩéÔºâ‰ºòÂÖàÁ∫ßÁöÑÂÖÉÁ¥†„ÄÇ</li>
</ul>
</li>
<li><strong>ÂÆö‰πâÂ†ÜÁöÑÊéíÂ∫èÊ†áÂáÜÔºàË¥™ÂøÉÊ†∏ÂøÉÔºâÔºö</strong>
<ul>
<li>ËøôÈÄöÂ∏∏ÊòØÊúÄÂÖ∑ÊåëÊàòÊÄßÁöÑ‰∏ÄÊ≠•„ÄÇ‰Ω†ÈóÆÂà∞Ôºö‚ÄúÊÄé‰πàÊù•ËØ¥Êàë‰ª¨ÊâçËÉΩÂ§üË¥™ÂøÉÈÄâÊã©Ë¶ÜÁõñÊéâ‰ΩçÁΩÆiÁöÑÂå∫Èó¥‰ΩøÂæóUtilityÊúÄÂ§ßÂåñÔºüÔºà‰πüÂ∞±ÊòØÂ†ÜÁöÑÂà§Êñ≠Êù°‰ª∂Ôºâ‚Äù„ÄÇ</li>
<li>‰Ω†ÁöÑÊ¥ûÂØü‚Äî‚Äî‚ÄúÈÇ£Â∞±ÊòØËøô‰∏™Ë¶ÜÁõñ‰∫Ü‰ΩçÁΩÆiÁöÑqueryË¶ÅÂ∞ΩÂèØËÉΩÁöÑË¶ÜÁõñÊéâÊú™Êù•ÁöÑ‰ΩçÁΩÆÔºåÊâÄ‰ª•Â†ÜÊéíÂ∫èÁöÑÊù°‰ª∂Â∫îËØ•ÊòØÊúÄÂ§ßÁöÑÂå∫Èó¥Âè≥Á´ØÁÇπ‚Äù‚Äî‚ÄîÊòØÂå∫Èó¥ÈóÆÈ¢ò‰∏≠‰∏Ä‰∏™ÁªèÂÖ∏‰∏îÂæÄÂæÄÊúâÊïàÁöÑË¥™ÂøÉÂêØÂèëÂºèËßÑÂàô„ÄÇËøôÁßçÁ≠ñÁï•Êó®Âú®ËÆ©ÊØè‰∏Ä‰∏™Ë¢´ÈÄâÊã©ÁöÑÂå∫Èó¥Â∞ΩÂèØËÉΩÂú∞ÂØπÂêéÁª≠ÁöÑÈúÄÊ±Ç‰∫ßÁîü‚Äú‰ª∑ÂÄº‚Äù„ÄÇ</li>
</ul>
</li>
</ul>
<hr>
<h3 id="3-Ë¥™ÂøÉÁÆóÊ≥ïÈÖçÂêàÂ†ÜÁöÑÈÄöÁî®Ê®°ÊùøÁ±ª‰ºº‰Ω†ÁöÑÈ¢òÁõÆ"><strong>3. Ë¥™ÂøÉÁÆóÊ≥ïÈÖçÂêàÂ†ÜÁöÑÈÄöÁî®Ê®°ÊùøÔºàÁ±ª‰ºº‰Ω†ÁöÑÈ¢òÁõÆÔºâ</strong>
</h3><p>‰Ω†ÁöÑÊÄùËÄÉËøáÁ®ãÂØºÂêë‰∫ÜËøôÁ±ªÈóÆÈ¢òÁöÑ‰∏Ä‰∏™Â∏∏ËßÅËß£ÂÜ≥Ê®°ÂºèÔºö</p>
<ol>
<li>
<p><strong>È¢ÑÂ§ÑÁêÜÔºàÂèØÈÄâ‰ΩÜÂ∏∏ËßÅÔºâÔºö</strong></p>
<ul>
<li>Â¶ÇÊûúÊåâÁâπÂÆöÈ°∫Â∫èÂ§ÑÁêÜ‚ÄúÂ∑•ÂÖ∑‚ÄùÔºà‰æãÂ¶Ç <code>queries</code>ÔºâÊúâÂä©‰∫éÂêéÁª≠ÂÜ≥Á≠ñÔºåÂàôÂÖàÂØπÂÖ∂ËøõË°åÊéíÂ∫èÔºà‰æãÂ¶ÇÔºåÊåâËµ∑ÂßãÁÇπ <code>q[0]</code> ÊéíÂ∫èÔºâ„ÄÇ</li>
</ul>
</li>
<li>
<p><strong>Ëø≠‰ª£‰∏éÁä∂ÊÄÅÁÆ°ÁêÜÔºö</strong></p>
<ul>
<li>ÈÅçÂéÜ‰∏ªÈóÆÈ¢òÁöÑÂÖÉÁ¥†Ôºà‰æãÂ¶ÇÔºå<code>nums</code> Êï∞ÁªÑÔºå‰ªé <code>i = 0</code> Âà∞ <code>n-1</code>Ôºâ„ÄÇ</li>
<li>Áª¥Êä§ÂΩìÂâçÂ∑≤ÂÅöÈÄâÊã©ÁöÑ‚ÄúÁä∂ÊÄÅ‚ÄùÊàñ‚ÄúÊïàÊûú‚ÄùÔºà‰æãÂ¶ÇÔºå‰Ω†ÁöÑ <code>sum</code> ‰ª£Ë°®ÂΩìÂâçÁöÑË¶ÜÁõñÁ®ãÂ∫¶ÔºåÂØπ‰∫éÂå∫Èó¥ÈóÆÈ¢òÔºåÈÄöÂ∏∏‰ΩøÁî®<strong>Â∑ÆÂàÜÊï∞ÁªÑ</strong>Êù•ÁÆ°ÁêÜÔºâ„ÄÇ</li>
</ul>
</li>
<li>
<p><strong>Âä®ÊÄÅÊõ¥Êñ∞ÂÄôÈÄâÊ±†ÔºàÂ†ÜÔºâÔºö</strong></p>
<ul>
<li>ÂΩì‰Ω†Â§ÑÁêÜÂà∞ <code>nums[i]</code> Êó∂ÔºåÂ∞ÜÊâÄÊúâÊñ∞ËøëÂèØÁî®ÁöÑ‚ÄúÂ∑•ÂÖ∑‚ÄùÂä†ÂÖ•Â†Ü‰∏≠„ÄÇÂØπ‰∫éÂå∫Èó¥ÈóÆÈ¢òÔºåËøôÈÄöÂ∏∏ÊòØÈÇ£‰∫õËµ∑ÂßãÁÇπ <code>q[0]</code> Áé∞Âú® <code>&lt;= i</code> ÁöÑÂå∫Èó¥„ÄÇ</li>
</ul>
</li>
<li>
<p><strong>ÂÅöÂá∫Ë¥™ÂøÉÈÄâÊã©Ôºö</strong></p>
<ul>
<li>Â¶ÇÊûúÂΩìÂâçÁä∂ÊÄÅ‰∏çÊª°Ë∂≥Âú® <code>i</code> ÁÇπÁöÑÈúÄÊ±ÇÔºà‰æãÂ¶ÇÔºå<code>sum &lt; nums[i]</code>ÔºâÔºö
<ul>
<li>Ê£ÄÊü•Â†Ü‰∏≠ÊòØÂê¶ÊúâÊúâÊïàÁöÑÂÄôÈÄâËÄÖÔºà‰æãÂ¶ÇÔºå<code>!pq.empty()</code> Âπ∂‰∏îÂ†ÜÈ°∂ÁöÑÂå∫Èó¥Á°ÆÂÆûË¶ÜÁõñ‰∫Ü <code>i</code>ÔºåÂ¶Ç <code>pq.top().b &gt;= i</code>Ôºâ„ÄÇ</li>
<li>Â¶ÇÊûúÊúâÔºåÊ†πÊçÆ‰Ω†ÁöÑË¥™ÂøÉÊ†áÂáÜ‰ªéÂ†Ü‰∏≠ÈÄâÊã©‚ÄúÊúÄ‰Ω≥‚ÄùÁöÑ‰∏Ä‰∏™Ôºà‰æãÂ¶ÇÔºåÂºπÂá∫ÂÖ∑ÊúâÊúÄÂ§ßÂè≥Á´ØÁÇπ <code>b</code> ÁöÑÂå∫Èó¥Ôºâ„ÄÇ</li>
<li>Ê†πÊçÆËøô‰∏™ÈÄâÊã©Êõ¥Êñ∞‰Ω†ÁöÑÁä∂ÊÄÅÔºà‰æãÂ¶ÇÔºå<code>sum++</code>ÔºåÂπ∂Êõ¥Êñ∞Â∑ÆÂàÜÊï∞ÁªÑ‰ª•ÂèçÊò†ÊâÄÈÄâÂå∫Èó¥ÁöÑÊïàÊûúÔºö<code>diff_nums[pq.top().b + 1]--</code>Ôºâ„ÄÇ</li>
<li>ÈáçÂ§çÊ≠§ËøáÁ®ãÔºåÁõ¥Âà∞Âú® <code>i</code> ÁÇπÁöÑÈúÄÊ±ÇÂæóÂà∞Êª°Ë∂≥ÔºåÊàñËÄÖÂ†Ü‰∏≠Ê≤°ÊúâÊõ¥Â§öÊúâÊïàÁöÑÂÄôÈÄâËÄÖ„ÄÇ</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Ê£ÄÊü•ÂèØË°åÊÄßÔºö</strong></p>
<ul>
<li>Âú®Â∞ùËØïÂÅöÂá∫Ë¥™ÂøÉÈÄâÊã©ÂêéÔºåÂ¶ÇÊûúÂú® <code>i</code> ÁÇπÁöÑÈúÄÊ±Ç‰ªçÁÑ∂Êú™Ë¢´Êª°Ë∂≥ÔºåÈÇ£‰πàÂ∞±Êó†Ê≥ïÊª°Ë∂≥ÊâÄÊúâÊù°‰ª∂ÔºåÊ≠§Êó∂ÂèØËÉΩËøîÂõû <code>-1</code> ÊàñÂÖ∂‰ªñÁõ∏Â∫îÁöÑÂ§±Ë¥•ÊåáÁ§∫„ÄÇ</li>
</ul>
</li>
<li>
<p><strong>ÊúÄÁªàÁªìÊûúÔºö</strong></p>
<ul>
<li>ÁªìÊûúÂèØËÉΩÊòØÂ∑≤ÂÅöÈÄâÊã©ÁöÑËÆ°Êï∞„ÄÅÂ†ÜÁöÑÊúÄÁªàÁä∂ÊÄÅÔºàÂú®‰Ω†ÁöÑ‰æãÂ≠ê‰∏≠ÊòØ <code>pq.size()</code>Ôºå‰ª£Ë°®‰∫ÜÈÇ£‰∫õÂèØÁî®‰ΩÜÊú™Ë¢´‰ΩøÁî®ÁöÑÁâ©ÂìÅÔºâÔºåÊàñÊ†πÊçÆÂÖ∑‰ΩìÈóÆÈ¢òÂÆö‰πâÁöÑÂÖ∂‰ªñÂÄº„ÄÇ</li>
</ul>
</li>
</ol>
<hr>
<h3 id="‰∏∫‰ªÄ‰πà‰ΩøÁî®Â∑ÆÂàÜÊï∞ÁªÑ"><strong>‰∏∫‰ªÄ‰πà‰ΩøÁî®Â∑ÆÂàÜÊï∞ÁªÑÔºüü§î</strong>
</h3><p>‰Ω†ÊèêÂà∞Ôºö‚ÄúÂú®Êàë‰ª¨ÈÄâÊã©‰∫ÜÊüê‰∏Ä‰∏™queryÁöÑÊó∂ÂÄôÔºåÊÄé‰πàÂØπ‰∫éÊú™Êù•‰ΩçÁΩÆÁöÑi+1Ôºåi+2ÔºåÔºåÔºåËµ∑Âà∞‰ΩúÁî®ÁöÑ„ÄÇËøôÈáåÊàë‰ª¨‰ΩøÁî®ÁöÑÊòØÂ∑ÆÂàÜÊï∞ÁªÑ„ÄÇËøôÈáåÁöÑÊÄùË∑ØÊØîËæÉÂ§çÊùÇÔºåÊâÄ‰ª•Êàë‰ª¨Áõ¥Êé•ÁúãÈ¢òËß£„ÄÇ‚Äù</p>
<ul>
<li><strong>Â∑ÆÂàÜÊï∞ÁªÑ</strong>ÊòØ‰∏ÄÁßçËÉΩÂ§üÈ´òÊïàÂ§ÑÁêÜÂå∫Èó¥Êõ¥Êñ∞ÁöÑÊäÄÊúØ„ÄÇÂΩì‰Ω†ÈÄâÊã©‰∏Ä‰∏™Âå∫Èó¥ <code>[start, end]</code> Êù•ÊñΩÂä†ÊüêÁßçÊïàÊûúÔºàÊØîÂ¶ÇË¶ÜÁõñÂ∫¶Â¢ûÂä†1ÔºâÊó∂Ôºå‰Ω†‰∏çÈúÄË¶ÅÈÅçÂéÜ‰ªé <code>start</code> Âà∞ <code>end</code> ÁöÑÊâÄÊúâÁÇπÊù•Êõ¥Êñ∞‰∏Ä‰∏™Áõ¥Êé•ËÆ∞ÂΩïË¶ÜÁõñÂ∫¶ÁöÑÊï∞ÁªÑÔºåËÄåÊòØÂèØ‰ª•Ôºö
<ul>
<li>‰Ωø <code>diff[start]</code> Â¢ûÂä† 1„ÄÇ</li>
<li>‰Ωø <code>diff[end + 1]</code> ÂáèÂ∞ë 1„ÄÇ</li>
</ul>
</li>
<li>ÁÑ∂ÂêéÔºå‰ªª‰ΩïÁÇπ <code>i</code> ÁöÑÂÆûÈôÖË¶ÜÁõñÂ∫¶ÂèØ‰ª•ÈÄöËøáËÆ°ÁÆóÂ∑ÆÂàÜÊï∞ÁªÑ <code>diff</code> Âà∞ <code>i</code> ‰∏∫Ê≠¢ÁöÑÂâçÁºÄÂíåÊù•ÂæóÂà∞ÔºàËøôÊ≠£ÊòØ‰Ω†ÁöÑ <code>sum += diff_nums[i]</code> Ê≠•È™§ÊâÄÂÅöÁöÑ‰∫ãÊÉÖÔºâ„ÄÇ</li>
<li>ÂΩìÊ∂âÂèäÂà∞Â§ßÈáèÂå∫Èó¥Êõ¥Êñ∞Êó∂ÔºåËøôÁßçÊñπÊ≥ïËá≥ÂÖ≥ÈáçË¶ÅÔºåÂõ†‰∏∫ÊØèÊ¨°ÈÄâÊã©Âå∫Èó¥Âè™ÈúÄË¶ÅÂØπÂ∑ÆÂàÜÊï∞ÁªÑËøõË°å‰∏§Ê¨°Êõ¥Êñ∞ÔºåËÄå‰∏çÊòØÂØπ‰∏Ä‰∏™Áõ¥Êé•ÁöÑË¶ÜÁõñÊï∞ÁªÑËøõË°åÂèØËÉΩÂæàÂ§öÊ¨°ÁöÑÊõ¥Êñ∞Ôºå‰ªéËÄåÂ§ßÂ§ßÊèêÈ´ò‰∫ÜÊïàÁéá„ÄÇ</li>
</ul>
<hr>
<p>Ëøô‰∏™Ê∫ê‰∫é‰Ω†Ëá™Ë∫´Ê¥ûÂØüÁöÑÁªìÊûÑÂåñÊñπÊ≥ïÔºå‰∏∫‰Ω†Ëß£ÂÜ≥Á±ª‰ººÁöÑË¥™ÂøÉ‰ºòÂåñÈóÆÈ¢òÔºàÂ∞§ÂÖ∂ÊòØÊ∂âÂèäÂå∫Èó¥ÂíåÂä®ÊÄÅÈÄâÊã©ÁöÑÈóÆÈ¢òÔºâÊèê‰æõ‰∫Ü‰∏Ä‰∏™ÂùöÂÆûÁöÑÊ°ÜÊû∂„ÄÇÂÖ≥ÈîÆÂßãÁªàÂú®‰∫éÊ∏ÖÊô∞Âú∞ÂÆö‰πâÂ±ÄÈÉ®ÊúÄ‰ºòÈÄâÊã©ÔºàË¥™ÂøÉÈÄâÊã©Ôºâ‰ª•ÂèäÂ¶Ç‰ΩïËøõË°åËøôÁßçÈÄâÊã©ÔºàÈÄöËøáÊéíÂ∫èÊàñÂ†ÜÁöÑ‰ºòÂÖàÁ∫ßÔºâ„ÄÇ</p>
<h2 id="ÂõæÁöÑÊãìÊâëÊéíÂ∫è">ÂõæÁöÑÊãìÊâëÊéíÂ∫è
</h2><p>Âú®‰ªÄ‰πàÊó∂ÂÄôÈúÄË¶ÅÂØπ‰∫é‰∏Ä‰∏™ÂõæËøõË°åÊãìÊâëÊéíÂ∫èÔºö</p>
<p>Ê±ÇËß£ÂõæÁöÑÊüê‰∏ÄÊù°Ë∑ØÂæÑÔºåÂú®Ê±ÇËß£ÊØè‰∏Ä‰∏™ËäÇÁÇπÁöÑÊó∂ÂÄôÈúÄË¶ÅÂÖàÂ§ÑÁêÜÂÆÉÁöÑÂ≠êËäÇÁÇπÔºåÂõæ‰∏çÁªôÊ†πËäÇÁÇπÁöÑÊó∂ÂÄôÔºåËøô‰∏™Êó∂ÂÄôÂè™Ë¶Å‰ºòÂÖàËøõË°åÊãìÊâëÊéíÂ∫èÔºåÂ∞±ËÉΩÂ§üÂÖàÂ§ÑÁêÜÂ•ΩËäÇÁÇπ‰πãÈó¥ÁöÑ‰æùËµñÂÖ≥Á≥ªÔºåÂπ∂‰∏îËÉΩÂ§ü‰ªé‰æùËµñÊúÄÂ∞èÁöÑËäÇÁÇπÂºÄÂßãÊåâÁÖßÊãìÊâëÂ∫èÊù•ËøõË°åÂä®ÊÄÅËßÑÂàí„ÄÇ</p>
<h3 id="dfs-ÊãìÊâëÊéíÂ∫èÁÆóÊ≥ï">DFS ÊãìÊâëÊéíÂ∫èÁÆóÊ≥ï
</h3><p>DFS ÊãìÊâëÊéíÂ∫èÁÆóÊ≥ïÈÄöËøáÊ∑±Â∫¶‰ºòÂÖàÈÅçÂéÜÂõæÔºåÂπ∂Âú®ÂõûÊ∫ØÊó∂Â∞ÜËäÇÁÇπÊ∑ªÂä†Âà∞ÁªìÊûúÂàóË°®‰∏≠„ÄÇËøôÁßçÊñπÊ≥ïÂæóÂà∞ÁöÑÊãìÊâëÂ∫èÂàóÊòØ<strong>ÈÄÜÊãìÊâëÂ∫è</strong>ÔºåÂç≥Â¶ÇÊûúÂ≠òÂú®‰ªé A Âà∞ B ÁöÑËæπÔºåÈÇ£‰πàÂú®ÁªìÊûú‰∏≠ B ‰ºöÂá∫Áé∞Âú® A ‰πãÂâç„ÄÇ</p>
<p><strong>1. Ê†∏ÂøÉÊÄùÊÉ≥</strong></p>
<ul>
<li>ÂØπÂõæËøõË°åÊ∑±Â∫¶‰ºòÂÖàÈÅçÂéÜ„ÄÇ</li>
<li>‰ΩøÁî®‰∏Ä‰∏™ <code>visited</code> Êï∞ÁªÑÊù•Ê†áËÆ∞ËäÇÁÇπÁöÑËÆøÈóÆÁä∂ÊÄÅÔºåÂêåÊó∂Áî®‰∫éÊ£ÄÊµãÁéØ„ÄÇ</li>
<li>ÂΩì‰∏Ä‰∏™ËäÇÁÇπÁöÑÊâÄÊúâÈÇªÊé•ÔºàÂ≠êÔºâËäÇÁÇπÈÉΩÂ∑≤ËÆøÈóÆÂÆåÊØïÂêéÔºåÂ∞ÜÂÖ∂Ê∑ªÂä†Âà∞ÊãìÊâëÊéíÂ∫èÁöÑÁªìÊûúÂàóË°®‰∏≠„ÄÇ</li>
</ul>
<p><strong>2. ËäÇÁÇπÁä∂ÊÄÅÂÆö‰πâ</strong></p>
<ul>
<li><code>visited[i] = 0</code>: ËäÇÁÇπ <code>i</code> Êú™Ë¢´ËÆøÈóÆ„ÄÇ</li>
<li><code>visited[i] = 1</code>: ËäÇÁÇπ <code>i</code> Ê≠£Âú®Ë¢´ËÆøÈóÆÔºà‰Ωç‰∫éÂΩìÂâç DFS ÈÄíÂΩíÊ†à‰∏≠ÔºâÔºåÁî®‰∫éÊ£ÄÊµãÁéØ„ÄÇ</li>
<li><code>visited[i] = 2</code>: ËäÇÁÇπ <code>i</code> Â∑≤Ë¢´ÂÆåÂÖ®ËÆøÈóÆÔºàÂÖ∂ÊâÄÊúâÂêéÁªßËäÇÁÇπÈÉΩÂ∑≤Â§ÑÁêÜÂÆåÊØïÔºâ„ÄÇ</li>
</ul>
<p><strong>3. ÁÆóÊ≥ïÊ≠•È™§</strong></p>
<ol>
<li>
<p><strong>ÂàùÂßãÂåñÔºö</strong></p>
<ul>
<li><code>adj</code>ÔºöÂõæÁöÑÈÇªÊé•Ë°®„ÄÇ</li>
<li><code>visited</code>ÔºöÂ§ßÂ∞è‰∏∫ <code>N</code> ÁöÑÊï∞ÁªÑÔºåÊâÄÊúâÂÖÉÁ¥†ÂàùÂßãÂåñ‰∏∫ <code>0</code>„ÄÇ</li>
<li><code>topological_order</code>ÔºöÁ©∫ÂàóË°®ÔºåÁî®‰∫éÂ≠òÂÇ®ÊãìÊâëÊéíÂ∫èÁªìÊûú„ÄÇ</li>
<li><code>has_cycle</code>ÔºöÂ∏ÉÂ∞îÂèòÈáèÔºåÂàùÂßãÂåñ‰∏∫ <code>false</code>„ÄÇ</li>
</ul>
</li>
<li>
<p><strong>‰∏ªÂæ™ÁéØÔºö</strong></p>
<ul>
<li>ÈÅçÂéÜÂõæ‰∏≠ÁöÑÊØè‰∏Ä‰∏™ËäÇÁÇπ <code>i</code> ‰ªé <code>0</code> Âà∞ <code>N-1</code>„ÄÇ</li>
<li>Â¶ÇÊûú <code>visited[i] == 0</code>ÔºàÂç≥ËäÇÁÇπÊú™Ë¢´ËÆøÈóÆÔºâÔºö
<ul>
<li>Ë∞ÉÁî® <code>dfs(i, adj, visited, topological_order, has_cycle)</code>„ÄÇ</li>
<li>Â¶ÇÊûú <code>has_cycle</code> Âèò‰∏∫ <code>true</code>ÔºåÂàôÂõæÂåÖÂê´ÁéØÔºåÊãìÊâëÊéíÂ∫èÂ§±Ë¥•ÔºàËøîÂõûÈîôËØØÊàñÁ©∫ÂàóË°®Ôºâ„ÄÇ</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>DFS ÂáΩÊï∞ <code>dfs(node, adj, visited, topological_order, has_cycle)</code>Ôºö</strong></p>
<ul>
<li>Â∞Ü <code>visited[node]</code> ËÆæÁΩÆ‰∏∫ <code>1</code>ÔºàËÆøÈóÆ‰∏≠Ôºâ„ÄÇ</li>
<li><strong>ÈÅçÂéÜ <code>node</code> ÁöÑÊâÄÊúâÈÇªÊé•ÔºàÂêéÁªßÔºâËäÇÁÇπ <code>neighbor</code>Ôºö</strong>
<ul>
<li>Â¶ÇÊûú <code>has_cycle</code> Â∑≤Áªè‰∏∫ <code>true</code>ÔºåÁõ¥Êé•ËøîÂõûÔºàÂâ™ÊûùÔºâ„ÄÇ</li>
<li>Â¶ÇÊûú <code>visited[neighbor] == 1</code>Ôºö
<ul>
<li>ÂèëÁé∞ÁéØÔºÅÂ∞Ü <code>has_cycle</code> ËÆæÁΩÆ‰∏∫ <code>true</code>ÔºåÂπ∂ËøîÂõû„ÄÇ</li>
</ul>
</li>
<li>Â¶ÇÊûú <code>visited[neighbor] == 0</code>Ôºö
<ul>
<li>ÈÄíÂΩíË∞ÉÁî® <code>dfs(neighbor, adj, visited, topological_order, has_cycle)</code>„ÄÇ</li>
</ul>
</li>
</ul>
</li>
<li>ÂΩì <code>node</code> ÁöÑÊâÄÊúâÈÇªÊé•ËäÇÁÇπÈÉΩÂ§ÑÁêÜÂÆåÊØïÂêéÔºö
<ul>
<li>Â∞Ü <code>visited[node]</code> ËÆæÁΩÆ‰∏∫ <code>2</code>ÔºàÂ∑≤ËÆøÈóÆÔºâ„ÄÇ</li>
<li>Â∞Ü <code>node</code> Ê∑ªÂä†Âà∞ <code>topological_order</code> ÂàóË°®ÁöÑ<strong>Êú´Â∞æ</strong>„ÄÇ</li>
</ul>
</li>
</ul>
</li>
</ol>
<p><strong>4. ÁªìÊûú</strong></p>
<ul>
<li>Â¶ÇÊûú <code>has_cycle</code> ‰∏∫ <code>true</code>ÔºåÂàôÂõæ‰∏çÊòØÊúâÂêëÊó†ÁéØÂõæÔºàDAGÔºâÔºåÊó†Ê≥ïËøõË°åÊãìÊâëÊéíÂ∫è„ÄÇ</li>
<li>Âê¶ÂàôÔºå<code>topological_order</code> ÂàóË°®ÂåÖÂê´ÂõæÁöÑÈÄÜÊãìÊâëÊéíÂ∫è„ÄÇÂ¶ÇÊûúÈúÄË¶ÅÊ≠£ÊãìÊâëÂ∫èÔºåÂ∞ÜËØ•ÂàóË°®ÂèçËΩ¨Âç≥ÂèØ„ÄÇ</li>
</ul>
<hr>
<p><strong>C++ ‰ª£Á†ÅÁ§∫‰æã</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;vector&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;algorithm&gt;</span><span class="cp"> </span><span class="c1">// For std::reverse
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// visited Êï∞ÁªÑÁä∂ÊÄÅÔºö
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// 0: Êú™ËÆøÈóÆ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// 1: ËÆøÈóÆ‰∏≠ÔºàÊ≠£Âú®ÂΩìÂâç DFS ÈÄíÂΩíÊ†à‰∏≠Ôºâ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// 2: Â∑≤ËÆøÈóÆÔºàDFS Â∑≤Áªè‰ªéËØ•ËäÇÁÇπÂèäÂÖ∂ÊâÄÊúâÂ≠êËäÇÁÇπËøîÂõûÔºâ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kt">void</span> <span class="n">dfs_toposort</span><span class="p">(</span><span class="kt">int</span> <span class="n">node</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                      <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;&amp;</span> <span class="n">adj</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                      <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">visited</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                      <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">topological_order</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                      <span class="kt">bool</span><span class="o">&amp;</span> <span class="n">has_cycle</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="c1">// Â¶ÇÊûúÂ∑≤ÁªèÊ£ÄÊµãÂà∞ÁéØÔºåÁõ¥Êé•ËøîÂõûÔºå‰∏çÂÜçËøõË°åÂêéÁª≠ÈÅçÂéÜ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">if</span> <span class="p">(</span><span class="n">has_cycle</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// Ê†áËÆ∞ÂΩìÂâçËäÇÁÇπ‰∏∫‚ÄúËÆøÈóÆ‰∏≠‚Äù
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="n">visited</span><span class="p">[</span><span class="n">node</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// ÈÅçÂéÜÂΩìÂâçËäÇÁÇπÁöÑÊâÄÊúâÈÇªÊé•ÁÇπÔºàÂêéÁªßËäÇÁÇπÔºâ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="nl">neighbor</span> <span class="p">:</span> <span class="n">adj</span><span class="p">[</span><span class="n">node</span><span class="p">])</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="p">(</span><span class="n">visited</span><span class="p">[</span><span class="n">neighbor</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// ÂèëÁé∞ÁéØÔºöÂ¶ÇÊûúÈÇªÊé•ÁÇπÊ≠£Âú®ËÆøÈóÆ‰∏≠ÔºåËØ¥ÊòéÊúâÁéØ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                <span class="n">has_cycle</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                <span class="k">return</span><span class="p">;</span> <span class="c1">// Á´ãÂç≥ËøîÂõû
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="p">(</span><span class="n">visited</span><span class="p">[</span><span class="n">neighbor</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// Â¶ÇÊûúÈÇªÊé•ÁÇπÊú™ËÆøÈóÆÔºåÂàôÈÄíÂΩíË∞ÉÁî® DFS
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                <span class="n">dfs_toposort</span><span class="p">(</span><span class="n">neighbor</span><span class="p">,</span> <span class="n">adj</span><span class="p">,</span> <span class="n">visited</span><span class="p">,</span> <span class="n">topological_order</span><span class="p">,</span> <span class="n">has_cycle</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                <span class="k">if</span> <span class="p">(</span><span class="n">has_cycle</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// ÈÄíÂΩíË∞ÉÁî®ËøîÂõûÂêéÔºåÂÜçÊ¨°Ê£ÄÊü•ÊòØÂê¶ÂèëÁé∞ÁéØ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                    <span class="k">return</span><span class="p">;</span> <span class="c1">// Â¶ÇÊûúÂèëÁé∞ÁéØÔºåÁõ¥Êé•Âêë‰∏äËøîÂõû
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// ÂΩìÊâÄÊúâÈÇªÊé•ÁÇπÈÉΩÂ§ÑÁêÜÂÆåÊØïÂêéÔºåÂ∞ÜÂΩìÂâçËäÇÁÇπÊ†áËÆ∞‰∏∫‚ÄúÂ∑≤ËÆøÈóÆ‚Äù
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="n">visited</span><span class="p">[</span><span class="n">node</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// Â∞ÜËäÇÁÇπÂä†ÂÖ•ÊãìÊâëÊéíÂ∫èÁªìÊûú„ÄÇÁî±‰∫éÊòØ DFS ÂõûÊ∫ØÊó∂Âä†ÂÖ•Ôºåtopological_order Â∞ÜÊòØÈÄÜÊãìÊâëÂ∫è„ÄÇ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="n">topological_order</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">node</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// ‰∏ªÂáΩÊï∞ÔºåÊâßË°åÊãìÊâëÊéíÂ∫è
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">getTopologicalOrder</span><span class="p">(</span><span class="kt">int</span> <span class="n">num_nodes</span><span class="p">,</span> <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;&amp;</span> <span class="n">edges</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">adj</span><span class="p">(</span><span class="n">num_nodes</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="p">(</span><span class="k">const</span> <span class="k">auto</span><span class="o">&amp;</span> <span class="nl">edge</span> <span class="p">:</span> <span class="n">edges</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">adj</span><span class="p">[</span><span class="n">edge</span><span class="p">[</span><span class="mi">0</span><span class="p">]].</span><span class="n">push_back</span><span class="p">(</span><span class="n">edge</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">visited</span><span class="p">(</span><span class="n">num_nodes</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">topological_order</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kt">bool</span> <span class="n">has_cycle</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// ÂØπÊâÄÊúâÊú™ËÆøÈóÆÁöÑËäÇÁÇπËøõË°å DFSÔºåÊûÑÂª∫ÊãìÊâëÊéíÂ∫èÂ∫èÂàóÂπ∂Ê£ÄÊµãÁéØ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">num_nodes</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="p">(</span><span class="n">visited</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="n">dfs_toposort</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">adj</span><span class="p">,</span> <span class="n">visited</span><span class="p">,</span> <span class="n">topological_order</span><span class="p">,</span> <span class="n">has_cycle</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                <span class="k">if</span> <span class="p">(</span><span class="n">has_cycle</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// Â¶ÇÊûúÂú®Êüê‰∏™ DFS Ë∑ØÂæÑ‰∏≠ÂèëÁé∞ÁéØÔºåÂàôËøîÂõûÁ©∫ÂàóË°®ÊàñÊäõÂá∫ÂºÇÂ∏∏
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                    <span class="k">return</span> <span class="p">{};</span> <span class="c1">// Ë°®Á§∫Â≠òÂú®ÁéØÔºåÊó†Ê≥ïËøõË°åÊãìÊâëÊéíÂ∫è
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// ÂæóÂà∞ÁöÑ topological_order ÊòØÈÄÜÊãìÊâëÂ∫èÔºåÈúÄË¶ÅÂèçËΩ¨ÂæóÂà∞Ê≠£ÊãìÊâëÂ∫è
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="n">std</span><span class="o">::</span><span class="n">reverse</span><span class="p">(</span><span class="n">topological_order</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">topological_order</span><span class="p">.</span><span class="n">end</span><span class="p">());</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">topological_order</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="kahn-ÁÆóÊ≥ï-Âü∫‰∫éÂÖ•Â∫¶">Kahn ÁÆóÊ≥ï (Âü∫‰∫éÂÖ•Â∫¶)
</h3><p>Kahn ÁÆóÊ≥ïÊòØÂè¶‰∏ÄÁßçÂÆûÁé∞ÊãìÊâëÊéíÂ∫èÁöÑÂ∏∏Áî®ÊñπÊ≥ïÔºåÂÆÉÂü∫‰∫é‰∏çÊñ≠ÁßªÈô§Âõæ‰∏≠ÂÖ•Â∫¶‰∏∫ 0 ÁöÑËäÇÁÇπ„ÄÇ</p>
<p><strong>1. Ê†∏ÂøÉÊÄùÊÉ≥</strong></p>
<ul>
<li>ÊâæÂá∫Âõæ‰∏≠ÊâÄÊúâÂÖ•Â∫¶‰∏∫ 0 ÁöÑËäÇÁÇπÔºàÂç≥Ê≤°ÊúâÂâçÁΩÆ‰æùËµñÁöÑËäÇÁÇπÔºâ„ÄÇ</li>
<li>Â∞ÜËøô‰∫õËäÇÁÇπÂä†ÂÖ•Âà∞‰∏Ä‰∏™ÈòüÂàó‰∏≠„ÄÇ</li>
<li>‰ªéÈòüÂàó‰∏≠ÂèñÂá∫‰∏Ä‰∏™ËäÇÁÇπÔºåÂ∞ÜÂÖ∂Ê∑ªÂä†Âà∞ÊãìÊâëÊéíÂ∫èÁªìÊûú‰∏≠ÔºåÂπ∂‚ÄúÁßªÈô§‚ÄùÂÆÉÔºåÂêåÊó∂Êõ¥Êñ∞ÂÖ∂ÊâÄÊúâÈÇªÊé•ËäÇÁÇπÁöÑÂÖ•Â∫¶„ÄÇ</li>
<li>ÈáçÂ§ç‰∏äËø∞ËøáÁ®ãÔºåÁõ¥Âà∞ÈòüÂàó‰∏∫Á©∫„ÄÇ</li>
</ul>
<p><strong>2. ÁÆóÊ≥ïÊ≠•È™§</strong></p>
<ol>
<li>
<p><strong>ÂàùÂßãÂåñÔºö</strong></p>
<ul>
<li><code>adj</code>ÔºöÂõæÁöÑÈÇªÊé•Ë°®„ÄÇ</li>
<li><code>indegree</code>ÔºöÂ§ßÂ∞è‰∏∫ <code>N</code> ÁöÑÊï∞ÁªÑÔºå<code>indegree[i]</code> Â≠òÂÇ®ËäÇÁÇπ <code>i</code> ÁöÑÂÖ•Â∫¶„ÄÇ</li>
<li><code>q</code>Ôºö‰∏Ä‰∏™ÈòüÂàó„ÄÇ</li>
<li><code>topological_order</code>ÔºöÁ©∫ÂàóË°®ÔºåÁî®‰∫éÂ≠òÂÇ®ÊãìÊâëÊéíÂ∫èÁªìÊûú„ÄÇ</li>
</ul>
</li>
<li>
<p><strong>ËÆ°ÁÆóÊâÄÊúâËäÇÁÇπÁöÑÂÖ•Â∫¶Ôºö</strong></p>
<ul>
<li>ÈÅçÂéÜÂõæ‰∏≠ÁöÑÊâÄÊúâËæπ <code>(u, v)</code>„ÄÇ</li>
<li>ÂØπ‰∫éÊØèÊù°ËæπÔºåÂ∞Ü <code>indegree[v]</code> Âä† 1„ÄÇ</li>
</ul>
</li>
<li>
<p><strong>ÂàùÂßãÂåñÈòüÂàóÔºö</strong></p>
<ul>
<li>ÈÅçÂéÜÊâÄÊúâËäÇÁÇπ <code>i</code> ‰ªé <code>0</code> Âà∞ <code>N-1</code>„ÄÇ</li>
<li>Â¶ÇÊûú <code>indegree[i] == 0</code>ÔºåÂ∞ÜËäÇÁÇπ <code>i</code> Âä†ÂÖ•ÈòüÂàó <code>q</code>„ÄÇ</li>
</ul>
</li>
<li>
<p><strong>‰∏ªÂæ™ÁéØ (BFS ËøáÁ®ã)Ôºö</strong></p>
<ul>
<li>ÂΩìÈòüÂàó <code>q</code> ‰∏ç‰∏∫Á©∫Êó∂Ôºö
<ul>
<li>‰ªéÈòüÂàó <code>q</code> ‰∏≠ÂèñÂá∫ÈòüÂ§¥ËäÇÁÇπ <code>u</code>„ÄÇ</li>
<li>Â∞Ü <code>u</code> Ê∑ªÂä†Âà∞ <code>topological_order</code> ÂàóË°®ÁöÑ<strong>Êú´Â∞æ</strong>„ÄÇ</li>
<li><strong>ÈÅçÂéÜ <code>u</code> ÁöÑÊâÄÊúâÈÇªÊé•ÔºàÂêéÁªßÔºâËäÇÁÇπ <code>v</code>Ôºö</strong>
<ul>
<li>Â∞Ü <code>indegree[v]</code> Âáè 1ÔºàË°®Á§∫ÁßªÈô§‰∫Ü <code>u</code> ÂØπ <code>v</code> ÁöÑ‰æùËµñÔºâ„ÄÇ</li>
<li>Â¶ÇÊûú <code>indegree[v]</code> Âèò‰∏∫ <code>0</code>ÔºåÂàôÂ∞Ü <code>v</code> Âä†ÂÖ•ÈòüÂàó <code>q</code>„ÄÇ</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ol>
<p><strong>5. ÁéØÊ£ÄÊµã</strong></p>
<ul>
<li>Âú®ÁÆóÊ≥ïÁªìÊùüÂêéÔºåÊ£ÄÊü• <code>topological_order</code> ÂàóË°®ÁöÑÈïøÂ∫¶„ÄÇ</li>
<li>Â¶ÇÊûú <code>topological_order.size()</code> Á≠â‰∫éÂõæ‰∏≠ÁöÑÊÄªËäÇÁÇπÊï∞ <code>N</code>ÔºåÂàôË°®Á§∫ÊàêÂäüÊûÑÂª∫‰∫ÜÊãìÊâëÊéíÂ∫èÔºåÂõæ‰∏≠Êó†ÁéØ„ÄÇ</li>
<li>Â¶ÇÊûú <code>topological_order.size()</code> Â∞è‰∫é <code>N</code>ÔºåÂàôË°®Á§∫Âõæ‰∏≠Â≠òÂú®ÁéØÔºåÊó†Ê≥ïÂØπÊâÄÊúâËäÇÁÇπËøõË°åÊãìÊâëÊéíÂ∫è„ÄÇ</li>
</ul>
<hr>
<p><strong>C++ ‰ª£Á†ÅÁ§∫‰æã</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;vector&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;queue&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;algorithm&gt;</span><span class="cp"> </span><span class="c1">// Not strictly needed for Kahn, but common utilities
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Ëé∑ÂèñÂõæÁöÑÊãìÊâëÊéíÂ∫èÔºàKahn ÁÆóÊ≥ïÔºâ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">getTopologicalOrder</span><span class="p">(</span><span class="kt">int</span> <span class="n">num_nodes</span><span class="p">,</span> <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;&amp;</span> <span class="n">edges</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// ÈÇªÊé•Ë°®ÔºåÂ≠òÂÇ®ÂõæÁöÑËæπ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">adj</span><span class="p">(</span><span class="n">num_nodes</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// ÂÖ•Â∫¶Êï∞ÁªÑÔºåÂ≠òÂÇ®ÊØè‰∏™ËäÇÁÇπÁöÑÂÖ•Â∫¶
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">indegree</span><span class="p">(</span><span class="n">num_nodes</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// ÊûÑÂª∫ÂõæÂíåËÆ°ÁÆóÂÖ•Â∫¶
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">for</span> <span class="p">(</span><span class="k">const</span> <span class="k">auto</span><span class="o">&amp;</span> <span class="nl">edge</span> <span class="p">:</span> <span class="n">edges</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="kt">int</span> <span class="n">u</span> <span class="o">=</span> <span class="n">edge</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">            <span class="kt">int</span> <span class="n">v</span> <span class="o">=</span> <span class="n">edge</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">            <span class="n">adj</span><span class="p">[</span><span class="n">u</span><span class="p">].</span><span class="n">push_back</span><span class="p">(</span><span class="n">v</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="n">indegree</span><span class="p">[</span><span class="n">v</span><span class="p">]</span><span class="o">++</span><span class="p">;</span> <span class="c1">// ËäÇÁÇπ v ÁöÑÂÖ•Â∫¶Â¢ûÂä† 1
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// ÊãìÊâëÊéíÂ∫è‰ΩøÁî®ÁöÑÈòüÂàó
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="n">std</span><span class="o">::</span><span class="n">queue</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">q</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// Â≠òÂÇ®ÊãìÊâëÊéíÂ∫èÁªìÊûú
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">topological_order</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// Â∞ÜÊâÄÊúâÂÖ•Â∫¶‰∏∫ 0 ÁöÑËäÇÁÇπÂä†ÂÖ•ÈòüÂàó
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">num_nodes</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="p">(</span><span class="n">indegree</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="n">q</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// BFS ÈÅçÂéÜËøáÁ®ã
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">while</span> <span class="p">(</span><span class="o">!</span><span class="n">q</span><span class="p">.</span><span class="n">empty</span><span class="p">())</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="kt">int</span> <span class="n">u</span> <span class="o">=</span> <span class="n">q</span><span class="p">.</span><span class="n">front</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">            <span class="n">q</span><span class="p">.</span><span class="n">pop</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">            <span class="n">topological_order</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">u</span><span class="p">);</span> <span class="c1">// Â∞ÜÂΩìÂâçËäÇÁÇπÂä†ÂÖ•ÁªìÊûú
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">            <span class="c1">// ÈÅçÂéÜ u ÁöÑÊâÄÊúâÈÇªÊé•ÁÇπ v
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="nl">v</span> <span class="p">:</span> <span class="n">adj</span><span class="p">[</span><span class="n">u</span><span class="p">])</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="n">indegree</span><span class="p">[</span><span class="n">v</span><span class="p">]</span><span class="o">--</span><span class="p">;</span> <span class="c1">// ÁßªÈô§ u ÂØπ v ÁöÑ‰æùËµñÔºåv ÁöÑÂÖ•Â∫¶Âáè 1
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                <span class="k">if</span> <span class="p">(</span><span class="n">indegree</span><span class="p">[</span><span class="n">v</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// Â¶ÇÊûú v ÁöÑÂÖ•Â∫¶Âèò‰∏∫ 0ÔºåÂàôÂä†ÂÖ•ÈòüÂàó
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                    <span class="n">q</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">v</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// ÁéØÊ£ÄÊµãÔºöÂ¶ÇÊûúÊãìÊâëÊéíÂ∫èÁªìÊûúÁöÑËäÇÁÇπÊï∞Èáè‰∏çÁ≠â‰∫éÂõæÁöÑÊÄªËäÇÁÇπÊï∞ÈáèÔºåËØ¥ÊòéÂ≠òÂú®ÁéØ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">if</span> <span class="p">(</span><span class="n">topological_order</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">!=</span> <span class="n">num_nodes</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="p">{};</span> <span class="c1">// ËøîÂõûÁ©∫ÂàóË°®Ë°®Á§∫Â≠òÂú®ÁéØÔºåÊó†Ê≥ïËøõË°åÊãìÊâëÊéíÂ∫è
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">topological_order</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="ÁªÑÂêàÊï∞ÈÄíÊé®ÂÖ≥Á≥ª">ÁªÑÂêàÊï∞ÈÄíÊé®ÂÖ≥Á≥ª
</h2><p>ÁªÑÂêàÊï∞ÈÅµÂæ™Â∏ïÊñØÂç°ÊÅíÁ≠âÂºèÔºàPascal&rsquo;s IdentityÔºâÔºö
</p>
$$C(n, k) = C(n-1, k-1) + C(n-1, k)$$<p>
Ê≠§ÂÖ¨ÂºèÈÄÇÁî®‰∫é $1 \le k \le n-1$„ÄÇ</p>
<p><strong>ËæπÁïåÊù°‰ª∂</strong> (Base Cases):</p>
<ol>
<li>$C(n, 0) = 1$  ÔºàÂØπ‰∫é $n \ge 0$ÔºâÔºö‰ªé $n$ ‰∏™ÂÖÉÁ¥†‰∏≠ÈÄâ 0 ‰∏™ÔºåÂè™Êúâ‰∏ÄÁßçÊñπÊ≥ïÔºàÈÄâÊã©Á©∫ÈõÜÔºâ„ÄÇ</li>
<li>$C(n, n) = 1$  ÔºàÂØπ‰∫é $n \ge 0$ÔºâÔºö‰ªé $n$ ‰∏™ÂÖÉÁ¥†‰∏≠ÈÄâ $n$ ‰∏™ÔºåÂè™Êúâ‰∏ÄÁßçÊñπÊ≥ïÔºàÈÄâÊã©ÊâÄÊúâÂÖÉÁ¥†Ôºâ„ÄÇ</li>
<li>$C(n, k) = 0$  Â¶ÇÊûú $k &gt; n$ Êàñ $k &lt; 0$„ÄÇ</li>
</ol>
<p>ËøôÊù°ÈÄíÊé®ÂÖ≥Á≥ªÊòØÊûÑÂª∫Â∏ïÊñØÂç°‰∏âËßíÂΩ¢ÁöÑÂü∫Á°Ä„ÄÇ</p>
<hr>
<h3 id="c-ËÆ°ÁÆóÁªÑÂêàÊï∞‰ª£Á†Å">C++ ËÆ°ÁÆóÁªÑÂêàÊï∞‰ª£Á†Å
</h3><p>‰∏ãÈù¢ÊòØ‰∏Ä‰∏™‰ΩøÁî®Âä®ÊÄÅËßÑÂàíÔºàÂü∫‰∫é‰∏äËø∞ÈÄíÊé®ÂÖ≥Á≥ªÂπ∂‰ºòÂåñÁ©∫Èó¥Â§çÊùÇÂ∫¶ÔºâËÆ°ÁÆóÁªÑÂêàÊï∞ÁöÑ C++ ÂáΩÊï∞„ÄÇËØ•ÊñπÊ≥ïÈÄöÂ∏∏Áß∞‰∏∫‚ÄúÊù®Ëæâ‰∏âËßí‚ÄùÊàñ‚ÄúÂ∏ïÊñØÂç°‰∏âËßíÂΩ¢‚ÄùÁöÑÈÄêË°åËÆ°ÁÆó„ÄÇ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;vector&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;algorithm&gt;</span><span class="cp"> </span><span class="c1">// Áî®‰∫é std::min
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="c1">// ÂáΩÊï∞ËÆ°ÁÆóÁªÑÂêàÊï∞ C(n, k)
</span></span></span><span class="line"><span class="cl"><span class="c1">// ËøîÂõû long long Á±ªÂûã‰ª•Â§ÑÁêÜËæÉÂ§ßÁöÑÁªìÊûú
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kt">long</span> <span class="kt">long</span> <span class="nf">combinations</span><span class="p">(</span><span class="kt">int</span> <span class="n">n</span><span class="p">,</span> <span class="kt">int</span> <span class="n">k</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Â§ÑÁêÜÊó†ÊïàËæìÂÖ•ÊàñËæπÁïåÊÉÖÂÜµÔºök &lt; 0 Êàñ k &gt; n
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">if</span> <span class="p">(</span><span class="n">k</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">||</span> <span class="n">k</span> <span class="o">&gt;</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// ËæπÁïåÊÉÖÂÜµÔºöC(n, 0) = 1, C(n, n) = 1
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">if</span> <span class="p">(</span><span class="n">k</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">||</span> <span class="n">k</span> <span class="o">==</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// ‰ºòÂåñÔºöC(n, k) = C(n, n - k)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// ÈÄâÊã©ËæÉÂ∞èÁöÑ k ÂèØ‰ª•ÂáèÂ∞ëËÆ°ÁÆóÈáèÂíåÁ©∫Èó¥ÈúÄÊ±Ç
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">if</span> <span class="p">(</span><span class="n">k</span> <span class="o">&gt;</span> <span class="n">n</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">k</span> <span class="o">=</span> <span class="n">n</span> <span class="o">-</span> <span class="n">k</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// ÂàõÂª∫‰∏Ä‰∏™Â§ßÂ∞è‰∏∫ k+1 ÁöÑÂä®ÊÄÅËßÑÂàíÊï∞ÁªÑ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// dp[j] Â∞ÜÂ≠òÂÇ® C(current_row, j)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">long</span> <span class="kt">long</span><span class="o">&gt;</span> <span class="n">dp</span><span class="p">(</span><span class="n">k</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// ÂàùÂßãÂåñÂü∫Á°ÄÊÉÖÂÜµ C(any_row, 0) = 1
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">dp</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// ÈÄêË°åËÆ°ÁÆóÂ∏ïÊñØÂç°‰∏âËßíÂΩ¢ÁöÑÂΩìÂâçË°åÂÄº
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// Â§ñÂ±ÇÂæ™ÁéØ‰ª£Ë°®Ë°åÊï∞ i (‰ªé 1 Âà∞ n)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// ÂÜÖÂ±ÇÂæ™ÁéØ‰ª£Ë°®ÂΩìÂâçË°å‰∏≠ÁöÑÂÖÉÁ¥† j (‰ªé min(i, k) Âà∞ 1)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="c1">// ‰ªéÂè≥ÂêëÂ∑¶ËÆ°ÁÆóÔºå‰ª•Âà©Áî®‰∏ä‰∏ÄË°å (i-1) ÁöÑÂÄº
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="c1">// dp[j] (Êñ∞) = dp[j] (Êóß) + dp[j-1] (Êóß)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="c1">// Âç≥ C(i, j) = C(i-1, j) + C(i-1, j-1)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">k</span><span class="p">);</span> <span class="n">j</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">;</span> <span class="o">--</span><span class="n">j</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">dp</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">dp</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">+</span> <span class="n">dp</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// ÊúÄÁªàÁªìÊûúÂ≠òÂÇ®Âú® dp[k] ‰∏≠
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">return</span> <span class="n">dp</span><span class="p">[</span><span class="n">k</span><span class="p">];</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/*
</span></span></span><span class="line"><span class="cl"><span class="cm">// Á§∫‰æãÁî®Ê≥ïÔºö
</span></span></span><span class="line"><span class="cl"><span class="cm">#include &lt;iostream&gt;
</span></span></span><span class="line"><span class="cl"><span class="cm">int main() {
</span></span></span><span class="line"><span class="cl"><span class="cm">    int n = 5;
</span></span></span><span class="line"><span class="cl"><span class="cm">    int k = 2;
</span></span></span><span class="line"><span class="cl"><span class="cm">    std::cout &lt;&lt; &#34;C(&#34; &lt;&lt; n &lt;&lt; &#34;, &#34; &lt;&lt; k &lt;&lt; &#34;) = &#34; &lt;&lt; combinations(n, k) &lt;&lt; std::endl; // ËæìÂá∫ C(5, 2) = 10
</span></span></span><span class="line"><span class="cl"><span class="cm">
</span></span></span><span class="line"><span class="cl"><span class="cm">    n = 10;
</span></span></span><span class="line"><span class="cl"><span class="cm">    k = 3;
</span></span></span><span class="line"><span class="cl"><span class="cm">    std::cout &lt;&lt; &#34;C(&#34; &lt;&lt; n &lt;&lt; &#34;, &#34; &lt;&lt; k &lt;&lt; &#34;) = &#34; &lt;&lt; combinations(n, k) &lt;&lt; std::endl; // ËæìÂá∫ C(10, 3) = 120
</span></span></span><span class="line"><span class="cl"><span class="cm">    
</span></span></span><span class="line"><span class="cl"><span class="cm">    n = 67; // ÂØπ‰∫éÊõ¥Â§ßÁöÑ n, k Ê≥®ÊÑè long long Ê∫¢Âá∫
</span></span></span><span class="line"><span class="cl"><span class="cm">    k = 33;
</span></span></span><span class="line"><span class="cl"><span class="cm">    // C(67,33) Á∫¶‰∏∫ 1.4 * 10^19ÔºåÊé•Ëøë long long ‰∏äÈôê
</span></span></span><span class="line"><span class="cl"><span class="cm">    std::cout &lt;&lt; &#34;C(&#34; &lt;&lt; n &lt;&lt; &#34;, &#34; &lt;&lt; k &lt;&lt; &#34;) = &#34; &lt;&lt; combinations(n, k) &lt;&lt; std::endl; 
</span></span></span><span class="line"><span class="cl"><span class="cm">
</span></span></span><span class="line"><span class="cl"><span class="cm">    return 0;
</span></span></span><span class="line"><span class="cl"><span class="cm">}
</span></span></span><span class="line"><span class="cl"><span class="cm">*/</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="ÊõºÂìàÈ°øË∑ùÁ¶ªÁ≠â‰ª∑ÂÖ¨ÂºèÊé®ÂØº">ÊõºÂìàÈ°øË∑ùÁ¶ªÁ≠â‰ª∑ÂÖ¨ÂºèÊé®ÂØº
</h2><p>ÁªôÂÆö‰∏§‰∏™ÁÇπ $A(x_1, y_1)$ Âíå $B(x_2, y_2)$„ÄÇ
Ê†áÂáÜÁöÑÊõºÂìàÈ°øË∑ùÁ¶ªÂÆö‰πâ‰∏∫Ôºö
</p>
$$d_M(A,B) = |x_1-x_2| + |y_1-y_2|$$<p>ÊÇ®ÁªôÂá∫ÁöÑÂÖ¨ÂºèÊòØÔºö
</p>
$$s(A,B) = \max(|(x_1+y_1)-(x_2+y_2)|, |(x_1-y_1)-(x_2-y_2)|)$$<p>Êàë‰ª¨ÈúÄË¶ÅËØÅÊòéËøô‰∏§‰∏™ÂÖ¨ÂºèÊòØÁ≠â‰ª∑ÁöÑ„ÄÇ
ËÆæ $\Delta x = x_1-x_2$ ‰∏î $\Delta y = y_1-y_2$„ÄÇ
ÈÇ£‰πàÔºåÊ†áÂáÜÊõºÂìàÈ°øË∑ùÁ¶ªÂèØ‰ª•ÂÜô‰Ωú $|\Delta x| + |\Delta y|$„ÄÇ
ÊÇ®ÁªôÂá∫ÁöÑÂÖ¨ÂºèÂèØ‰ª•ÂÜô‰Ωú $\max(|(\Delta x + \Delta y)|, |(\Delta x - \Delta y)|)$„ÄÇ</p>
<p>Âõ†Ê≠§ÔºåÊ†∏ÂøÉÊòØËØÅÊòé‰ª•‰∏ãÊÅíÁ≠âÂºèÔºö
</p>
$$|\Delta x| + |\Delta y| = \max(|\Delta x + \Delta y|, |\Delta x - \Delta y|)$$<p>‰∏∫‰∫ÜÁÆÄÂåñ‰π¶ÂÜôÔºåÊàë‰ª¨‰ª§ $X = \Delta x$Ôºå$Y = \Delta y$„ÄÇÈúÄË¶ÅËØÅÊòéÁöÑÊÅíÁ≠âÂºèÂç≥Ôºö
</p>
$$|X| + |Y| = \max(|X+Y|, |X-Y|)$$<p><strong>ËØÅÊòéËøáÁ®ãÂ¶Ç‰∏ãÔºö</strong></p>
<p>Áî±‰∫éÁ≠âÂºè‰∏§ËæπÂùá‰∏∫ÈùûË¥üÂÄºÔºåÊàë‰ª¨ÂèØ‰ª•ÈÄöËøáÊØîËæÉÂÆÉ‰ª¨Âπ≥ÊñπÂÄºÊù•ËØÅÊòéÁ≠âÂºèÊàêÁ´ã„ÄÇ</p>
<ol>
<li>
<p><strong>ËÆ°ÁÆóÂ∑¶ÊâãËæπ (LHS) ÁöÑÂπ≥ÊñπÔºö</strong>
</p>
$$(|X| + |Y|)^2 = |X|^2 + 2|X||Y| + |Y|^2 = X^2 + 2|XY| + Y^2$$</li>
<li>
<p><strong>ËÆ°ÁÆóÂè≥ÊâãËæπ (RHS) ÁöÑÂπ≥ÊñπÔºö</strong>
</p>
$$(\max(|X+Y|, |X-Y|))^2 = \max(|X+Y|^2, |X-Y|^2)$$<p>   </p>
$$= \max((X+Y)^2, (X-Y)^2)$$<p>   </p>
$$= \max(X^2+2XY+Y^2, X^2-2XY+Y^2)$$</li>
<li>
<p><strong>ÊØîËæÉÂπ≥ÊñπÁªìÊûúÔºö</strong>
Êàë‰ª¨ÈúÄË¶ÅËØÅÊòé $X^2 + Y^2 + 2|XY| = \max(X^2+2XY+Y^2, X^2-2XY+Y^2)$„ÄÇ
‰ª§ $P = X^2+Y^2$ Âíå $Q = 2XY$„ÄÇ
ÈÇ£‰πàÔºå‰∏äËø∞Á≠âÂºèÂèØ‰ª•ÊîπÂÜô‰∏∫ËØÅÊòéÔºö
</p>
$$P + |Q| = \max(P+Q, P-Q)$$<p>Êàë‰ª¨ÂàÜ‰∏§ÁßçÊÉÖÂÜµËÆ®ËÆ∫ $Q$ ÁöÑÁ¨¶Âè∑Ôºö</p>
<ul>
<li>
<p><strong>ÊÉÖÂÜµ‰∏ÄÔºö$Q \ge 0$</strong>
Ê≠§Êó∂Ôºå$|Q| = Q$„ÄÇ
ÊâÄ‰ª• $P+|Q| = P+Q$„ÄÇ
ÂêåÊó∂Ôºå$\max(P+Q, P-Q) = P+Q$ ÔºàÂõ†‰∏∫ $Q \ge 0 \implies P+Q \ge P-Q$Ôºâ„ÄÇ
Âõ†Ê≠§Ôºå$P+Q = P+Q$ÔºåÁ≠âÂºèÊàêÁ´ã„ÄÇ</p>
</li>
<li>
<p><strong>ÊÉÖÂÜµ‰∫åÔºö$Q &lt; 0$</strong>
Ê≠§Êó∂Ôºå$|Q| = -Q$„ÄÇ
ÊâÄ‰ª• $P+|Q| = P-Q$„ÄÇ
ÂêåÊó∂Ôºå$\max(P+Q, P-Q) = P-Q$ ÔºàÂõ†‰∏∫ $Q &lt; 0 \implies P-Q &gt; P+Q$Ôºâ„ÄÇ
Âõ†Ê≠§Ôºå$P-Q = P-Q$ÔºåÁ≠âÂºèÊàêÁ´ã„ÄÇ</p>
</li>
</ul>
<p>Áî±‰∫éÂú®ÊâÄÊúâÊÉÖÂÜµ‰∏ã $P+|Q| = \max(P+Q, P-Q)$ ÈÉΩÊàêÁ´ãÔºåÊâÄ‰ª•Êàë‰ª¨ËØÅÊòé‰∫ÜÔºö
</p>
$$X^2 + Y^2 + 2|XY| = \max(X^2+2XY+Y^2, X^2-2XY+Y^2)$$<p>
ËøôÊÑèÂë≥ÁùÄÔºö
</p>
$$(|X| + |Y|)^2 = (\max(|X+Y|, |X-Y|))^2$$</li>
<li>
<p><strong>ÂèñÂπ≥ÊñπÊ†πÔºö</strong>
Áî±‰∫é $|X|+|Y|$ Âíå $\max(|X+Y|, |X-Y|)$ Âùá‰∏∫ÈùûË¥üÂÄºÔºåÂØπ‰∏§ËæπÂèñÂπ≥ÊñπÊ†πÔºåÁ≠âÂºè‰æùÁÑ∂ÊàêÁ´ãÔºö
</p>
$$|X| + |Y| = \max(|X+Y|, |X-Y|)$$</li>
</ol>
<p>Â∞Ü $X = x_1-x_2$ Âíå $Y = y_1-y_2$ ‰ª£Âõû‰∏äÂºèÔºö
</p>
$$|x_1-x_2| + |y_1-y_2| = \max(|(x_1-x_2) + (y_1-y_2)|, |(x_1-x_2) - (y_1-y_2)|)$$<p>Êï¥ÁêÜÊã¨Âè∑ÂÜÖÈÉ®Ôºö</p>
$$|x_1-x_2| + |y_1-y_2| = \max(|(x_1+y_1) - (x_2+y_2)|, |(x_1-y_1) - (x_2-y_2)|)$$<p>ËøôÂ∞±ËØÅÊòé‰∫ÜÊÇ®ÁªôÂá∫ÁöÑÂÖ¨Âºè $s(A,B)$ Á°ÆÂÆûÁ≠â‰ª∑‰∫éÊ†áÂáÜÊõºÂìàÈ°øË∑ùÁ¶ª $d_M(A,B)$„ÄÇ</p>
<p>ËøôÁßçÂùêÊ†áÂèòÊç¢ $(x,y) \to (x+y, x-y)$ ÂÆûË¥®‰∏äÊòØÂ∞ÜÂùêÊ†áÁ≥ªÊóãËΩ¨45Â∫¶Âπ∂ËøõË°åÊãâ‰º∏ÔºåÊõºÂìàÈ°øË∑ùÁ¶ªÂú®ÂéüÂùêÊ†áÁ≥ª‰∏ãÁöÑËÆ°ÁÆóÁ≠â‰ª∑‰∫éÊñ∞ÂùêÊ†áÁ≥ª‰∏ãÁöÑÂàáÊØîÈõ™Â§´Ë∑ùÁ¶ªÔºà$L_\infty$ ËåÉÊï∞Ôºâ„ÄÇ</p>

</section>


    <footer class="article-footer">
    

    
    <section class="article-copyright">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <path d="M14.5 9a3.5 4 0 1 0 0 6" />
</svg>



        <span>CC BY-NC-ND</span>
    </section>
    <section class="article-lastmod">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



        <span>
            Last updated on Oct 09, 2020 00:00 UTC
        </span>
    </section></footer>


    
</article>

    

    

<aside class="related-content--wrapper">
    <h2 class="section-title">Related content</h2>
    <div class="related-content">
        <div class="flex article-list--tile">
            
                
<article class="">
    <a href="/huyang/p/bellman_%E6%97%A0%E8%B4%9F%E7%8E%AF/">
        
        

        <div class="article-details">
            <h2 class="article-title">Bellman_Êó†Ë¥üÁéØ</h2>
        </div>
    </a>
</article>

            
                
<article class="">
    <a href="/huyang/p/bfs_%E5%8D%95%E5%85%83%E6%9D%83%E8%BE%B9/">
        
        

        <div class="article-details">
            <h2 class="article-title">Bfs_ÂçïÂÖÉÊùÉËæπ</h2>
        </div>
    </a>
</article>

            
                
<article class="">
    <a href="/huyang/p/dag%E6%8B%93%E6%89%91%E6%8E%92%E5%BA%8F/">
        
        

        <div class="article-details">
            <h2 class="article-title">DagÊãìÊâëÊéíÂ∫è</h2>
        </div>
    </a>
</article>

            
                
<article class="">
    <a href="/huyang/p/dijastra_%E6%AD%A3%E6%9D%83%E8%BE%B9/">
        
        

        <div class="article-details">
            <h2 class="article-title">Dijastra_Ê≠£ÊùÉËæπ</h2>
        </div>
    </a>
</article>

            
                
<article class="">
    <a href="/huyang/p/kmp%E7%AE%97%E6%B3%95/">
        
        

        <div class="article-details">
            <h2 class="article-title">KmpÁÆóÊ≥ï</h2>
        </div>
    </a>
</article>

            
        </div>
    </div>
</aside>

     
    
        
    <div class="disqus-container">
    <div id="disqus_thread"></div>
<script>
    window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "hugo-theme-stack" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>

<style>
    .disqus-container {
        background-color: var(--card-background);
        border-radius: var(--card-border-radius);
        box-shadow: var(--shadow-l1);
        padding: var(--card-padding);
    }
</style>

<script>
    window.addEventListener('onColorSchemeChange', (e) => {
        if (typeof DISQUS == 'object') {
            DISQUS.reset({
                reload: true
            });
        }
    })
</script>

    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
            2020 - 
        
        2025 Hu Yang
    </section>
    
    <section class="powerby">
        Built with <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> <br />
        Theme <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.30.0">Stack</a></b> designed by <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a>
    </section>

    
<section class="running-time">
    Êú¨ÂçöÂÆ¢Â∑≤Á®≥ÂÆöËøêË°å
    <span id="runningdays" class="running-days"></span>
    </section>
    
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/huyang/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

<script
    src="https://cdn.jsdelivr.net/gh/zhixuan2333/gh-blog@v0.1.0/js/ribbon.min.js"
    integrity="sha384-UEK8ZiP3VgFNP8KnKMKDmd4pAUAOJ59Y2Jo3ED2Z5qKQf6HLHovMxq7Beb9CLPUe"
    crossorigin="anonymous"
    size="300"
    alpha="0.6"
    zindex="-1"
    defer
></script>


<a href="#" id="back-to-top" title="ËøîÂõûÈ°∂ÈÉ®"></a>


<style>
  #back-to-top {
    display: none;
    position: fixed;
    bottom: 5px;
    right: 15px;
    width: 40px;  
    height: 40px;  
    border-radius: 50%;  
    background-color: var(--body-background);
    box-shadow: var(--shadow-l2);
    font-size: 20px;  
    text-align: center;
    line-height: 38px;  
    cursor: pointer;
    transition:
      transform 0.3s ease,
      background-color 0.3s ease;  
  }

  #back-to-top:before {
    content: "";
    display: inline-block;
    position: relative;
    transform: rotate(135deg);
    height: 8px;  
    width: 8px;  
    border-width: 0 0 2px 2px;
    border-color: var(--back-to-top-color);
    border-style: solid;
  }

  #back-to-top:hover {
    transform: scale(1.1);  
    background-color: var(--accent-background);  
  }

  #back-to-top:hover:before {
    border-color: var(--accent-color);  
  }

   
  @media screen and (max-width: 768px) {
    #back-to-top {
      bottom: 5px;
      right: var(--container-padding);
      width: 30px;  
      height: 30px;
      font-size: 16px;
      line-height: 32px;
    }
  }

  @media screen and (min-width: 1024px) {
    #back-to-top {
      bottom: 10px;
      right: 20px;
    }
  }

  @media screen and (min-width: 1280px) {
    #back-to-top {
      bottom: 15px;
      right: 25px;
    }
  }

  @media screen and (min-width: 1536px) {
    #back-to-top {
      bottom: 15px;
      right: 25px;
       
    }
  }
</style>



<script>
    let s1 = '2025-5-18'; 
    s1 = new Date(s1.replace(/-/g, "/"));
    let s2 = new Date();
    let timeDifference = s2.getTime() - s1.getTime();

    let days = Math.floor(timeDifference / (1000 * 60 * 60 * 24));
    let hours = Math.floor((timeDifference % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
    let minutes = Math.floor((timeDifference % (1000 * 60 * 60)) / (1000 * 60));

    let result = days + "Â§©" + hours + "Â∞èÊó∂" + minutes + "ÂàÜÈíü";
    document.getElementById('runningdays').innerHTML = result;
</script>




<script
    src="https://cdn.jsdelivr.net/gh/zhixuan2333/gh-blog@v0.1.0/js/nprogress.min.js"
    integrity="sha384-bHDlAEUFxsRI7JfULv3DTpL2IXbbgn4JHQJibgo5iiXSK6Iu8muwqHANhun74Cqg"
    crossorigin="anonymous"
></script>
<link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/gh/zhixuan2333/gh-blog@v0.1.0/css/nprogress.css"
    integrity="sha384-KJyhr2syt5+4M9Pz5dipCvTrtvOmLk/olWVdfhAp858UCa64Ia5GFpTN7+G4BWpE"
    crossorigin="anonymous"
/>
<script>
    NProgress.start();
    document.addEventListener("readystatechange", () => {
        if (document.readyState === "interactive") NProgress.inc(0.8);
        if (document.readyState === "complete") NProgress.done();
    });
</script>


    </body>
</html>
